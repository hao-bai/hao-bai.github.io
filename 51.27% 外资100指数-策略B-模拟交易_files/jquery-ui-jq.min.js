/*20200924094305*/

/*! jQuery UI - v1.9.1 - 2012-10-25* http://jqueryui.com* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js* Copyright 2012 jQuery Foundation and other contributors; Licensed MIT */(function(f,b){function a(j,m){var k,h,l,e=j.nodeName.toLowerCase();return"area"===e?(k=j.parentNode,h=k.name,!j.href||!h||k.nodeName.toLowerCase()!=="map"?!1:(l=f("img[usemap=#"+h+"]")[0],!!l&&c(l))):(/input|select|textarea|button|object/.test(e)?!j.disabled:"a"===e?j.href||m:m)&&c(j)}function c(e){return f.expr.filters.visible(e)&&!f(e).parents().andSelf().filter(function(){return f.css(this,"visibility")==="hidden"}).length}var g=0,d=/^ui-id-\d+$/;f.ui=f.ui||{};if(f.ui.version){return}f.extend(f.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),f.fn.extend({_focus:f.fn.focus,focus:function(e,h){return typeof e=="number"?this.each(function(){var i=this;setTimeout(function(){f(i).focus(),h&&h.call(i)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return f.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?e=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.css(this,"position"))&&/(auto|scroll)/.test(f.css(this,"overflow")+f.css(this,"overflow-y")+f.css(this,"overflow-x"))}).eq(0):e=this.parents().filter(function(){return/(auto|scroll)/.test(f.css(this,"overflow")+f.css(this,"overflow-y")+f.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?f(document):e},zIndex:function(k){if(k!==b){return this.css("zIndex",k)}if(this.length){var j=f(this[0]),e,h;while(j.length&&j[0]!==document){e=j.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){h=parseInt(j.css("zIndex"),10);if(!isNaN(h)&&h!==0){return h}}j=j.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++g)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&f(this).removeAttr("id")})}}),f("<a>").outerWidth(1).jquery||f.each(["Width","Height"],function(m,k){function e(i,q,p,o){return f.each(h,function(){q-=parseFloat(f.css(i,"padding"+this))||0,p&&(q-=parseFloat(f.css(i,"border"+this+"Width"))||0),o&&(q-=parseFloat(f.css(i,"margin"+this))||0)}),q}var h=k==="Width"?["Left","Right"]:["Top","Bottom"],j=k.toLowerCase(),l={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+k]=function(i){return i===b?l["inner"+k].call(this):this.each(function(){f(this).css(j,e(this,i)+"px")})},f.fn["outer"+k]=function(i,o){return typeof i!="number"?l["outer"+k].call(this,i):this.each(function(){f(this).css(j,e(this,i,!0,o)+"px")})}}),f.extend(f.expr[":"],{data:f.expr.createPseudo?f.expr.createPseudo(function(e){return function(h){return !!f.data(h,e)}}):function(e,i,h){return !!f.data(e,h[3])},focusable:function(e){return a(e,!isNaN(f.attr(e,"tabindex")))},tabbable:function(e){var i=f.attr(e,"tabindex"),h=isNaN(i);return(h||i>=0)&&a(e,!h)}}),f(function(){var e=document.body,h=e.appendChild(h=document.createElement("div"));h.offsetHeight,f.extend(h.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),f.support.minHeight=h.offsetHeight===100,f.support.selectstart="onselectstart" in h,e.removeChild(h).style.display="none"}),function(){var e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];f.ui.ie=e.length?!0:!1,f.ui.ie6=parseFloat(e[1],10)===6}(),f.fn.extend({disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(h){h.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.extend(f.ui,{plugin:{add:function(h,l,k){var e,j=f.ui[h].prototype;for(e in k){j.plugins[e]=j.plugins[e]||[],j.plugins[e].push([l,k[e]])}},call:function(l,j,m){var k,h=l.plugins[j];if(!h||!l.element[0].parentNode||l.element[0].parentNode.nodeType===11){return}for(k=0;k<h.length;k++){l.options[h[k][0]]&&h[k][1].apply(l.element,m)}}},contains:f.contains,hasScroll:function(h,k){if(f(h).css("overflow")==="hidden"){return !1}var j=k&&k==="left"?"scrollLeft":"scrollTop",e=!1;return h[j]>0?!0:(h[j]=1,e=h[j]>0,h[j]=0,e)},isOverAxis:function(i,h,j){return i>h&&i<h+j},isOver:function(h,m,k,e,j,l){return f.ui.isOverAxis(h,k,j)&&f.ui.isOverAxis(m,e,l)}})})(jQuery),function(d,b){var f=0,c=Array.prototype.slice,a=d.cleanData;d.cleanData=function(e){for(var i=0,h;(h=e[i])!=null;i++){try{d(h).triggerHandler("remove")}catch(g){}}a(e)},d.widget=function(j,p,l){var h,k,m,g,e=j.split(".")[0];j=j.split(".")[1],h=e+"-"+j,l||(l=p,p=d.Widget),d.expr[":"][h.toLowerCase()]=function(i){return !!d.data(i,h)},d[e]=d[e]||{},k=d[e][j],m=d[e][j]=function(n,i){if(!this._createWidget){return new m(n,i)}arguments.length&&this._createWidget(n,i)},d.extend(m,k,{version:l.version,_proto:d.extend({},l),_childConstructors:[]}),g=new p,g.options=d.widget.extend({},g.options),d.each(l,function(o,n){d.isFunction(n)&&(l[o]=function(){var q=function(){return p.prototype[o].apply(this,arguments)},i=function(r){return p.prototype[o].apply(this,r)};return function(){var r=this._super,v=this._superApply,u;return this._super=q,this._superApply=i,u=n.apply(this,arguments),this._super=r,this._superApply=v,u}}())}),m.prototype=d.widget.extend(g,{widgetEventPrefix:g.widgetEventPrefix||j},l,{constructor:m,namespace:e,widgetName:j,widgetBaseClass:h,widgetFullName:h}),k?(d.each(k._childConstructors,function(i,q){var o=q.prototype;d.widget(o.namespace+"."+o.widgetName,m,q._proto)}),delete k._childConstructors):p._childConstructors.push(m),d.widget.bridge(j,m)},d.widget.extend=function(l){var h=c.call(arguments,1),j=0,k=h.length,g,e;for(;j<k;j++){for(g in h[j]){e=h[j][g],h[j].hasOwnProperty(g)&&e!==b&&(d.isPlainObject(e)?l[g]=d.isPlainObject(l[g])?d.widget.extend({},l[g],e):d.widget.extend({},e):l[g]=e)}}return l},d.widget.bridge=function(h,e){var g=e.prototype.widgetFullName;d.fn[h]=function(l){var j=typeof l=="string",i=c.call(arguments,1),k=this;return l=!j&&i.length?d.widget.extend.apply(null,[l].concat(i)):l,j?this.each(function(){var n,m=d.data(this,g);if(!m){return d.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+l+"'")}if(!d.isFunction(m[l])||l.charAt(0)==="_"){return d.error("no such method '"+l+"' for "+h+" widget instance")}n=m[l].apply(m,i);if(n!==m&&n!==b){return k=n&&n.jquery?k.pushStack(n.get()):n,!1}}):this.each(function(){var m=d.data(this,g);m?m.option(l||{})._init():new e(l,this)}),k}},d.Widget=function(){},d.Widget._childConstructors=[],d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,g){g=d(g||this.defaultElement||this)[0],this.element=d(g),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=d.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=d(),this.hoverable=d(),this.focusable=d(),g!==this&&(d.data(g,this.widgetName,this),d.data(g,this.widgetFullName,this),this._on(this.element,{remove:function(h){h.target===g&&this.destroy()}}),this.document=d(g.style?g.ownerDocument:g.document||g),this.window=d(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(l,j){var g=l,h,k,e;if(arguments.length===0){return d.widget.extend({},this.options)}if(typeof l=="string"){g={},h=l.split("."),l=h.shift();if(h.length){k=g[l]=d.widget.extend({},this.options[l]);for(e=0;e<h.length-1;e++){k[h[e]]=k[h[e]]||{},k=k[h[e]]}l=h.pop();if(j===b){return k[l]===b?null:k[l]}k[l]=j}else{if(j===b){return this.options[l]===b?null:this.options[l]}g[l]=j}}return this._setOptions(g),this},_setOptions:function(h){var g;for(g in h){this._setOption(g,h[g])}return this},_setOption:function(h,g){return this.options[h]=g,h==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(g,j){var h,e=this;j?(g=h=d(g),this.bindings=this.bindings.add(g)):(j=g,g=this.element,h=this.widget()),d.each(j,function(q,l){function p(){if(e.options.disabled===!0||d(this).hasClass("ui-state-disabled")){return}return(typeof l=="string"?e[l]:l).apply(e,arguments)}typeof l!="string"&&(p.guid=l.guid=l.guid||p.guid||d.guid++);var k=q.match(/^(\w+)\s*(.*)$/),i=k[1]+e.eventNamespace,m=k[2];m?h.delegate(m,i,p):g.bind(i,p)})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,h.unbind(g).undelegate(g)},_delay:function(i,g){function j(){return(typeof i=="string"?h[i]:i).apply(h,arguments)}var h=this;return setTimeout(j,g||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(g){d(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){d(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(g){d(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){d(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(g,l,j){var e,h,k=this.options[g];j=j||{},l=d.Event(l),l.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase(),l.target=this.element[0],h=l.originalEvent;if(h){for(e in h){e in l||(l[e]=h[e])}}return this.element.trigger(l,j),!(d.isFunction(k)&&k.apply(this.element[0],[l].concat(j))===!1||l.isDefaultPrevented())}},d.each({show:"fadeIn",hide:"fadeOut"},function(e,g){d.Widget.prototype["_"+e]=function(l,j,k){typeof j=="string"&&(j={effect:j});var m,h=j?j===!0||typeof j=="number"?g:j.effect||g:e;j=j||{},typeof j=="number"&&(j={duration:j}),m=!d.isEmptyObject(j),j.complete=k,j.delay&&l.delay(j.delay),m&&d.effects&&(d.effects.effect[h]||d.uiBackCompat!==!1&&d.effects[h])?l[e](j):h!==e&&l[h]?l[h](j.duration,j.easing,k):l.queue(function(i){d(this)[e](),k&&k.call(l[0]),i()})}}),d.uiBackCompat!==!1&&(d.Widget.prototype._getCreateOptions=function(){return d.metadata&&d.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(b,a){var c=!1;b(document).mouseup(function(d){c=!1}),b.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(f){return d._mouseDown(f)}).bind("click."+this.widgetName,function(e){if(!0===b.data(e.target,d.widgetName+".preventClickEvent")){return b.removeData(e.target,d.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(c){return}this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var g=this,d=e.which===1,f=typeof this.options.cancel=="string"&&e.target.nodeName?b(e.target).closest(this.options.cancel).length:!1;if(!d||f||!this._mouseCapture(e)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==!1;if(!this._mouseStarted){return e.preventDefault(),!0}}return !0===b.data(e.target,this.widgetName+".preventClickEvent")&&b.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(h){return g._mouseMove(h)},this._mouseUpDelegate=function(h){return g._mouseUp(h)},b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0,!0},_mouseMove:function(d){return !b.ui.ie||document.documentMode>=9||!!d.button?this._mouseStarted?(this._mouseDrag(d),d.preventDefault()):(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==!1,this._mouseStarted?this._mouseDrag(d):this._mouseUp(d)),!this._mouseStarted):this._mouseUp(d)},_mouseUp:function(d){return b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,d.target===this._mouseDownEvent.target&&b.data(d.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(d)),!1},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(d){return this.mouseDelayMet},_mouseStart:function(d){},_mouseDrag:function(d){},_mouseStop:function(d){},_mouseCapture:function(d){return !0}})}(jQuery),function(b,a){b.widget("ui.draggable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;return this.helper||d.disabled||b(c.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(c),this.handle?(b(d.iframeFix===!0?"iframe":d.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(b(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(c){var d=this.options;return this.helper=this._createHelper(c),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(c),this.originalPageX=c.pageX,this.originalPageY=c.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),d.containment&&this._setContainment(),this._trigger("start",c)===!1?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,c),this._mouseDrag(c,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,c),!0)},_mouseDrag:function(c,e){this.position=this._generatePosition(c),this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===!1){return this._mouseUp({}),!1}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}return b.ui.ddmanager&&b.ui.ddmanager.drag(this,c),!1},_mouseStop:function(d){var g=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(g=b.ui.ddmanager.drop(this,d)),this.dropped&&(g=this.dropped,this.dropped=!1);var f=this.element[0],c=!1;while(f&&(f=f.parentNode)){f==document&&(c=!0)}if(!c&&this.options.helper==="original"){return !1}if(this.options.revert=="invalid"&&!g||this.options.revert=="valid"&&g||this.options.revert===!0||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)){var e=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",d)!==!1&&e._clear()})}else{this._trigger("stop",d)!==!1&&this._clear()}return !1},_mouseUp:function(c){return b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,c),b.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(c){var d=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;return b(this.options.handle,this.element).find("*").andSelf().each(function(){this==c.target&&(d=!0)}),d},_createHelper:function(c){var e=this.options,d=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[c])):e.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(e.appendTo=="parent"?this.element[0].parentNode:e.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" ")),b.isArray(c)&&(c={left:+c[0],top:+c[1]||0}),"left" in c&&(this.offset.click.left=c.left+this.margins.left),"right" in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left),"top" in c&&(this.offset.click.top=c.top+this.margins.top),"bottom" in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.ui.ie){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;d.containment=="parent"&&(d.containment=this.helper[0].parentNode);if(d.containment=="document"||d.containment=="window"){this.containment=[d.containment=="document"?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d.containment=="document"?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(d.containment=="document"?0:b(window).scrollLeft())+b(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d.containment=="document"?0:b(window).scrollTop())+(b(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(d.containment)&&d.containment.constructor!=Array){var g=b(d.containment),f=g[0];if(!f){return}var c=g.offset(),e=b(f).css("overflow")!="hidden";this.containment=[(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0),(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0),(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=g}else{d.containment.constructor==Array&&(this.containment=d.containment)}},_convertPositionTo:function(d,h){h||(h=this.position);var f=d=="absolute"?1:-1,c=this.options,e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(e[0].tagName);return{top:h.top+this.offset.relative.top*f+this.offset.parent.top*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:e.scrollTop())*f,left:h.left+this.offset.relative.left*f+this.offset.parent.left*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:e.scrollLeft())*f}},_generatePosition:function(p){var e=this.options,c=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(c[0].tagName),q=p.pageX,d=p.pageY;if(this.originalPosition){var m;if(this.containment){if(this.relative_container){var k=this.relative_container.offset();m=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{m=this.containment}p.pageX-this.offset.click.left<m[0]&&(q=m[0]+this.offset.click.left),p.pageY-this.offset.click.top<m[1]&&(d=m[1]+this.offset.click.top),p.pageX-this.offset.click.left>m[2]&&(q=m[2]+this.offset.click.left),p.pageY-this.offset.click.top>m[3]&&(d=m[3]+this.offset.click.top)}if(e.grid){var j=e.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;d=m?j-this.offset.click.top<m[1]||j-this.offset.click.top>m[3]?j-this.offset.click.top<m[1]?j+e.grid[1]:j-e.grid[1]:j:j;var g=e.grid[0]?this.originalPageX+Math.round((q-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;q=m?g-this.offset.click.left<m[0]||g-this.offset.click.left>m[2]?g-this.offset.click.left<m[0]?g+e.grid[0]:g-e.grid[0]:g:g}}return{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:c.scrollTop()),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(c,e,d){return d=d||this._uiHash(),b.ui.plugin.call(this,c,[e,d]),c=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),b.Widget.prototype._trigger.call(this,c,e,d)},plugins:{},_uiHash:function(c){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(d,g){var f=b(this).data("draggable"),c=f.options,e=b.extend({},g,{item:f.element});f.sortables=[],b(c.connectToSortable).each(function(){var h=b.data(this,"sortable");h&&!h.options.disabled&&(f.sortables.push({instance:h,shouldRevert:h.options.revert}),h.refreshPositions(),h._trigger("activate",d,e))})},stop:function(d,f){var e=b(this).data("draggable"),c=b.extend({},f,{item:e.element});b.each(e.sortables,function(){this.instance.isOver?(this.instance.isOver=0,e.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(d),this.instance.options.helper=this.instance.options._helper,e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",d,c))})},drag:function(d,g){var f=b(this).data("draggable"),c=this,e=function(v){var k=this.offset.click.top,h=this.offset.click.left,l=this.positionAbs.top,w=this.positionAbs.left,j=v.height,q=v.width,p=v.top,m=v.left;return b.ui.isOver(l+k,w+h,p,m,j,q)};b.each(f.sortables,function(i){var j=!1,h=this;this.instance.positionAbs=f.positionAbs,this.instance.helperProportions=f.helperProportions,this.instance.offset.click=f.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(j=!0,b.each(f.sortables,function(){return this.instance.positionAbs=f.positionAbs,this.instance.helperProportions=f.helperProportions,this.instance.offset.click=f.offset.click,this!=h&&this.instance._intersectsWith(this.instance.containerCache)&&b.ui.contains(h.instance.element[0],this.instance.element[0])&&(j=!1),j})),j?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(c).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return g.helper[0]},d.target=this.instance.currentItem[0],this.instance._mouseCapture(d,!0),this.instance._mouseStart(d,!0,!0),this.instance.offset.click.top=f.offset.click.top,this.instance.offset.click.left=f.offset.click.left,this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top,f._trigger("toSortable",d),f.dropped=this.instance.element,f.currentItem=f.element,this.instance.fromOutside=f),this.instance.currentItem&&this.instance._mouseDrag(d)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",d,this.instance._uiHash(this.instance)),this.instance._mouseStop(d,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),f._trigger("fromSortable",d),f.dropped=!1)})}}),b.ui.plugin.add("draggable","cursor",{start:function(d,f){var e=b("body"),c=b(this).data("draggable").options;e.css("cursor")&&(c._cursor=e.css("cursor")),e.css("cursor",c.cursor)},stop:function(c,e){var d=b(this).data("draggable").options;d._cursor&&b("body").css("cursor",d._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(d,f){var e=b(f.helper),c=b(this).data("draggable").options;e.css("opacity")&&(c._opacity=e.css("opacity")),e.css("opacity",c.opacity)},stop:function(c,e){var d=b(this).data("draggable").options;d._opacity&&b(e.helper).css("opacity",d._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(c,e){var d=b(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(d,g){var f=b(this).data("draggable"),c=f.options,e=!1;if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x"){f.overflowOffset.top+f.scrollParent[0].offsetHeight-d.pageY<c.scrollSensitivity?f.scrollParent[0].scrollTop=e=f.scrollParent[0].scrollTop+c.scrollSpeed:d.pageY-f.overflowOffset.top<c.scrollSensitivity&&(f.scrollParent[0].scrollTop=e=f.scrollParent[0].scrollTop-c.scrollSpeed)}if(!c.axis||c.axis!="y"){f.overflowOffset.left+f.scrollParent[0].offsetWidth-d.pageX<c.scrollSensitivity?f.scrollParent[0].scrollLeft=e=f.scrollParent[0].scrollLeft+c.scrollSpeed:d.pageX-f.overflowOffset.left<c.scrollSensitivity&&(f.scrollParent[0].scrollLeft=e=f.scrollParent[0].scrollLeft-c.scrollSpeed)}}else{if(!c.axis||c.axis!="x"){d.pageY-b(document).scrollTop()<c.scrollSensitivity?e=b(document).scrollTop(b(document).scrollTop()-c.scrollSpeed):b(window).height()-(d.pageY-b(document).scrollTop())<c.scrollSensitivity&&(e=b(document).scrollTop(b(document).scrollTop()+c.scrollSpeed))}if(!c.axis||c.axis!="y"){d.pageX-b(document).scrollLeft()<c.scrollSensitivity?e=b(document).scrollLeft(b(document).scrollLeft()-c.scrollSpeed):b(window).width()-(d.pageX-b(document).scrollLeft())<c.scrollSensitivity&&(e=b(document).scrollLeft(b(document).scrollLeft()+c.scrollSpeed))}}e!==!1&&b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(f,d)}}),b.ui.plugin.add("draggable","snap",{start:function(d,f){var e=b(this).data("draggable"),c=e.options;e.snapElements=[],b(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var g=b(this),h=g.offset();this!=e.element[0]&&e.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:h.top,left:h.left})})},drag:function(q,B){var x=b(this).data("draggable"),E=x.options,w=E.snapTolerance,A=B.offset.left,k=A+x.helperProportions.width,L=B.offset.top,H=L+x.helperProportions.height;for(var D=x.snapElements.length-1;D>=0;D--){var J=x.snapElements[D].left,F=J+x.snapElements[D].width,z=x.snapElements[D].top,I=z+x.snapElements[D].height;if(!(J-w<A&&A<F+w&&z-w<L&&L<I+w||J-w<A&&A<F+w&&z-w<H&&H<I+w||J-w<k&&k<F+w&&z-w<L&&L<I+w||J-w<k&&k<F+w&&z-w<H&&H<I+w)){x.snapElements[D].snapping&&x.options.snap.release&&x.options.snap.release.call(x.element,q,b.extend(x._uiHash(),{snapItem:x.snapElements[D].item})),x.snapElements[D].snapping=!1;continue}if(E.snapMode!="inner"){var j=Math.abs(z-H)<=w,C=Math.abs(I-L)<=w,G=Math.abs(J-k)<=w,e=Math.abs(F-A)<=w;j&&(B.position.top=x._convertPositionTo("relative",{top:z-x.helperProportions.height,left:0}).top-x.margins.top),C&&(B.position.top=x._convertPositionTo("relative",{top:I,left:0}).top-x.margins.top),G&&(B.position.left=x._convertPositionTo("relative",{top:0,left:J-x.helperProportions.width}).left-x.margins.left),e&&(B.position.left=x._convertPositionTo("relative",{top:0,left:F}).left-x.margins.left)}var K=j||C||G||e;if(E.snapMode!="outer"){var j=Math.abs(z-L)<=w,C=Math.abs(I-H)<=w,G=Math.abs(J-A)<=w,e=Math.abs(F-k)<=w;j&&(B.position.top=x._convertPositionTo("relative",{top:z,left:0}).top-x.margins.top),C&&(B.position.top=x._convertPositionTo("relative",{top:I-x.helperProportions.height,left:0}).top-x.margins.top),G&&(B.position.left=x._convertPositionTo("relative",{top:0,left:J}).left-x.margins.left),e&&(B.position.left=x._convertPositionTo("relative",{top:0,left:F-x.helperProportions.width}).left-x.margins.left)}!x.snapElements[D].snapping&&(j||C||G||e||K)&&x.options.snap.snap&&x.options.snap.snap.call(x.element,q,b.extend(x._uiHash(),{snapItem:x.snapElements[D].item})),x.snapElements[D].snapping=j||C||G||e||K}}}),b.ui.plugin.add("draggable","stack",{start:function(d,g){var f=b(this).data("draggable").options,c=b.makeArray(b(f.stack)).sort(function(h,i){return(parseInt(b(h).css("zIndex"),10)||0)-(parseInt(b(i).css("zIndex"),10)||0)});if(!c.length){return}var e=parseInt(c[0].style.zIndex)||0;b(c).each(function(h){this.style.zIndex=e+h}),this[0].style.zIndex=e+c.length}}),b.ui.plugin.add("draggable","zIndex",{start:function(d,f){var e=b(f.helper),c=b(this).data("draggable").options;e.css("zIndex")&&(c._zIndex=e.css("zIndex")),e.css("zIndex",c.zIndex)},stop:function(c,e){var d=b(this).data("draggable").options;d._zIndex&&b(e.helper).css("zIndex",d._zIndex)}})}(jQuery),function(b,a){b.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var c=this.options,d=c.accept;this.isover=0,this.isout=1,this.accept=b.isFunction(d)?d:function(f){return f.is(d)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},b.ui.ddmanager.droppables[c.scope]=b.ui.ddmanager.droppables[c.scope]||[],b.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var c=b.ui.ddmanager.droppables[this.options.scope];for(var d=0;d<c.length;d++){c[d]==this&&c.splice(d,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(c,d){c=="accept"&&(this.accept=b.isFunction(d)?d:function(f){return f.is(d)}),b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(c){var d=b.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),d&&this._trigger("activate",c,this.ui(d))},_deactivate:function(c){var d=b.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),d&&this._trigger("deactivate",c,this.ui(d))},_over:function(c){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0]){return}this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",c,this.ui(d)))},_out:function(c){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0]){return}this.accept.call(this.element[0],d.currentItem||d.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",c,this.ui(d)))},_drop:function(d,f){var e=f||b.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0]){return !1}var c=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=b.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==e.options.scope&&g.accept.call(g.element[0],e.currentItem||e.element)&&b.ui.intersect(e,b.extend(g,{offset:g.element.offset()}),g.options.tolerance)){return c=!0,!1}}),c?!1:this.accept.call(this.element[0],e.currentItem||e.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",d,this.ui(e)),this.element):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),b.ui.intersect=function(B,k,e){if(!k.offset){return !1}var q=(B.positionAbs||B.position.absolute).left,C=q+B.helperProportions.width,j=(B.positionAbs||B.position.absolute).top,A=j+B.helperProportions.height,z=k.offset.left,w=z+k.proportions.width,m=k.offset.top,y=m+k.proportions.height;switch(e){case"fit":return z<=q&&C<=w&&m<=j&&A<=y;case"intersect":return z<q+B.helperProportions.width/2&&C-B.helperProportions.width/2<w&&m<j+B.helperProportions.height/2&&A-B.helperProportions.height/2<y;case"pointer":var v=(B.positionAbs||B.position.absolute).left+(B.clickOffset||B.offset.click).left,g=(B.positionAbs||B.position.absolute).top+(B.clickOffset||B.offset.click).top,x=b.ui.isOver(g,v,m,z,k.proportions.height,k.proportions.width);return x;case"touch":return(j>=m&&j<=y||A>=m&&A<=y||j<m&&A>y)&&(q>=z&&q<=w||C>=z&&C<=w||q<z&&C>w);default:return !1}},b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,j){var g=b.ui.ddmanager.droppables[e.options.scope]||[],d=j?j.type:null,f=(e.currentItem||e.element).find(":data(droppable)").andSelf();b:for(var h=0;h<g.length;h++){if(g[h].options.disabled||e&&!g[h].accept.call(g[h].element[0],e.currentItem||e.element)){continue}for(var c=0;c<f.length;c++){if(f[c]==g[h].element[0]){g[h].proportions.height=0;continue b}}g[h].visible=g[h].element.css("display")!="none";if(!g[h].visible){continue}d=="mousedown"&&g[h]._activate.call(g[h],j),g[h].offset=g[h].element.offset(),g[h].proportions={width:g[h].element[0].offsetWidth,height:g[h].element[0].offsetHeight}}},drop:function(c,e){var d=!1;return b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(!this.options){return}!this.options.disabled&&this.visible&&b.ui.intersect(c,this,this.options.tolerance)&&(d=this._drop.call(this,e)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,e))}),d},dragStart:function(c,d){c.element.parentsUntil("body").bind("scroll.droppable",function(){c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,d)})},drag:function(c,d){c.options.refreshPositions&&b.ui.ddmanager.prepareOffsets(c,d),b.each(b.ui.ddmanager.droppables[c.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var h=b.ui.intersect(c,this,this.options.tolerance),f=!h&&this.isover==1?"isout":h&&this.isover==0?"isover":null;if(!f){return}var g;if(this.options.greedy){var j=this.options.scope,e=this.element.parents(":data(droppable)").filter(function(){return b.data(this,"droppable").options.scope===j});e.length&&(g=b.data(e[0],"droppable"),g.greedyChild=f=="isover"?1:0)}g&&f=="isover"&&(g.isover=0,g.isout=1,g._out.call(g,d)),this[f]=1,this[f=="isout"?"isover":"isout"]=0,this[f=="isover"?"_over":"_out"].call(this,d),g&&f=="isout"&&(g.isout=0,g.isover=1,g._over.call(g,d))})},dragStop:function(c,d){c.element.parentsUntil("body").unbind("scroll.droppable"),c.options.refreshPositions||b.ui.ddmanager.prepareOffsets(c,d)}}}(jQuery),function(c,a){c.widget("ui.resizable",c.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var g=this,l=this.options;this.element.addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!l.aspectRatio,aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=l.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var j=this.handles.split(",");this.handles={};for(var f=0;f<j.length;f++){var h=c.trim(j[f]),k="ui-resizable-"+h,e=c('<div class="ui-resizable-handle '+k+'"></div>');e.css({zIndex:l.zIndex}),"se"==h&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[h]=".ui-resizable-"+h,this.element.append(e)}}this._renderAxis=function(o){o=o||this.element;for(var u in this.handles){this.handles[u].constructor==String&&(this.handles[u]=c(this.handles[u],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var q=c(this.handles[u],this.element),m=0;m=/sw|ne|nw|se|n|s/.test(u)?q.outerHeight():q.outerWidth();var p=["padding",/ne|nw|n/.test(u)?"Top":/se|sw|s/.test(u)?"Bottom":/^e$/.test(u)?"Right":"Left"].join("");o.css(p,m),this._proportionallyResize()}if(!c(this.handles[u]).length){continue}}},this._renderAxis(this.element),this._handles=c(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!g.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}g.axis=i&&i[1]?i[1]:"se"}}),l.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(l.disabled){return}c(this).removeClass("ui-resizable-autohide"),g._handles.show()}).mouseleave(function(){if(l.disabled){return}g.resizing||(c(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f),f.remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var g=!1;for(var f in this.handles){c(this.handles[f])[0]==e.target&&(g=!0)}return !this.options.disabled&&g},_mouseStart:function(h){var k=this.options,g=this.element.position(),j=this.element;this.resizing=!0,this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()},(j.is(".ui-draggable")||/absolute/.test(j.css("position")))&&j.css({position:"absolute",top:g.top,left:g.left}),this._renderProxy();var l=d(this.helper.css("left")),f=d(this.helper.css("top"));k.containment&&(l+=c(k.containment).scrollLeft()||0,f+=c(k.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:l,top:f},this.size=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalSize=this._helper?{width:j.outerWidth(),height:j.outerHeight()}:{width:j.width(),height:j.height()},this.originalPosition={left:l,top:f},this.sizeDiff={width:j.outerWidth()-j.width(),height:j.outerHeight()-j.height()},this.originalMousePosition={left:h.pageX,top:h.pageY},this.aspectRatio=typeof k.aspectRatio=="number"?k.aspectRatio:this.originalSize.width/this.originalSize.height||1;var e=c(".ui-resizable-"+this.axis).css("cursor");return c("body").css("cursor",e=="auto"?this.axis+"-resize":e),j.addClass("ui-resizable-resizing"),this._propagate("start",h),!0},_mouseDrag:function(q){var x=this.helper,j=this.options,g={},m=this,y=this.originalMousePosition,h=this.axis,w=q.pageX-y.left||0,v=q.pageY-y.top||0,p=this._change[h];if(!p){return !1}var k=p.apply(this,[q,w,v]);this._updateVirtualBoundaries(q.shiftKey);if(this._aspectRatio||q.shiftKey){k=this._updateRatio(k,q)}return k=this._respectSize(k,q),this._propagate("resize",q),x.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(k),this._trigger("resize",q,this.ui()),!1},_mouseStop:function(v){this.resizing=!1;var h=this.options,e=this;if(this._helper){var k=this._proportionallyResizeElements,w=k.length&&/textarea/i.test(k[0].nodeName),g=w&&c.ui.hasScroll(k[0],"left")?0:e.sizeDiff.height,q=w?0:e.sizeDiff.width,p={width:e.helper.width()-q,height:e.helper.height()-g},m=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,j=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;h.animate||this.element.css(c.extend(p,{top:j,left:m})),e.helper.height(e.size.height),e.helper.width(e.size.width),this._helper&&!h.animate&&this._proportionallyResize()}return c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",v),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(k){var h=this.options,m,g,j,l,f;f={minWidth:b(h.minWidth)?h.minWidth:0,maxWidth:b(h.maxWidth)?h.maxWidth:Infinity,minHeight:b(h.minHeight)?h.minHeight:0,maxHeight:b(h.maxHeight)?h.maxHeight:Infinity};if(this._aspectRatio||k){m=f.minHeight*this.aspectRatio,j=f.minWidth/this.aspectRatio,g=f.maxHeight*this.aspectRatio,l=f.maxWidth/this.aspectRatio,m>f.minWidth&&(f.minWidth=m),j>f.minHeight&&(f.minHeight=j),g<f.maxWidth&&(f.maxWidth=g),l<f.maxHeight&&(f.maxHeight=l)}this._vBoundaries=f},_updateCache:function(g){var f=this.options;this.offset=this.helper.offset(),b(g.left)&&(this.position.left=g.left),b(g.top)&&(this.position.top=g.top),b(g.height)&&(this.size.height=g.height),b(g.width)&&(this.size.width=g.width)},_updateRatio:function(j,g){var l=this.options,f=this.position,h=this.size,k=this.axis;return b(j.height)?j.width=j.height*this.aspectRatio:b(j.width)&&(j.height=j.width/this.aspectRatio),k=="sw"&&(j.left=f.left+(h.width-j.width),j.top=null),k=="nw"&&(j.top=f.top+(h.height-j.height),j.left=f.left+(h.width-j.width)),j},_respectSize:function(x,D){var k=this.helper,q=this._vBoundaries,E=this._aspectRatio||D.shiftKey,j=this.axis,C=b(x.width)&&q.maxWidth&&q.maxWidth<x.width,A=b(x.height)&&q.maxHeight&&q.maxHeight<x.height,w=b(x.width)&&q.minWidth&&q.minWidth>x.width,m=b(x.height)&&q.minHeight&&q.minHeight>x.height;w&&(x.width=q.minWidth),m&&(x.height=q.minHeight),C&&(x.width=q.maxWidth),A&&(x.height=q.maxHeight);var z=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,g=/sw|nw|w/.test(j),y=/nw|ne|n/.test(j);w&&g&&(x.left=z-q.minWidth),C&&g&&(x.left=z-q.maxWidth),m&&y&&(x.top=r-q.minHeight),A&&y&&(x.top=r-q.maxHeight);var B=!x.width&&!x.height;return B&&!x.left&&x.top?x.top=null:B&&!x.top&&x.left&&(x.left=null),x},_proportionallyResize:function(){var f=this.options;if(!this._proportionallyResizeElements.length){return}var k=this.helper||this.element;for(var h=0;h<this._proportionallyResizeElements.length;h++){var e=this._proportionallyResizeElements[h];if(!this.borderDif){var g=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],j=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=c.map(g,function(m,i){var o=parseInt(m,10)||0,l=parseInt(j[i],10)||0;return o+l})}e.css({height:k.height()-this.borderDif[0]-this.borderDif[2]||0,width:k.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var f=this.element,h=this.options;this.elementOffset=f.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var g=c.ui.ie6?1:0,e=c.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-g+"px",top:this.elementOffset.top-g+"px",zIndex:++h.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(g,f,h){return{width:this.originalSize.width+f}},w:function(k,g,l){var j=this.options,f=this.originalSize,h=this.originalPosition;return{left:h.left+g,width:f.width-g}},n:function(k,g,l){var j=this.options,f=this.originalSize,h=this.originalPosition;return{top:h.top+l,height:f.height-l}},s:function(g,f,h){return{height:this.originalSize.height+h}},se:function(e,g,f){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,g,f]))},sw:function(e,g,f){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,g,f]))},ne:function(e,g,f){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,g,f]))},nw:function(e,g,f){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,g,f]))}},_propagate:function(e,f){c.ui.plugin.call(this,e,[f,this.ui()]),e!="resize"&&this._trigger(e,f,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.ui.plugin.add("resizable","alsoResize",{start:function(f,j){var h=c(this).data("resizable"),e=h.options,g=function(i){c(i).each(function(){var k=c(this);k.data("resizable-alsoresize",{width:parseInt(k.width(),10),height:parseInt(k.height(),10),left:parseInt(k.css("left"),10),top:parseInt(k.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],g(e.alsoResize)):c.each(e.alsoResize,function(i){g(i)}):g(e.alsoResize)},resize:function(h,m){var k=c(this).data("resizable"),g=k.options,j=k.originalSize,l=k.originalPosition,f={height:k.size.height-j.height||0,width:k.size.width-j.width||0,top:k.position.top-l.top||0,left:k.position.left-l.left||0},e=function(i,n){c(i).each(function(){var q=c(this),p=c(this).data("resizable-alsoresize"),r={},u=n&&n.length?n:q.parents(m.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(u,function(s,o){var v=(p[o]||0)+(f[o]||0);v&&v>=0&&(r[o]=v||null)}),q.css(r)})};typeof g.alsoResize=="object"&&!g.alsoResize.nodeType?c.each(g.alsoResize,function(n,i){e(n,i)}):e(g.alsoResize)},stop:function(e,f){c(this).removeData("resizable-alsoresize")}}),c.ui.plugin.add("resizable","animate",{stop:function(w,h){var e=c(this).data("resizable"),k=e.options,x=e._proportionallyResizeElements,g=x.length&&/textarea/i.test(x[0].nodeName),v=g&&c.ui.hasScroll(x[0],"left")?0:e.sizeDiff.height,q=g?0:e.sizeDiff.width,m={width:e.size.width-q,height:e.size.height-v},j=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(c.extend(m,p&&j?{top:p,left:j}:{}),{duration:k.animateDuration,easing:k.animateEasing,step:function(){var f={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};x&&x.length&&c(x[0]).css({width:f.width,height:f.height}),e._updateCache(f),e._propagate("resize",w)}})}}),c.ui.plugin.add("resizable","containment",{start:function(B,e){var m=c(this).data("resizable"),C=m.options,j=m.element,A=C.containment,y=A instanceof c?A.get(0):/parent/.test(A)?j.parent().get(0):A;if(!y){return}m.containerElement=c(y);if(/document/.test(A)||A==document){m.containerOffset={left:0,top:0},m.containerPosition={left:0,top:0},m.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var q=c(y),k=[];c(["Top","Right","Left","Bottom"]).each(function(h,f){k[h]=d(q.css("padding"+f))}),m.containerOffset=q.offset(),m.containerPosition=q.position(),m.containerSize={height:q.innerHeight()-k[3],width:q.innerWidth()-k[1]};var x=m.containerOffset,n=m.containerSize.height,g=m.containerSize.width,w=c.ui.hasScroll(y,"left")?y.scrollWidth:g,z=c.ui.hasScroll(y)?y.scrollHeight:n;m.parentData={element:y,left:x.left,top:x.top,width:w,height:z}}},resize:function(D,k){var e=c(this).data("resizable"),q=e.options,E=e.containerSize,j=e.containerOffset,C=e.size,A=e.position,x=e._aspectRatio||D.shiftKey,m={top:0,left:0},z=e.containerElement;z[0]!=document&&/static/.test(z.css("position"))&&(m=j),A.left<(e._helper?j.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-j.left:e.position.left-m.left),x&&(e.size.height=e.size.width/e.aspectRatio),e.position.left=q.helper?j.left:0),A.top<(e._helper?j.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-j.top:e.position.top),x&&(e.size.width=e.size.height*e.aspectRatio),e.position.top=e._helper?j.top:0),e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top;var w=Math.abs((e._helper?e.offset.left-m.left:e.offset.left-m.left)+e.sizeDiff.width),g=Math.abs((e._helper?e.offset.top-m.top:e.offset.top-j.top)+e.sizeDiff.height),y=e.containerElement.get(0)==e.element.parent().get(0),B=/relative|absolute/.test(e.containerElement.css("position"));y&&B&&(w-=e.parentData.left),w+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-w,x&&(e.size.height=e.size.width/e.aspectRatio)),g+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-g,x&&(e.size.width=e.size.height*e.aspectRatio))},stop:function(y,j){var e=c(this).data("resizable"),m=e.options,z=e.position,g=e.containerOffset,x=e.containerPosition,w=e.containerElement,q=c(e.helper),k=q.offset(),v=q.outerWidth()-e.sizeDiff.width,p=q.outerHeight()-e.sizeDiff.height;e._helper&&!m.animate&&/relative/.test(w.css("position"))&&c(this).css({left:k.left-x.left-g.left,width:v,height:p}),e._helper&&!m.animate&&/static/.test(w.css("position"))&&c(this).css({left:k.left-x.left-g.left,width:v,height:p})}}),c.ui.plugin.add("resizable","ghost",{start:function(f,j){var h=c(this).data("resizable"),e=h.options,g=h.size;h.ghost=h.originalElement.clone(),h.ghost.css({opacity:0.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),h.ghost.appendTo(h.helper)},resize:function(f,h){var g=c(this).data("resizable"),e=g.options;g.ghost&&g.ghost.css({position:"relative",height:g.size.height,width:g.size.width})},stop:function(f,h){var g=c(this).data("resizable"),e=g.options;g.ghost&&g.helper&&g.helper.get(0).removeChild(g.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(w,h){var e=c(this).data("resizable"),k=e.options,x=e.size,g=e.originalSize,v=e.originalPosition,q=e.axis,m=k._aspectRatio||w.shiftKey;k.grid=typeof k.grid=="number"?[k.grid,k.grid]:k.grid;var j=Math.round((x.width-g.width)/(k.grid[0]||1))*(k.grid[0]||1),p=Math.round((x.height-g.height)/(k.grid[1]||1))*(k.grid[1]||1);/^(se|s|e)$/.test(q)?(e.size.width=g.width+j,e.size.height=g.height+p):/^(ne)$/.test(q)?(e.size.width=g.width+j,e.size.height=g.height+p,e.position.top=v.top-p):/^(sw)$/.test(q)?(e.size.width=g.width+j,e.size.height=g.height+p,e.position.left=v.left-j):(e.size.width=g.width+j,e.size.height=g.height+p,e.position.top=v.top-p,e.position.left=v.left-j)}});var d=function(f){return parseInt(f,10)||0},b=function(f){return !isNaN(parseInt(f,10))}}(jQuery),function(b,a){b.widget("ui.selectable",b.ui.mouse,{version:"1.9.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable"),this.dragged=!1;var d;this.refresh=function(){d=b(c.options.filter,c.element[0]),d.addClass("ui-selectee"),d.each(function(){var e=b(this),f=e.offset();b.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=d.addClass("ui-selectee"),this._mouseInit(),this.helper=b("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(c){var e=this;this.opos=[c.pageX,c.pageY];if(this.options.disabled){return}var d=this.options;this.selectees=b(d.filter,this.element[0]),this._trigger("start",c),b(d.appendTo).append(this.helper),this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=b.data(this,"selectable-item");f.startselected=!0,!c.metaKey&&!c.ctrlKey&&(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,e._trigger("unselecting",c,{unselecting:f.element}))}),b(c.target).parents().andSelf().each(function(){var g=b.data(this,"selectable-item");if(g){var f=!c.metaKey&&!c.ctrlKey||!g.$element.hasClass("ui-selected");return g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting"),g.unselecting=!f,g.selecting=f,g.selected=f,f?e._trigger("selecting",c,{selecting:g.element}):e._trigger("unselecting",c,{unselecting:g.element}),!1}})},_mouseDrag:function(f){var k=this;this.dragged=!0;if(this.options.disabled){return}var h=this.options,e=this.opos[0],g=this.opos[1],j=f.pageX,d=f.pageY;if(e>j){var c=j;j=e,e=c}if(g>d){var c=d;d=g,g=c}return this.helper.css({left:e,top:g,width:j-e,height:d-g}),this.selectees.each(function(){var i=b.data(this,"selectable-item");if(!i||i.element==k.element[0]){return}var l=!1;h.tolerance=="touch"?l=!(i.left>j||i.right<e||i.top>d||i.bottom<g):h.tolerance=="fit"&&(l=i.left>e&&i.right<j&&i.top>g&&i.bottom<d),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,k._trigger("selecting",f,{selecting:i.element}))):(i.selecting&&((f.metaKey||f.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),k._trigger("unselecting",f,{unselecting:i.element}))),i.selected&&!f.metaKey&&!f.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,k._trigger("unselecting",f,{unselecting:i.element})))}),!1},_mouseStop:function(c){var e=this;this.dragged=!1;var d=this.options;return b(".ui-unselecting",this.element[0]).each(function(){var f=b.data(this,"selectable-item");f.$element.removeClass("ui-unselecting"),f.unselecting=!1,f.startselected=!1,e._trigger("unselected",c,{unselected:f.element})}),b(".ui-selecting",this.element[0]).each(function(){var f=b.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected"),f.selecting=!1,f.selected=!0,f.startselected=!0,e._trigger("selected",c,{selected:f.element})}),this._trigger("stop",c),this.helper.remove(),!1}})}(jQuery),function(b,a){b.widget("ui.sortable",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?c.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData(this.widgetName+"-item")}return this},_setOption:function(c,d){c==="disabled"?(this.options[c]=d,this.widget().toggleClass("ui-sortable-disabled",!!d)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(d,h){var f=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(d);var c=null,e=b(d.target).parents().each(function(){if(b.data(this,f.widgetName+"-item")==f){return c=b(this),!1}});b.data(d.target,f.widgetName+"-item")==f&&(c=b(d.target));if(!c){return !1}if(this.options.handle&&!h){var g=!1;b(this.options.handle,c).find("*").andSelf().each(function(){this==d.target&&(g=!0)});if(!g){return !1}}return this.currentItem=c,this._removeCurrentsFromItems(),!0},_mouseStart:function(d,g,f){var c=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(d),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},b.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(d),this.originalPageX=d.pageX,this.originalPageY=d.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),c.containment&&this._setContainment(),c.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",c.cursor)),c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity)),c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",d,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!f){for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("activate",d,this._uiHash(this))}}return b.ui.ddmanager&&(b.ui.ddmanager.current=this),b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,d),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(d),!0},_mouseDrag:function(e){this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var j=this.options,g=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<j.scrollSensitivity?this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop+j.scrollSpeed:e.pageY-this.overflowOffset.top<j.scrollSensitivity&&(this.scrollParent[0].scrollTop=g=this.scrollParent[0].scrollTop-j.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<j.scrollSensitivity?this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft+j.scrollSpeed:e.pageX-this.overflowOffset.left<j.scrollSensitivity&&(this.scrollParent[0].scrollLeft=g=this.scrollParent[0].scrollLeft-j.scrollSpeed)):(e.pageY-b(document).scrollTop()<j.scrollSensitivity?g=b(document).scrollTop(b(document).scrollTop()-j.scrollSpeed):b(window).height()-(e.pageY-b(document).scrollTop())<j.scrollSensitivity&&(g=b(document).scrollTop(b(document).scrollTop()+j.scrollSpeed)),e.pageX-b(document).scrollLeft()<j.scrollSensitivity?g=b(document).scrollLeft(b(document).scrollLeft()-j.scrollSpeed):b(window).width()-(e.pageX-b(document).scrollLeft())<j.scrollSensitivity&&(g=b(document).scrollLeft(b(document).scrollLeft()+j.scrollSpeed))),g!==!1&&b.ui.ddmanager&&!j.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var d=this.items.length-1;d>=0;d--){var f=this.items[d],h=f.item[0],c=this._intersectsWithPointer(f);if(!c){continue}if(f.instance!==this.currentContainer){continue}if(h!=this.currentItem[0]&&this.placeholder[c==1?"next":"prev"]()[0]!=h&&!b.contains(this.placeholder[0],h)&&(this.options.type=="semi-dynamic"?!b.contains(this.element[0],h):!0)){this.direction=c==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(f)){break}this._rearrange(e,f),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),b.ui.ddmanager&&b.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(d,f){if(!d){return}b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,d);if(this.options.revert){var e=this,c=this.placeholder.offset();this.reverting=!0,b(this.helper).animate({left:c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(d)})}else{this._clear(d,f)}return !1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,this._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,this._uiHash(this)),this.containers[c].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):b(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(c){var e=this._getItemsAsjQuery(c&&c.connected),d=[];return c=c||{},b(e).each(function(){var f=(b(c.item||this).attr(c.attribute||"id")||"").match(c.expression||/(.+)[-=_](.+)/);f&&d.push((c.key||f[1]+"[]")+"="+(c.key&&c.expression?f[1]:f[2]))}),!d.length&&c.key&&d.push(c.key+"="),d.join("&")},toArray:function(c){var e=this._getItemsAsjQuery(c&&c.connected),d=[];return c=c||{},e.each(function(){d.push(b(c.item||this).attr(c.attribute||"id")||"")}),d},_intersectsWith:function(p){var x=this.positionAbs.left,h=x+this.helperProportions.width,d=this.positionAbs.top,k=d+this.helperProportions.height,y=p.left,g=y+p.width,w=p.top,v=w+p.height,m=this.offset.click.top,j=this.offset.click.left,q=d+m>w&&d+m<v&&x+j>y&&x+j<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>p[this.floating?"width":"height"]?q:y<x+this.helperProportions.width/2&&h-this.helperProportions.width/2<g&&w<d+this.helperProportions.height/2&&k-this.helperProportions.height/2<v},_intersectsWithPointer:function(d){var h=this.options.axis==="x"||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top,d.height),f=this.options.axis==="y"||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left,d.width),c=h&&f,e=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return c?this.floating?g&&g=="right"||e=="down"?2:1:e&&(e=="down"?2:1):!1},_intersectsWithSides:function(d){var g=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,d.top+d.height/2,d.height),f=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,d.left+d.width/2,d.width),c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&f||e=="left"&&!f:c&&(c=="down"&&g||c=="up"&&!g)},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!=0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!=0&&(c>0?"right":"left")},refresh:function(c){return this._refreshItems(c),this.refreshPositions(),this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(f){var k=[],h=[],e=this._connectWith();if(e&&f){for(var g=e.length-1;g>=0;g--){var j=b(e[g]);for(var d=j.length-1;d>=0;d--){var c=b.data(j[d],this.widgetName);c&&c!=this&&!c.options.disabled&&h.push([b.isFunction(c.options.items)?c.options.items.call(c.element):b(c.options.items,c.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),c])}}}h.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=h.length-1;g>=0;g--){h[g][0].each(function(){k.push(this)})}return b(k)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(d){for(var f=0;f<c.length;f++){if(c[f]==d.item[0]){return !1}}return !0})},_refreshItems:function(x){this.items=[],this.containers=[this];var g=this.items,d=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],x,{item:this.currentItem}):b(this.options.items,this.element),this]],k=this._connectWith();if(k&&this.ready){for(var y=k.length-1;y>=0;y--){var e=b(k[y]);for(var w=e.length-1;w>=0;w--){var v=b.data(e[w],this.widgetName);v&&v!=this&&!v.options.disabled&&(d.push([b.isFunction(v.options.items)?v.options.items.call(v.element[0],x,{item:this.currentItem}):b(v.options.items,v.element),v]),this.containers.push(v))}}}for(var y=d.length-1;y>=0;y--){var p=d[y][1],j=d[y][0];for(var w=0,q=j.length;w<q;w++){var m=b(j[w]);m.data(this.widgetName+"-item",p),g.push({item:m,instance:p,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var g=this.items.length-1;g>=0;g--){var f=this.items[g];if(f.instance!=this.currentContainer&&this.currentContainer&&f.item[0]!=this.currentItem[0]){continue}var c=this.options.toleranceElement?b(this.options.toleranceElement,f.item):f.item;d||(f.width=c.outerWidth(),f.height=c.outerHeight());var e=c.offset();f.left=e.left,f.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var g=this.containers.length-1;g>=0;g--){var e=this.containers[g].element.offset();this.containers[g].containerCache.left=e.left,this.containers[g].containerCache.top=e.top,this.containers[g].containerCache.width=this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}}return this},_createPlaceholder:function(c){c=c||this;var e=c.options;if(!e.placeholder||e.placeholder.constructor==String){var d=e.placeholder;e.placeholder={element:function(){var f=b(document.createElement(c.currentItem[0].nodeName)).addClass(d||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(f.style.visibility="hidden"),f},update:function(g,f){if(d&&!e.forcePlaceholderSize){return}f.height()||f.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=b(e.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),e.placeholder.update(c,c.placeholder)},_contactContainers:function(x){var g=null,d=null;for(var k=this.containers.length-1;k>=0;k--){if(b.contains(this.currentItem[0],this.containers[k].element[0])){continue}if(this._intersectsWith(this.containers[k].containerCache)){if(g&&b.contains(this.containers[k].element[0],g.element[0])){continue}g=this.containers[k],d=k}else{this.containers[k].containerCache.over&&(this.containers[k]._trigger("out",x,this._uiHash(this)),this.containers[k].containerCache.over=0)}}if(!g){return}if(this.containers.length===1){this.containers[d]._trigger("over",x,this._uiHash(this)),this.containers[d].containerCache.over=1}else{var y=10000,e=null,w=this.containers[d].floating?"left":"top",v=this.containers[d].floating?"width":"height",p=this.positionAbs[w]+this.offset.click[w];for(var j=this.items.length-1;j>=0;j--){if(!b.contains(this.containers[d].element[0],this.items[j].item[0])){continue}if(this.items[j].item[0]==this.currentItem[0]){continue}var q=this.items[j].item.offset()[w],m=!1;Math.abs(q-p)>Math.abs(q+this.items[j][v]-p)&&(m=!0,q+=this.items[j][v]),Math.abs(q-p)<y&&(y=Math.abs(q-p),e=this.items[j],this.direction=m?"up":"down")}if(!e&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[d],e?this._rearrange(x,e,null,!0):this._rearrange(x,null,this.containers[d].element,!0),this._trigger("change",x,this._uiHash()),this.containers[d]._trigger("change",x,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",x,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(c){var e=this.options,d=b.isFunction(e.helper)?b(e.helper.apply(this.element[0],[c,this.currentItem])):e.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||b(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||e.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||e.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(c){typeof c=="string"&&(c=c.split(" ")),b.isArray(c)&&(c={left:+c[0],top:+c[1]||0}),"left" in c&&(this.offset.click.left=c.left+this.margins.left),"right" in c&&(this.offset.click.left=this.helperProportions.width-c.right+this.margins.left),"top" in c&&(this.offset.click.top=c.top+this.margins.top),"bottom" in c&&(this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(c.left+=this.scrollParent.scrollLeft(),c.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.ui.ie){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var d=this.options;d.containment=="parent"&&(d.containment=this.helper[0].parentNode);if(d.containment=="document"||d.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(d.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(d.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(d.containment)){var f=b(d.containment)[0],e=b(d.containment).offset(),c=b(f).css("overflow")!="hidden";this.containment=[e.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,h){h||(h=this.position);var f=d=="absolute"?1:-1,c=this.options,e=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(e[0].tagName);return{top:h.top+this.offset.relative.top*f+this.offset.parent.top*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:e.scrollTop())*f,left:h.left+this.offset.relative.left*f+this.offset.parent.left*f-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:e.scrollLeft())*f}},_generatePosition:function(f){var k=this.options,h=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!b.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(h[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var g=f.pageX,j=f.pageY;if(this.originalPosition){this.containment&&(f.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),f.pageY-this.offset.click.top<this.containment[1]&&(j=this.containment[1]+this.offset.click.top),f.pageX-this.offset.click.left>this.containment[2]&&(g=this.containment[2]+this.offset.click.left),f.pageY-this.offset.click.top>this.containment[3]&&(j=this.containment[3]+this.offset.click.top));if(k.grid){var d=this.originalPageY+Math.round((j-this.originalPageY)/k.grid[1])*k.grid[1];j=this.containment?d-this.offset.click.top<this.containment[1]||d-this.offset.click.top>this.containment[3]?d-this.offset.click.top<this.containment[1]?d+k.grid[1]:d-k.grid[1]:d:d;var c=this.originalPageX+Math.round((g-this.originalPageX)/k.grid[0])*k.grid[0];g=this.containment?c-this.offset.click.left<this.containment[0]||c-this.offset.click.left>this.containment[2]?c-this.offset.click.left<this.containment[0]?c+k.grid[0]:c-k.grid[0]:c:c}}return{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:h.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:h.scrollLeft())}},_rearrange:function(g,d,h,f){h?h[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?d.item[0]:d.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var c=this.counter;this._delay(function(){c==this.counter&&this.refreshPositions(!f)})},_clear:function(d,f){this.reverting=!1;var e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!f&&e.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f&&e.push(function(g){this._trigger("update",g,this._uiHash())}),this!==this.currentContainer&&(f||(e.push(function(g){this._trigger("remove",g,this._uiHash())}),e.push(function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}.call(this,this.currentContainer))));for(var c=this.containers.length-1;c>=0;c--){f||e.push(function(g){return function(h){g._trigger("deactivate",h,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(e.push(function(g){return function(h){g._trigger("out",h,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0)}this._storedCursor&&b("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",d,this._uiHash());for(var c=0;c<e.length;c++){e[c].call(this,d)}this._trigger("stop",d,this._uiHash())}return this.fromOutside=!1,!1}f||this._trigger("beforeStop",d,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!f){for(var c=0;c<e.length;c++){e[c].call(this,d)}this._trigger("stop",d,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){b.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(c){var d=c||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:c?c.element:null}}})}(jQuery),jQuery.effects||function(c,a){var d=c.uiBackCompat!==!1,b="ui-effects-";c.effects={effect:{}},function(D,k){function g(i,f,l){var h=A[f.type]||{};return i==null?l||!f.def?null:f.def:(i=h.floor?~~i:parseFloat(i),isNaN(i)?f.def:h.mod?(i+h.mod)%h.mod:0>i?0:h.max<i?h.max:i)}function y(h){var i=j(),f=i._rgba=[];return h=h.toLowerCase(),w(E,function(p,n){var r,v=n.re.exec(h),l=v&&n.parse(v),u=n.space||"rgba";if(l){return r=i[u](l),i[C[u].cache]=r[C[u].cache],f=i._rgba=r._rgba,!1}}),f.length?(f.join()==="0,0,0,0"&&D.extend(f,z.transparent),i):z[h]}function B(h,f,i){return i=(i+1)%1,i*6<1?h+(f-h)*i*6:i*2<1?f:i*3<2?h+(f-h)*(2/3-i)*6:h}var e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),q=/^([\-+])=\s*(\d+\.?\d*)/,E=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1],f[2],f[3],f[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1]*2.55,f[2]*2.55,f[3]*2.55,f[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(f){return[f[1],f[2]/100,f[3]/100,f[4]]}}],j=D.Color=function(l,o,h,f){return new D.Color.fn.parse(l,o,h,f)},C={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},A={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},x=j.support={},m=D("<p>")[0],z,w=D.each;m.style.cssText="background-color:rgba(1,1,1,.5)",x.rgba=m.style.backgroundColor.indexOf("rgba")>-1,w(C,function(h,f){f.cache="_"+h,f.props.alpha={idx:3,type:"percent",def:1}}),j.fn=D.extend(j.prototype,{parse:function(u,p,t,n){if(u===k){return this._rgba=[null,null,null,null],this}if(u.jquery||u.nodeType){u=D(u).css(p),p=k}var F=this,h=D.type(u),o=this._rgba=[];p!==k&&(u=[u,p,t,n],h="array");if(h==="string"){return this.parse(y(u)||z._default)}if(h==="array"){return w(C.rgba.props,function(i,f){o[f.idx]=g(u[f.idx],f)}),this}if(h==="object"){return u instanceof j?w(C,function(i,f){u[f.cache]&&(F[f.cache]=u[f.cache].slice())}):w(C,function(l,r){var f=r.cache;w(r.props,function(s,i){if(!F[f]&&r.to){if(s==="alpha"||u[s]==null){return}F[f]=r.to(F._rgba)}F[f][i.idx]=g(u[s],i,!0)}),F[f]&&c.inArray(null,F[f].slice(0,3))<0&&(F[f][3]=1,r.from&&(F._rgba=r.from(F[f])))}),this}},is:function(i){var f=j(i),l=!0,h=this;return w(C,function(r,n){var p,t=f[n.cache];return t&&(p=h[n.cache]||n.to&&n.to(h._rgba)||[],w(n.props,function(s,o){if(t[o.idx]!=null){return l=t[o.idx]===p[o.idx],l}})),l}),l},_space:function(){var h=[],f=this;return w(C,function(l,i){f[i.cache]&&h.push(l)}),h.pop()},transition:function(G,p){var H=j(G),v=H._space(),o=C[v],u=this.alpha()===0?j("transparent"):this,F=u[o.cache]||o.to(u._rgba),h=F.slice();return H=H[o.cache],w(o.props,function(I,t){var l=t.idx,n=F[l],J=H[l],f=A[t.type]||{};if(J===null){return}n===null?h[l]=J:(f.mod&&(J-n>f.mod/2?n+=f.mod:n-J>f.mod/2&&(n-=f.mod)),h[l]=g((J-n)*p+n,t))}),this[v](h)},blend:function(l){if(this._rgba[3]===1){return this}var o=this._rgba.slice(),h=o.pop(),f=j(l)._rgba;return j(D.map(o,function(n,i){return(1-h)*f[i]+h*n}))},toRgbaString:function(){var f="rgba(",h=D.map(this._rgba,function(l,i){return l==null?i>2?1:0:l});return h[3]===1&&(h.pop(),f="rgb("),f+h.join()+")"},toHslaString:function(){var f="hsla(",h=D.map(this.hsla(),function(l,i){return l==null&&(l=i>2?1:0),i&&i<3&&(l=Math.round(l*100)+"%"),l});return h[3]===1&&(h.pop(),f="hsl("),f+h.join()+")"},toHexString:function(h){var i=this._rgba.slice(),f=i.pop();return h&&i.push(~~(f*255)),"#"+D.map(i,function(l){return l=(l||0).toString(16),l.length===1?"0"+l:l}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,C.hsla.to=function(I){if(I[0]==null||I[1]==null||I[2]==null){return[null,null,null,I[3]]}var M=I[0]/255,v=I[1]/255,h=I[2]/255,G=I[3],N=Math.max(M,v,h),p=Math.min(M,v,h),L=N-p,K=N+p,H=K*0.5,F,J;return p===N?F=0:M===N?F=60*(v-h)/L+360:v===N?F=60*(h-M)/L+120:F=60*(M-v)/L+240,H===0||H===1?J=H:H<=0.5?J=L/K:J=L/(2-K),[Math.round(F)%360,J,H,G==null?1:G]},C.hsla.from=function(u){if(u[0]==null||u[1]==null||u[2]==null){return[null,null,null,u[3]]}var h=u[0]/360,F=u[1],p=u[2],f=u[3],l=p<=0.5?p*(1+F):p+F-p*F,v=2*p-l;return[Math.round(B(v,l,h+1/3)*255),Math.round(B(v,l,h)*255),Math.round(B(v,l,h-1/3)*255),f]},w(C,function(p,n){var l=n.props,i=n.cache,h=n.to,o=n.from;j.fn[p]=function(u){h&&!this[i]&&(this[i]=h(this._rgba));if(u===k){return this[i].slice()}var t,s=D.type(u),f=s==="array"||s==="object"?u:arguments,v=this[i].slice();return w(l,function(F,r){var G=f[s==="object"?F:r.idx];G==null&&(G=v[r.idx]),v[r.idx]=g(G,r)}),o?(t=j(o(v)),t[i]=v,t):j(v)},w(l,function(s,f){if(j.fn[s]){return}j.fn[s]=function(F){var H=D.type(F),v=s==="alpha"?this._hsla?"hsla":"rgba":p,t=this[v](),G=t[f.idx],r;return H==="undefined"?G:(H==="function"&&(F=F.call(this,G),H=D.type(F)),F==null&&f.empty?this:(H==="string"&&(r=q.exec(F),r&&(F=G+parseFloat(r[2])*(r[1]==="+"?1:-1))),t[f.idx]=F,this[v](t)))}})}),w(e,function(f,h){D.cssHooks[h]={set:function(G,F){var t,v,p="";if(D.type(F)!=="string"||(t=y(F))){F=j(t||F);if(!x.rgba&&F._rgba[3]!==1){v=h==="backgroundColor"?G.parentNode:G;while((p===""||p==="transparent")&&v&&v.style){try{p=D.css(v,"backgroundColor"),v=v.parentNode}catch(o){}}F=F.blend(p&&p!=="transparent"?p:"_default")}F=F.toRgbaString()}try{G.style[h]=F}catch(n){}}},D.fx.step[h]=function(i){i.colorInit||(i.start=j(i.elem,h),i.end=j(i.end),i.colorInit=!0),D.cssHooks[h].set(i.elem,i.start.transition(i.end,i.pos))}}),D.cssHooks.borderColor={expand:function(h){var f={};return w(["Top","Right","Bottom","Left"],function(l,i){f["border"+i+"Color"]=h}),f}},z=D.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){var k=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,m={},l,j;if(k&&k.length&&k[0]&&k[k[0]]){j=k.length;while(j--){l=k[j],typeof k[l]=="string"&&(m[c.camelCase(l)]=k[l])}}else{for(l in k){typeof k[l]=="string"&&(m[l]=k[l])}}return m}function f(k,p){var j={},l,m;for(l in p){m=p[l],k[l]!==m&&!g[l]&&(c.fx.step[l]||!isNaN(parseFloat(m)))&&(j[l]=m)}return j}var h=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(i,j){c.fx.step[j]=function(k){if(k.end!=="none"&&!k.setAttr||k.pos===1&&!k.setAttr){jQuery.style(k.elem,j,k.end),k.setAttr=!0}}}),c.effects.animateClass=function(k,l,m,j){var i=c.speed(l,m,j);return this.queue(function(){var p=c(this),s=p.attr("class")||"",n,q=i.children?p.find("*").andSelf():p;q=q.map(function(){var o=c(this);return{el:o,start:e.call(this)}}),n=function(){c.each(h,function(o,r){k[r]&&p[r+"Class"](k[r])})},n(),q=q.map(function(){return this.end=e.call(this.el[0]),this.diff=f(this.start,this.end),this}),p.attr("class",s),q=q.map(function(){var o=this,v=c.Deferred(),u=jQuery.extend({},i,{queue:!1,complete:function(){v.resolve(o)}});return this.el.animate(this.diff,u),v.promise()}),c.when.apply(c,q.get()).done(function(){n(),c.each(arguments,function(){var o=this.el;c.each(this.diff,function(r){o.css(r,"")})}),i.complete.call(p[0])})})},c.fn.extend({_addClass:c.fn.addClass,addClass:function(k,m,l,j){return m?c.effects.animateClass.call(this,{add:k},m,l,j):this._addClass(k)},_removeClass:c.fn.removeClass,removeClass:function(k,m,l,j){return m?c.effects.animateClass.call(this,{remove:k},m,l,j):this._removeClass(k)},_toggleClass:c.fn.toggleClass,toggleClass:function(p,l,j,k,m){return typeof l=="boolean"||l===a?j?c.effects.animateClass.call(this,l?{add:p}:{remove:p},j,k,m):this._toggleClass(p,l):c.effects.animateClass.call(this,{toggle:p},l,j,k)},switchClass:function(k,o,m,j,l){return c.effects.animateClass.call(this,{add:o,remove:k},m,j,l)}})}(),function(){function e(h,k,j,g){c.isPlainObject(h)&&(k=h,h=h.effect),h={effect:h},k==null&&(k={}),c.isFunction(k)&&(g=k,j=null,k={});if(typeof k=="number"||c.fx.speeds[k]){g=j,j=k,k={}}return c.isFunction(j)&&(g=j,j=null),k&&c.extend(h,k),j=j||k.duration,h.duration=c.fx.off?0:typeof j=="number"?j:j in c.fx.speeds?c.fx.speeds[j]:c.fx.speeds._default,h.complete=g||k.complete,h}function f(g){return !g||typeof g=="number"||c.fx.speeds[g]?!0:typeof g=="string"&&!c.effects.effect[g]?d&&c.effects[g]?!1:!0:!1}c.extend(c.effects,{version:"1.9.1",save:function(h,g){for(var i=0;i<g.length;i++){g[i]!==null&&h.data(b+g[i],h[0].style[g[i]])}},restore:function(j,k){var g,h;for(h=0;h<k.length;h++){k[h]!==null&&(g=j.data(b+k[h]),g===a&&(g=""),j.css(k[h],g))}},setMode:function(h,g){return g==="toggle"&&(g=h.is(":hidden")?"show":"hide"),g},getBaseline:function(i,g){var j,h;switch(i[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=i[0]/g.height}switch(i[1]){case"left":h=0;break;case"center":h=0.5;break;case"right":h=1;break;default:h=i[1]/g.width}return{x:h,y:j}},createWrapper:function(h){if(h.parent().is(".ui-effects-wrapper")){return h.parent()}var m={width:h.outerWidth(!0),height:h.outerHeight(!0),"float":h.css("float")},k=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:h.width(),height:h.height()},j=document.activeElement;try{j.id}catch(l){j=document.body}return h.wrap(k),(h[0]===j||c.contains(h[0],j))&&c(j).focus(),k=h.parent(),h.css("position")==="static"?(k.css({position:"relative"}),h.css({position:"relative"})):(c.extend(m,{position:h.css("position"),zIndex:h.css("z-index")}),c.each(["top","left","bottom","right"],function(n,i){m[i]=h.css(i),isNaN(parseInt(m[i],10))&&(m[i]="auto")}),h.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),h.css(g),k.css(m).show()},removeWrapper:function(g){var h=document.activeElement;return g.parent().is(".ui-effects-wrapper")&&(g.parent().replaceWith(g),(g[0]===h||c.contains(g[0],h))&&c(h).focus()),g},setTransition:function(h,k,j,g){return g=g||{},c.each(k,function(l,m){var i=h.cssUnit(m);i[0]>0&&(g[m]=i[0]*j+i[1])}),g}}),c.fn.extend({effect:function(){function g(t){function m(){c.isFunction(o)&&o.call(q[0]),c.isFunction(t)&&t()}var q=c(this),o=i.complete,p=i.mode;(q.is(":hidden")?p==="hide":p==="show")?m():l.call(q[0],i,m)}var i=e.apply(this,arguments),k=i.mode,j=i.queue,l=c.effects.effect[i.effect],h=!l&&d&&c.effects[i.effect];return c.fx.off||!l&&!h?k?this[k](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):l?j===!1?this.each(g):this.queue(j||"fx",g):h.call(this,{options:i,duration:i.duration,callback:i.complete,mode:i.mode})},_show:c.fn.show,show:function(h){if(f(h)){return this._show.apply(this,arguments)}var g=e.apply(this,arguments);return g.mode="show",this.effect.call(this,g)},_hide:c.fn.hide,hide:function(h){if(f(h)){return this._hide.apply(this,arguments)}var g=e.apply(this,arguments);return g.mode="hide",this.effect.call(this,g)},__toggle:c.fn.toggle,toggle:function(g){if(f(g)||typeof g=="boolean"||c.isFunction(g)){return this.__toggle.apply(this,arguments)}var h=e.apply(this,arguments);return h.mode="toggle",this.effect.call(this,h)},cssUnit:function(g){var i=this.css(g),h=[];return c.each(["em","px","%","pt"],function(k,j){i.indexOf(j)>0&&(h=[parseFloat(i),j])}),h}})}(),function(){var e={};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,g){e[g]=function(h){return Math.pow(h,f+2)}}),c.extend(e,{Sine:function(f){return 1-Math.cos(f*Math.PI/2)},Circ:function(f){return 1-Math.sqrt(1-f*f)},Elastic:function(f){return f===0||f===1?f:-Math.pow(2,8*(f-1))*Math.sin(((f-1)*80-7.5)*Math.PI/15)},Back:function(f){return f*f*(3*f-2)},Bounce:function(g){var f,h=4;while(g<((f=Math.pow(2,--h))-1)/11){}return 1/Math.pow(4,3-h)-7.5625*Math.pow((f*3-2)/22-g,2)}}),c.each(e,function(f,g){c.easing["easeIn"+f]=g,c.easing["easeOut"+f]=function(h){return 1-g(1-h)},c.easing["easeInOut"+f]=function(h){return h<0.5?g(h*2)/2:1-g(h*-2+2)/2}})}()}(jQuery),function(d,b){var f=0,c={},a={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",d.widget("ui.accordion",{version:"1.9.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.accordionId="ui-accordion-"+(this.element.attr("id")||++f),g=this.options;this.prevShow=this.prevHide=d(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(g.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!g.collapsible&&(g.active===!1||g.active==null)&&(g.active=0),g.active<0&&(g.active+=this.headers.length),this.active=this._findActive(g.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(m){var k=d(this),h=k.attr("id"),j=k.next(),l=j.attr("id");h||(h=e+"-header-"+m,k.attr("id",h)),l||(l=e+"-panel-"+m,j.attr("id",l)),k.attr("aria-controls",l),j.attr("aria-labelledby",h)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(g.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():d()}},_createIcons:function(){var e=this.options.icons;e&&(d("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var g;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),g=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&g.css("height","")},_setOption:function(h,g){if(h==="active"){this._activate(g);return}h==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(g)),this._super(h,g),h==="collapsible"&&!g&&this.options.active===!1&&this._activate(0),h==="icons"&&(this._destroyIcons(),g&&this._createIcons()),h==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g)},_keydown:function(g){if(g.altKey||g.ctrlKey){return}var k=d.ui.keyCode,j=this.headers.length,e=this.headers.index(g.target),h=!1;switch(g.keyCode){case k.RIGHT:case k.DOWN:h=this.headers[(e+1)%j];break;case k.LEFT:case k.UP:h=this.headers[(e-1+j)%j];break;case k.SPACE:case k.ENTER:this._eventHandler(g);break;case k.HOME:h=this.headers[0];break;case k.END:h=this.headers[j-1]}h&&(d(g.target).attr("tabIndex",-1),d(h).attr("tabIndex",0),h.focus(),g.preventDefault())},_panelKeyDown:function(e){e.keyCode===d.ui.keyCode.UP&&e.ctrlKey&&d(e.currentTarget).prev().focus()},refresh:function(){var g,j,h=this.options.heightStyle,e=this.element.parent();h==="fill"?(d.support.minHeight||(j=e.css("overflow"),e.css("overflow","hidden")),g=e.height(),this.element.siblings(":visible").each(function(){var k=d(this),i=k.css("position");if(i==="absolute"||i==="fixed"){return}g-=k.outerHeight(!0)}),j&&e.css("overflow",j),this.headers.each(function(){g-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,g-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):h==="auto"&&(g=0,this.headers.next().each(function(){g=Math.max(g,d(this).height("").height())}).height(g))},_activate:function(e){var g=this._findActive(e)[0];if(g===this.active[0]){return}g=g||this.active[0],this._eventHandler({target:g,currentTarget:g,preventDefault:d.noop})},_findActive:function(e){return typeof e=="number"?this.headers.eq(e):d()},_setupEvents:function(e){var g={};if(!e){return}d.each(e.split(" "),function(i,h){g[h]="_eventHandler"}),this._on(this.headers,g)},_eventHandler:function(p){var h=this.options,e=this.active,j=d(p.currentTarget),q=j[0]===e[0],g=q&&h.collapsible,m=g?d():j.next(),l=e.next(),k={oldHeader:e,oldPanel:l,newHeader:g?d():j,newPanel:m};p.preventDefault();if(q&&!h.collapsible||this._trigger("beforeActivate",p,k)===!1){return}h.active=g?!1:this.headers.index(j),this.active=q?d():j,this._toggle(k),e.removeClass("ui-accordion-header-active ui-state-active"),h.icons&&e.children(".ui-accordion-header-icon").removeClass(h.icons.activeHeader).addClass(h.icons.header),q||(j.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),h.icons&&j.children(".ui-accordion-header-icon").removeClass(h.icons.header).addClass(h.icons.activeHeader),j.next().addClass("ui-accordion-content-active"))},_toggle:function(e){var h=e.newPanel,g=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=h,this.prevHide=g,this.options.animate?this._animate(h,g,e):(g.hide(),h.show(),this._toggleComplete(e)),g.attr({"aria-expanded":"false","aria-hidden":"true"}),g.prev().attr("aria-selected","false"),h.length&&g.length?g.prev().attr("tabIndex",-1):h.length&&this.headers.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1),h.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(r,y,j){var z,i,x,w=this,q=0,k=r.length&&(!y.length||r.index()<y.index()),v=this.options.animate||{},m=k&&v.down||v,g=function(){w._toggleComplete(j)};typeof m=="number"&&(x=m),typeof m=="string"&&(i=m),i=i||m.easing||v.easing,x=x||m.duration||v.duration;if(!y.length){return r.animate(a,x,i,g)}if(!r.length){return y.animate(c,x,i,g)}z=r.show().outerHeight(),y.animate(c,{duration:x,easing:i,step:function(l,h){h.now=Math.round(l)}}),r.hide().animate(a,{duration:x,easing:i,complete:g,step:function(h,l){l.now=Math.round(h),l.prop!=="height"?q+=l.now:w.options.heightStyle!=="content"&&(l.now=Math.round(z-y.outerHeight()-q),q=0)}})},_toggleComplete:function(h){var g=h.oldPanel;g.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),g.length&&(g.parent()[0].className=g.parent()[0].className),this._trigger("activate",null,h)}}),d.uiBackCompat!==!1&&(function(h,g){h.extend(g.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var i=g._create;g._create=function(){if(this.options.navigation){var j=this,l=this.element.find(this.options.header),e=l.next(),k=l.add(e).find("a").filter(this.options.navigationFilter)[0];k&&l.add(e).each(function(m){if(h.contains(this,k)){return j.options.active=Math.floor(m/2),!1}})}i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(i,g){i.extend(g.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var j=g._create,h=g._setOption;i.extend(g,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),j.call(this)},_setOption:function(k){if(k==="autoHeight"||k==="clearStyle"||k==="fillSpace"){this.options.heightStyle=this._mergeHeightStyle()}h.apply(this,arguments)},_mergeHeightStyle:function(){var k=this.options;if(k.fillSpace){return"fill"}if(k.clearStyle){return"content"}if(k.autoHeight){return"auto"}}})}(jQuery,jQuery.ui.accordion.prototype),function(h,g){h.extend(g.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var i=g._createIcons;g._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(h,g){g.activate=g._activate;var i=g._findActive;g._findActive=function(j){return j===-1&&(j=!1),j&&typeof j!="number"&&(j=this.headers.index(this.headers.filter(j)),j===-1&&(j=!1)),i.call(this,j)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(h,g){h.extend(g.options,{change:null,changestart:null});var i=g._trigger;g._trigger=function(m,k,l){var j=i.apply(this,arguments);return j?(m==="beforeActivate"?j=i.call(this,"changestart",k,{oldHeader:l.oldHeader,oldContent:l.oldPanel,newHeader:l.newHeader,newContent:l.newPanel}):m==="activate"&&(j=i.call(this,"change",k,{oldHeader:l.oldHeader,oldContent:l.oldPanel,newHeader:l.newHeader,newContent:l.newPanel})),j):!1}}(jQuery,jQuery.ui.accordion.prototype),function(h,g){h.extend(g.options,{animate:null,animated:"slide"});var i=g._create;g._create=function(){var j=this.options;j.animate===null&&(j.animated?j.animated==="slide"?j.animate=300:j.animated==="bounceslide"?j.animate={duration:200,down:{easing:"easeOutBounce",duration:1000}}:j.animate=j.animated:j.animate=!1),i.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(b,a){var c=0;b.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var d,f,e;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly")){d=!0,e=!0,f=!0;return}d=!1,e=!1,f=!1;var h=b.ui.keyCode;switch(g.keyCode){case h.PAGE_UP:d=!0,this._move("previousPage",g);break;case h.PAGE_DOWN:d=!0,this._move("nextPage",g);break;case h.UP:d=!0,this._keyEvent("previous",g);break;case h.DOWN:d=!0,this._keyEvent("next",g);break;case h.ENTER:case h.NUMPAD_ENTER:this.menu.active&&(d=!0,g.preventDefault(),this.menu.select(g));break;case h.TAB:this.menu.active&&this.menu.select(g);break;case h.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(g),g.preventDefault());break;default:f=!0,this._searchTimeout(g)}},keypress:function(h){if(d){d=!1,h.preventDefault();return}if(f){return}var g=b.ui.keyCode;switch(h.keyCode){case g.PAGE_UP:this._move("previousPage",h);break;case g.PAGE_DOWN:this._move("nextPage",h);break;case g.UP:this._keyEvent("previous",h);break;case g.DOWN:this._keyEvent("next",h)}},input:function(g){if(e){e=!1,g.preventDefault();return}this._searchTimeout(g)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(g){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(g),this._change(g)}}),this._initSource(),this.menu=b("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:b(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(g){g.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var h=this.menu.element[0];b(g.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(j){j.target!==i.element[0]&&j.target!==h&&!b.contains(h,j.target)&&i.close()})})},menufocus:function(g,i){if(this.isNewMenu){this.isNewMenu=!1;if(g.originalEvent&&/^mouse/.test(g.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){b(g.target).trigger(g.originalEvent)});return}}var h=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",g,{item:h})?g.originalEvent&&/^key/.test(g.originalEvent.type)&&this._value(h.value):this.liveRegion.text(h.value)},menuselect:function(i,g){var j=g.item.data("ui-autocomplete-item")||g.item.data("item.autocomplete"),h=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=h,this._delay(function(){this.previous=h,this.selectedItem=j})),!1!==this._trigger("select",i,{item:j})&&this._value(j.value),this.term=this._value(),this.close(i),this.selectedItem=j}}),this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),b.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(f,d){this._super(f,d),f==="source"&&this._initSource(),f==="appendTo"&&this.menu.element.appendTo(this.document.find(d||"body")[0]),f==="disabled"&&d&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var d,f,e=this;b.isArray(this.options.source)?(d=this.options.source,this.source=function(h,g){g(b.ui.autocomplete.filter(d,h.term))}):typeof this.options.source=="string"?(f=this.options.source,this.source=function(h,g){e.xhr&&e.xhr.abort(),e.xhr=b.ajax({url:f,data:h,dataType:"json",success:function(i){g(i)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(d){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,d))},this.options.delay)},search:function(f,d){f=f!=null?f:this._value(),this.term=this._value();if(f.length<this.options.minLength){return this.close(d)}if(this._trigger("search",d)===!1){return}return this._search(f)},_search:function(d){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:d},this._response())},_response:function(){var f=this,d=++c;return function(e){d===c&&f.__response(e),f.pending--,f.pending||f.element.removeClass("ui-autocomplete-loading")}},__response:function(d){d&&(d=this._normalize(d)),this._trigger("response",null,{content:d}),!this.options.disabled&&d&&d.length&&!this.cancelSearch?(this._suggest(d),this._trigger("open")):this._close()},close:function(d){this.cancelSearch=!0,this._close(d)},_close:function(d){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",d))},_change:function(d){this.previous!==this._value()&&this._trigger("change",d,{item:this.selectedItem})},_normalize:function(d){return d.length&&d[0].label&&d[0].value?d:b.map(d,function(e){return typeof e=="string"?{label:e,value:e}:b.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(e,d),this.menu.refresh(),e.show(),this._resizeMenu(),e.position(b.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(d,f){var e=this;b.each(f,function(g,h){e._renderItemData(d,h)})},_renderItemData:function(f,d){return this._renderItem(f,d).data("ui-autocomplete-item",d)},_renderItem:function(d,e){return b("<li>").append(b("<a>").text(e.label)).appendTo(d)},_move:function(f,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.isFirstItem()&&/^previous/.test(f)||this.menu.isLastItem()&&/^next/.test(f)){this._value(this.term),this.menu.blur();return}this.menu[f](d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(f,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(f,d),d.preventDefault()}}}),b.extend(b.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(d,f){var e=new RegExp(b.ui.autocomplete.escapeRegex(f),"i");return b.grep(d,function(g){return e.test(g.label||g.value||g)})}}),b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(f){var d;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}f&&f.length?d=this.options.messages.results(f.length):d=this.options.messages.noResults,this.liveRegion.text(d)}})}(jQuery),function(k,q){var d,b,h,v,c="ui-button ui-widget ui-state-default ui-corner-all",p="ui-state-hover ui-state-active ",m="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var a=k(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},g=function(e){var l=e.name,f=e.form,a=k([]);return l&&(f?a=k(f).find("[name='"+l+"']"):a=k("[name='"+l+"']",e.ownerDocument).filter(function(){return !this.form})),a};k.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var i=this,f=this.options,e=this.type==="checkbox"||this.type==="radio",n="ui-state-hover"+(e?"":" ui-state-active"),l="ui-state-focus";f.label===null&&(f.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(f.disabled){return}k(this).addClass("ui-state-hover"),this===d&&k(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(f.disabled){return}k(this).removeClass(n)}).bind("click"+this.eventNamespace,function(a){f.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){i.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){i.buttonElement.removeClass(l)}),e&&(this.element.bind("change"+this.eventNamespace,function(){if(v){return}i.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){if(f.disabled){return}v=!1,b=a.pageX,h=a.pageY}).bind("mouseup"+this.eventNamespace,function(a){if(f.disabled){return}if(b!==a.pageX||h!==a.pageY){v=!0}})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled||v){return !1}k(this).toggleClass("ui-state-active"),i.buttonElement.attr("aria-pressed",i.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(f.disabled||v){return !1}k(this).addClass("ui-state-active"),i.buttonElement.attr("aria-pressed","true");var a=i.element[0];g(a).not(a).map(function(){return k(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(f.disabled){return !1}k(this).addClass("ui-state-active"),d=this,i.document.one("mouseup",function(){d=null})}).bind("mouseup"+this.eventNamespace,function(){if(f.disabled){return !1}k(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(a){if(f.disabled){return !1}(a.keyCode===k.ui.keyCode.SPACE||a.keyCode===k.ui.keyCode.ENTER)&&k(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){k(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===k.ui.keyCode.SPACE&&k(this).click()})),this._setOption("disabled",f.disabled),this._resetButton()},_determineButtonType:function(){var f,a,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(f=this.element.parents().last(),a="label[for='"+this.element.attr("id")+"']",this.buttonElement=f.find(a),this.buttonElement.length||(f=f.length?f.siblings():this.element.siblings(),this.buttonElement=f.filter(a),this.buttonElement.length||(this.buttonElement=f.find(a))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" "+p+" "+m).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(f,a){this._super(f,a);if(f==="disabled"){a?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var a=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?g(this.element[0]).each(function(){k(this).is(":checked")?k(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):k(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var e=this.buttonElement.removeClass(m),o=k("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),l=this.options.icons,a=l.primary&&l.secondary,f=[];l.primary||l.secondary?(this.options.text&&f.push("ui-button-text-icon"+(a?"s":l.primary?"-primary":"-secondary")),l.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+l.primary+"'></span>"),l.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+l.secondary+"'></span>"),this.options.text||(f.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",k.trim(o)))):f.push("ui-button-text-only"),e.addClass(f.join(" "))}}),k.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(f,a){f==="disabled"&&this.buttons.button("option",f,a),this._super(f,a)},refresh:function(){var a=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return k(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t){if(t[n]==null||t[n]==undefined){e[n]=t[n]}}return e}$.extend($.ui,{datepicker:{version:"1.9.1"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName)){return}this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++){e[r].length>t&&(t=e[r].length,n=r)}return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName)){return}n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e){return !1}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]==e){return !0}}return !1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string"){return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null}var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");t._keyEvent=!0;if($.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}}else{e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1}n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal){try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(r){$.datepicker.log(r)}}return !0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e){return}var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1){return}extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e))){e=e[n?"previousSibling":"nextSibling"]}var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!t||e&&t!=$.data(e,PROP_NAME)){return}if(this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,i):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst){return}var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0])){return}this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay){n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear}else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0])){return}var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/86400000)/7)+1},parseDate:function(e,t,n){if(e==null||t==null){throw"Invalid arguments"}t=typeof t=="object"?t.toString():t+"";if(t==""){return null}var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s){throw"Missing number at position "+g}return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return -(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase()){return s=n[0],g+=r.length,!1}});if(s!=-1){return s+1}throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(y)){throw"Unexpected literal at position "+g}g++},g=0;for(var y=0;y<e.length;y++){if(h){e.charAt(y)=="'"&&!p("'")?h=!1:m()}else{switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/10000);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}}}if(g<t.length){var w=t.substr(g);if(!/^\s+/.test(w)){throw"Extra/unparsed characters found in date: "+w}}a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;do{var E=this._getDaysInMonth(a,f-1);if(l<=E){break}f++,l-=E}while(!0)}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(e,t,n){if(!t){return""}var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e)){while(r.length<n){r="0"+r}}return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t){for(var h=0;h<e.length;h++){if(c){e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h)}else{switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*10000+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}}}}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++){if(n){e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i)}else{switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}}}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()==e.lastVal){return}var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v){p--,p<0&&(p=11,d--)}}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1){switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a){h+='<span class="ui-datepicker-month">'+o[t]+"</span>"}else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var v=0;v<12;v++){(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>")}h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f){c+='<span class="ui-datepicker-year">'+n+"</span>"}else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;b<=w;b++){e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>"}e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.1",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(d,b){var f="ui-dialog ui-widget ui-widget-content ui-corner-all ",c={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};d.widget("ui.dialog",{version:"1.9.1",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var g=d(this).css(e).offset().top;g<0&&d(this).css("top",e.top-g)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var j=this,l=this.options,h=l.title||"&#160;",k,n,g,e,m;k=(this.uiDialog=d("<div>")).addClass(f+l.dialogClass).css({display:"none",outline:0,zIndex:l.zIndex}).attr("tabIndex",-1).keydown(function(i){l.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===d.ui.keyCode.ESCAPE&&(j.close(i),i.preventDefault())}).mousedown(function(i){j.moveToTop(!1,i)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(k),n=(this.uiDialogTitlebar=d("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){k.focus()}).prependTo(k),g=d("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(i){i.preventDefault(),j.close(i)}).appendTo(n),(this.uiDialogTitlebarCloseText=d("<span>")).addClass("ui-icon ui-icon-closethick").text(l.closeText).appendTo(g),e=d("<span>").uniqueId().addClass("ui-dialog-title").html(h).prependTo(n),m=(this.uiDialogButtonPane=d("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=d("<div>")).addClass("ui-dialog-buttonset").appendTo(m),k.attr({role:"dialog","aria-labelledby":e.attr("id")}),n.find("*").add(n).disableSelection(),this._hoverable(g),this._focusable(g),l.draggable&&d.fn.draggable&&this._makeDraggable(),l.resizable&&d.fn.resizable&&this._makeResizable(),this._createButtons(l.buttons),this._isOpen=!1,d.fn.bgiframe&&k.bgiframe(),this._on(k,{keydown:function(q){if(!l.modal||q.keyCode!==d.ui.keyCode.TAB){return}var s=d(":tabbable",k),p=s.filter(":first"),r=s.filter(":last");if(q.target===r[0]&&!q.shiftKey){return p.focus(1),!1}if(q.target===p[0]&&q.shiftKey){return r.focus(1),!1}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var h,g=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),h=g.parent.children().eq(g.index),h.length&&h[0]!==this.element[0]?h.before(this.element):g.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(g){var j=this,h,e;if(!this._isOpen){return}if(!1===this._trigger("beforeClose",g)){return}return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){j._trigger("close",g)}):(this.uiDialog.hide(),this._trigger("close",g)),d.ui.dialog.overlay.resize(),this.options.modal&&(h=0,d(".ui-dialog").each(function(){this!==j.uiDialog[0]&&(e=d(this).css("z-index"),isNaN(e)||(h=Math.max(h,e)))}),d.ui.dialog.maxZ=h),this},isOpen:function(){return this._isOpen},moveToTop:function(g,j){var h=this.options,e;return h.modal&&!g||!h.stack&&!h.modal?this._trigger("focus",j):(h.zIndex>d.ui.dialog.maxZ&&(d.ui.dialog.maxZ=h.zIndex),this.overlay&&(d.ui.dialog.maxZ+=1,d.ui.dialog.overlay.maxZ=d.ui.dialog.maxZ,this.overlay.$el.css("z-index",d.ui.dialog.overlay.maxZ)),e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},d.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",d.ui.dialog.maxZ),this.element.attr(e),this._trigger("focus",j),this)},open:function(){if(this._isOpen){return}var e,h=this.options,g=this.uiDialog;return this._size(),this._position(h.position),g.show(h.show),this.overlay=h.modal?new d.ui.dialog.overlay(this):null,this.moveToTop(!0),e=this.element.find(":tabbable"),e.length||(e=this.uiDialogButtonPane.find(":tabbable"),e.length||(e=g)),e.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(e){var h=this,g=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof e=="object"&&e!==null&&d.each(e,function(){return !(g=!0)}),g?(d.each(e,function(k,l){l=d.isFunction(l)?{click:l,text:k}:l;var j=d("<button type='button'></button>").attr(l,!0).unbind("click").click(function(){l.click.apply(h.element[0],arguments)}).appendTo(h.uiButtonSet);d.fn.button&&j.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function g(i){return{position:i.position,offset:i.offset}}var e=this,h=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,j){d(this).addClass("ui-dialog-dragging"),e._trigger("dragStart",k,g(j))},drag:function(i,j){e._trigger("drag",i,g(j))},stop:function(j,k){h.position=[k.position.left-e.document.scrollLeft(),k.position.top-e.document.scrollTop()],d(this).removeClass("ui-dialog-dragging"),e._trigger("dragStop",j,g(k)),d.ui.dialog.overlay.resize()}})},_makeResizable:function(l){function e(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}l=l===b?this.options.resizable:l;var j=this,g=this.options,h=this.uiDialog.css("position"),k=typeof l=="string"?l:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:k,start:function(i,m){d(this).addClass("ui-dialog-resizing"),j._trigger("resizeStart",i,e(m))},resize:function(m,i){j._trigger("resize",m,e(i))},stop:function(i,m){d(this).removeClass("ui-dialog-resizing"),g.height=d(this).height(),g.width=d(this).width(),j._trigger("resizeStop",i,e(m)),d.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var g=this.options;return g.height==="auto"?g.minHeight:Math.min(g.minHeight,g.height)},_position:function(g){var j=[],h=[0,0],e;if(g){if(typeof g=="string"||typeof g=="object"&&"0" in g){j=g.split?g.split(" "):[g[0],g[1]],j.length===1&&(j[1]=j[0]),d.each(["left","top"],function(k,i){+j[k]===j[k]&&(h[k]=j[k],j[k]=i)}),g={my:j[0]+(h[0]<0?h[0]:"+"+h[0])+" "+j[1]+(h[1]<0?h[1]:"+"+h[1]),at:j.join(" ")}}g=d.extend({},d.ui.dialog.prototype.options.position,g)}else{g=d.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(g),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,g={},h=!1;d.each(e,function(k,j){i._setOption(k,j),k in c&&(h=!0),k in a&&(g[k]=j)}),h&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(g,j){var e,h,k=this.uiDialog;switch(g){case"buttons":this._createButtons(j);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+j);break;case"dialogClass":k.removeClass(this.options.dialogClass).addClass(f+j);break;case"disabled":j?k.addClass("ui-dialog-disabled"):k.removeClass("ui-dialog-disabled");break;case"draggable":e=k.is(":data(draggable)"),e&&!j&&k.draggable("destroy"),!e&&j&&this._makeDraggable();break;case"position":this._position(j);break;case"resizable":h=k.is(":data(resizable)"),h&&!j&&k.resizable("destroy"),h&&typeof j=="string"&&k.resizable("option","handles",j),!h&&j!==!1&&this._makeResizable(j);break;case"title":d(".ui-dialog-title",this.uiDialogTitlebar).html(""+(j||"&#160;"))}this._super(g,j)},_size:function(){var g,k,j,e=this.options,h=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),g=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),k=Math.max(0,e.minHeight-g),e.height==="auto"?d.support.minHeight?this.element.css({minHeight:k,height:"auto"}):(this.uiDialog.show(),j=this.element.css("height","auto").height(),h||this.uiDialog.hide(),this.element.height(Math.max(j,k))):this.element.height(Math.max(e.height-g,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),d.extend(d.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(h){var g=h.attr("id");return g||(this.uuid+=1,g=this.uuid),"ui-dialog-title-"+g},overlay:function(e){this.$el=d.ui.dialog.overlay.create(e)}}),d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:d.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(g){return g+".dialog-overlay"}).join(" "),create:function(e){this.instances.length===0&&(setTimeout(function(){d.ui.dialog.overlay.instances.length&&d(document).bind(d.ui.dialog.overlay.events,function(h){if(d(h.target).zIndex()<d.ui.dialog.overlay.maxZ){return !1}})},1),d(window).bind("resize.dialog-overlay",d.ui.dialog.overlay.resize));var g=this.oldInstances.pop()||d("<div>").addClass("ui-widget-overlay");return d(document).bind("keydown.dialog-overlay",function(j){var h=d.ui.dialog.overlay.instances;h.length!==0&&h[h.length-1]===g&&e.options.closeOnEscape&&!j.isDefaultPrevented()&&j.keyCode&&j.keyCode===d.ui.keyCode.ESCAPE&&(e.close(j),j.preventDefault())}),g.appendTo(document.body).css({width:this.width(),height:this.height()}),d.fn.bgiframe&&g.bgiframe(),this.instances.push(g),g},destroy:function(e){var h=d.inArray(e,this.instances),g=0;h!==-1&&this.oldInstances.push(this.instances.splice(h,1)[0]),this.instances.length===0&&d([document,window]).unbind(".dialog-overlay"),e.height(0).width(0).remove(),d.each(this.instances,function(){g=Math.max(g,this.css("z-index"))}),this.maxZ=g},height:function(){var e,g;return d.ui.ie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),g=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),e<g?d(window).height()+"px":e+"px"):d(document).height()+"px"},width:function(){var e,g;return d.ui.ie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),g=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),e<g?d(window).width()+"px":e+"px"):d(document).width()+"px"},resize:function(){var e=d([]);d.each(d.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:d.ui.dialog.overlay.width(),height:d.ui.dialog.overlay.height()})}}),d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(c,a){var d=/up|down|vertical/,b=/up|left|vertical|horizontal/;c.effects.effect.blind=function(D,q){var E=c(this),j=["position","top","bottom","left","right","height","width"],C=c.effects.setMode(E,D.mode||"hide"),A=D.direction||"up",x=d.test(A),n=x?"height":"width",z=x?"top":"left",r=b.test(A),e={},y=C==="show",B,k,w;E.parent().is(".ui-effects-wrapper")?c.effects.save(E.parent(),j):c.effects.save(E,j),E.show(),B=c.effects.createWrapper(E).css({overflow:"hidden"}),k=B[n](),w=parseFloat(B.css(z))||0,e[n]=y?k:0,r||(E.css(x?"bottom":"right",0).css(x?"top":"left","auto").css({position:"absolute"}),e[z]=y?w:k+w),y&&(B.css(n,0),r||B.css(z,w+k)),B.animate(e,{duration:D.duration,easing:D.easing,queue:!1,complete:function(){C==="hide"&&E.hide(),c.effects.restore(E,j),c.effects.removeWrapper(E),q()}})}}(jQuery),function(b,a){b.effects.effect.bounce=function(x,D){var A=b(this),G=["position","top","bottom","left","right","height","width"],z=b.effects.setMode(A,x.mode||"effect"),C=z==="hide",q=z==="show",N=x.direction||"up",J=x.distance,F=x.times||5,L=F*2+(q||C?1:0),H=x.duration/L,B=x.easing,K=N==="up"||N==="down"?"top":"left",k=N==="up"||N==="left",E,I,e,M=A.queue(),j=M.length;(q||C)&&G.push("opacity"),b.effects.save(A,G),A.show(),b.effects.createWrapper(A),J||(J=A[K==="top"?"outerHeight":"outerWidth"]()/3),q&&(e={opacity:1},e[K]=0,A.css("opacity",0).css(K,k?-J*2:J*2).animate(e,H,B)),C&&(J/=Math.pow(2,F-1)),e={},e[K]=0;for(E=0;E<F;E++){I={},I[K]=(k?"-=":"+=")+J,A.animate(I,H,B).animate(e,H,B),J=C?J*2:J/2}C&&(I={opacity:0},I[K]=(k?"-=":"+=")+J,A.animate(I,H,B)),A.queue(function(){C&&A.hide(),b.effects.restore(A,G),b.effects.removeWrapper(A),D()}),j>1&&M.splice.apply(M,[1,0].concat(M.splice(j,L+1))),A.dequeue()}}(jQuery),function(b,a){b.effects.effect.clip=function(B,k){var e=b(this),q=["position","top","bottom","left","right","height","width"],C=b.effects.setMode(e,B.mode||"hide"),j=C==="show",A=B.direction||"vertical",z=A==="vertical",w=z?"height":"width",m=z?"top":"left",y={},v,g,x;b.effects.save(e,q),e.show(),v=b.effects.createWrapper(e).css({overflow:"hidden"}),g=e[0].tagName==="IMG"?v:e,x=g[w](),j&&(g.css(w,0),g.css(m,x/2)),y[w]=j?x:0,y[m]=j?0:x/2,g.animate(y,{queue:!1,duration:B.duration,easing:B.easing,complete:function(){j||e.hide(),b.effects.restore(e,q),b.effects.removeWrapper(e),k()}})}}(jQuery),function(b,a){b.effects.effect.drop=function(v,g){var d=b(this),j=["position","top","bottom","left","right","opacity","height","width"],w=b.effects.setMode(d,v.mode||"hide"),e=w==="show",q=v.direction||"left",p=q==="up"||q==="down"?"top":"left",k=q==="up"||q==="left"?"pos":"neg",h={opacity:e?1:0},m;b.effects.save(d,j),d.show(),b.effects.createWrapper(d),m=v.distance||d[p==="top"?"outerHeight":"outerWidth"](!0)/2,e&&d.css("opacity",0).css(p,k==="pos"?-m:m),h[p]=(e?k==="pos"?"+=":"-=":k==="pos"?"-=":"+=")+m,d.animate(h,{queue:!1,duration:v.duration,easing:v.easing,complete:function(){w==="hide"&&d.hide(),b.effects.restore(d,j),b.effects.removeWrapper(d),g()}})}}(jQuery),function(b,a){b.effects.effect.explode=function(q,B){function e(){J.push(this),J.length===x*E&&K()}function K(){w.css({visibility:"visible"}),b(J).remove(),k||w.hide(),B()}var x=q.pieces?Math.round(Math.sqrt(q.pieces)):3,E=x,w=b(this),A=b.effects.setMode(w,q.mode||"hide"),k=A==="show",L=w.show().css("visibility","hidden").offset(),H=Math.ceil(w.outerWidth()/E),D=Math.ceil(w.outerHeight()/x),J=[],F,z,I,j,C,G;for(F=0;F<x;F++){j=L.top+F*D,G=F-(x-1)/2;for(z=0;z<E;z++){I=L.left+z*H,C=z-(E-1)/2,w.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-z*H,top:-F*D}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:H,height:D,left:I+(k?C*H:0),top:j+(k?G*D:0),opacity:k?0:1}).animate({left:I+(k?0:C*H),top:j+(k?0:G*D),opacity:k?1:0},q.duration||500,q.easing,e)}}}}(jQuery),function(b,a){b.effects.effect.fade=function(d,f){var e=b(this),c=b.effects.setMode(e,d.mode||"toggle");e.animate({opacity:c},{queue:!1,duration:d.duration,easing:d.easing,complete:f})}}(jQuery),function(b,a){b.effects.effect.fold=function(H,q){var e=b(this),y=["position","top","bottom","left","right","height","width"],I=b.effects.setMode(e,H.mode||"hide"),k=I==="show",G=I==="hide",E=H.size||15,B=/([0-9]+)%/.exec(E),x=!!H.horizFirst,D=k!==x,z=D?["width","height"]:["height","width"],j=H.duration/2,C,F,w={},A={};b.effects.save(e,y),e.show(),C=b.effects.createWrapper(e).css({overflow:"hidden"}),F=D?[C.width(),C.height()]:[C.height(),C.width()],B&&(E=parseInt(B[1],10)/100*F[G?0:1]),k&&C.css(x?{height:0,width:E}:{height:E,width:0}),w[z[0]]=k?F[0]:E,A[z[1]]=k?F[1]:0,C.animate(w,j,H.easing).animate(A,j,H.easing,function(){G&&e.hide(),b.effects.restore(e,y),b.effects.removeWrapper(e),q()})}}(jQuery),function(b,a){b.effects.effect.highlight=function(d,h){var f=b(this),c=["backgroundImage","backgroundColor","opacity"],e=b.effects.setMode(f,d.mode||"show"),g={backgroundColor:f.css("backgroundColor")};e==="hide"&&(g.opacity=0),b.effects.save(f,c),f.show().css({backgroundImage:"none",backgroundColor:d.color||"#ffff99"}).animate(g,{queue:!1,duration:d.duration,easing:d.easing,complete:function(){e==="hide"&&f.hide(),b.effects.restore(f,c),h()}})}}(jQuery),function(b,a){b.effects.effect.pulsate=function(z,j){var d=b(this),m=b.effects.setMode(d,z.mode||"show"),A=m==="show",g=m==="hide",y=A||m==="hide",x=(z.times||5)*2+(y?1:0),v=z.duration/x,k=0,w=d.queue(),q=w.length,e;if(A||!d.is(":visible")){d.css("opacity",0).show(),k=1}for(e=1;e<x;e++){d.animate({opacity:k},v,z.easing),k=1-k}d.animate({opacity:k},v,z.easing),d.queue(function(){g&&d.hide(),j()}),q>1&&w.splice.apply(w,[1,0].concat(w.splice(q,x+1))),d.dequeue()}}(jQuery),function(b,a){b.effects.effect.puff=function(f,k){var h=b(this),e=b.effects.setMode(h,f.mode||"hide"),g=e==="hide",j=parseInt(f.percent,10)||150,d=j/100,c={height:h.height(),width:h.width()};b.extend(f,{effect:"scale",queue:!1,fade:!0,mode:e,complete:k,percent:g?j:100,from:g?c:{height:c.height*d,width:c.width*d}}),h.effect(f)},b.effects.effect.scale=function(p,e){var c=b(this),h=b.extend(!0,{},p),q=b.effects.setMode(c,p.mode||"effect"),d=parseInt(p.percent,10)||(parseInt(p.percent,10)===0?0:q==="hide"?0:100),m=p.direction||"both",k=p.origin,j={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()},g={y:m!=="horizontal"?d/100:1,x:m!=="vertical"?d/100:1};h.effect="size",h.queue=!1,h.complete=e,q!=="effect"&&(h.origin=k||["middle","center"],h.restore=!0),h.from=p.from||(q==="show"?{height:0,width:0}:j),h.to={height:j.height*g.y,width:j.width*g.x,outerHeight:j.outerHeight*g.y,outerWidth:j.outerWidth*g.x},h.fade&&(q==="show"&&(h.from.opacity=0,h.to.opacity=1),q==="hide"&&(h.from.opacity=1,h.to.opacity=0)),c.effect(h)},b.effects.effect.size=function(q,B){var x,E,w,A=b(this),k=["position","top","bottom","left","right","width","height","overflow","opacity"],L=["position","top","bottom","left","right","overflow","opacity"],H=["width","height","overflow"],D=["fontSize"],J=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],F=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],z=b.effects.setMode(A,q.mode||"effect"),I=q.restore||z!=="effect",j=q.scale||"both",C=q.origin||["middle","center"],G=A.css("position"),e=I?k:L,K={height:0,width:0};z==="show"&&A.show(),x={height:A.height(),width:A.width(),outerHeight:A.outerHeight(),outerWidth:A.outerWidth()},q.mode==="toggle"&&z==="show"?(A.from=q.to||K,A.to=q.from||x):(A.from=q.from||(z==="show"?K:x),A.to=q.to||(z==="hide"?K:x)),w={from:{y:A.from.height/x.height,x:A.from.width/x.width},to:{y:A.to.height/x.height,x:A.to.width/x.width}};if(j==="box"||j==="both"){w.from.y!==w.to.y&&(e=e.concat(J),A.from=b.effects.setTransition(A,J,w.from.y,A.from),A.to=b.effects.setTransition(A,J,w.to.y,A.to)),w.from.x!==w.to.x&&(e=e.concat(F),A.from=b.effects.setTransition(A,F,w.from.x,A.from),A.to=b.effects.setTransition(A,F,w.to.x,A.to))}(j==="content"||j==="both")&&w.from.y!==w.to.y&&(e=e.concat(D).concat(H),A.from=b.effects.setTransition(A,D,w.from.y,A.from),A.to=b.effects.setTransition(A,D,w.to.y,A.to)),b.effects.save(A,e),A.show(),b.effects.createWrapper(A),A.css("overflow","hidden").css(A.from),C&&(E=b.effects.getBaseline(C,x),A.from.top=(x.outerHeight-A.outerHeight())*E.y,A.from.left=(x.outerWidth-A.outerWidth())*E.x,A.to.top=(x.outerHeight-A.to.outerHeight)*E.y,A.to.left=(x.outerWidth-A.to.outerWidth)*E.x),A.css(A.from);if(j==="content"||j==="both"){J=J.concat(["marginTop","marginBottom"]).concat(D),F=F.concat(["marginLeft","marginRight"]),H=k.concat(J).concat(F),A.find("*[width]").each(function(){var d=b(this),c={height:d.height(),width:d.width()};I&&b.effects.save(d,H),d.from={height:c.height*w.from.y,width:c.width*w.from.x},d.to={height:c.height*w.to.y,width:c.width*w.to.x},w.from.y!==w.to.y&&(d.from=b.effects.setTransition(d,J,w.from.y,d.from),d.to=b.effects.setTransition(d,J,w.to.y,d.to)),w.from.x!==w.to.x&&(d.from=b.effects.setTransition(d,F,w.from.x,d.from),d.to=b.effects.setTransition(d,F,w.to.x,d.to)),d.css(d.from),d.animate(d.to,q.duration,q.easing,function(){I&&b.effects.restore(d,H)})})}A.animate(A.to,{queue:!1,duration:q.duration,easing:q.easing,complete:function(){A.to.opacity===0&&A.css("opacity",A.from.opacity),z==="hide"&&A.hide(),b.effects.restore(A,e),I||(G==="static"?A.css({position:"relative",top:A.to.top,left:A.to.left}):b.each(["top","left"],function(d,c){A.css(c,function(g,l){var h=parseInt(l,10),f=d?A.to.left:A.to.top;return l==="auto"?f+"px":h+f+"px"})})),b.effects.removeWrapper(A),B()}})}}(jQuery),function(b,a){b.effects.effect.shake=function(q,B){var x=b(this),E=["position","top","bottom","left","right","height","width"],w=b.effects.setMode(x,q.mode||"effect"),A=q.direction||"left",k=q.distance||20,K=q.times||3,H=K*2+1,D=Math.round(q.duration/H),J=A==="up"||A==="down"?"top":"left",F=A==="up"||A==="left",z={},I={},j={},C,G=x.queue(),e=G.length;b.effects.save(x,E),x.show(),b.effects.createWrapper(x),z[J]=(F?"-=":"+=")+k,I[J]=(F?"+=":"-=")+k*2,j[J]=(F?"-=":"+=")+k*2,x.animate(z,D,q.easing);for(C=1;C<K;C++){x.animate(I,D,q.easing).animate(j,D,q.easing)}x.animate(I,D,q.easing).animate(z,D/2,q.easing).queue(function(){w==="hide"&&x.hide(),b.effects.restore(x,E),b.effects.removeWrapper(x),B()}),e>1&&G.splice.apply(G,[1,0].concat(G.splice(e,H+1))),x.dequeue()}}(jQuery),function(b,a){b.effects.effect.slide=function(v,g){var d=b(this),j=["position","top","bottom","left","right","width","height"],w=b.effects.setMode(d,v.mode||"show"),e=w==="show",q=v.direction||"left",p=q==="up"||q==="down"?"top":"left",k=q==="up"||q==="left",h,m={};b.effects.save(d,j),d.show(),h=v.distance||d[p==="top"?"outerHeight":"outerWidth"](!0),b.effects.createWrapper(d).css({overflow:"hidden"}),e&&d.css(p,k?isNaN(h)?"-"+h:-h:h),m[p]=(e?k?"+=":"-=":k?"-=":"+=")+h,d.animate(m,{queue:!1,duration:v.duration,easing:v.easing,complete:function(){w==="hide"&&d.hide(),b.effects.restore(d,j),b.effects.removeWrapper(d),g()}})}}(jQuery),function(b,a){b.effects.effect.transfer=function(x,g){var d=b(this),k=b(x.to),y=k.css("position")==="fixed",e=b("body"),w=y?e.scrollTop():0,v=y?e.scrollLeft():0,p=k.offset(),j={top:p.top-w,left:p.left-v,height:k.innerHeight(),width:k.innerWidth()},q=d.offset(),m=b('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(x.className).css({top:q.top-w,left:q.left-v,height:d.innerHeight(),width:d.innerWidth(),position:y?"fixed":"absolute"}).animate(j,x.duration,x.easing,function(){m.remove(),g()})}}(jQuery),function(b,a){var c=!1;b.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,b.proxy(function(d){this.options.disabled&&d.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(d){var e=b(d.target).closest(".ui-menu-item");!c&&e.not(".ui-state-disabled").length&&(c=!0,this.select(d),e.has(".ui-menu").length?this.expand(d):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(d){var e=b(d.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(d,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,d){var g=this.active||this.element.children(".ui-menu-item").eq(0);d||this.focus(f,g)},blur:function(d){this._delay(function(){b.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(d)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(d){b(d.target).closest(".ui-menu").length||this.collapseAll(d),c=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=b(this);d.data("ui-menu-submenu-carat")&&d.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(g){function d(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var l,j,f,h,k,e=!0;switch(g.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(g);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(g);break;case b.ui.keyCode.HOME:this._move("first","first",g);break;case b.ui.keyCode.END:this._move("last","last",g);break;case b.ui.keyCode.UP:this.previous(g);break;case b.ui.keyCode.DOWN:this.next(g);break;case b.ui.keyCode.LEFT:this.collapse(g);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(g);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(g);break;case b.ui.keyCode.ESCAPE:this.collapse(g);break;default:e=!1,j=this.previousFilter||"",f=String.fromCharCode(g.keyCode),h=!1,clearTimeout(this.filterTimer),f===j?h=!0:f=j+f,k=new RegExp("^"+d(f),"i"),l=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(b(this).children("a").text())}),l=h&&l.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):l,l.length||(f=String.fromCharCode(g.keyCode),k=new RegExp("^"+d(f),"i"),l=this.activeMenu.children(".ui-menu-item").filter(function(){return k.test(b(this).children("a").text())})),l.length?(this.focus(g,l),l.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}e&&g.preventDefault()},_activate:function(d){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(d):this.select(d))},refresh:function(){var d,f=this.options.icons.submenu,e=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});d=e.add(this.element),d.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),d.children(":not(.ui-menu-item)").each(function(){var g=b(this);/[^\-—–\s]/.test(g.text())||g.addClass("ui-widget-content ui-menu-divider")}),d.children(".ui-state-disabled").attr("aria-disabled","true"),e.each(function(){var h=b(this),j=h.prev("a"),g=b("<span>").addClass("ui-menu-icon ui-icon "+f).data("ui-menu-submenu-carat",!0);j.attr("aria-haspopup","true").prepend(g),h.attr("aria-labelledby",j.attr("id"))}),this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(g,d){var h,f;this.blur(g,g&&g.type==="focus"),this._scrollIntoView(d),this.active=d.first(),f=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",f.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),g&&g.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),h=d.children(".ui-menu"),h.length&&/^mouse/.test(g.type)&&this._startOpening(h),this.activeMenu=d.parent(),this._trigger("focus",g,{item:d})},_scrollIntoView:function(f){var k,h,e,g,j,d;this._hasScroll()&&(k=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,h=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,e=f.offset().top-this.activeMenu.offset().top-k-h,g=this.activeMenu.scrollTop(),j=this.activeMenu.height(),d=f.height(),e<0?this.activeMenu.scrollTop(g+e):e+d>j&&this.activeMenu.scrollTop(g+e-j+d))},blur:function(f,d){d||clearTimeout(this.timer);if(!this.active){return}this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",f,{item:this.active})},_startOpening:function(d){clearTimeout(this.timer);if(d.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close(),this._open(d)},this.delay)},_open:function(d){var e=b.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true"),d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(d,e){clearTimeout(this.timer),this.timer=this._delay(function(){var f=e?this.element:b(d&&d.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element),this._close(f),this.blur(d),this.activeMenu=f},this.delay)},_close:function(d){d||(d=this.active?this.active.parent():this.element),d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(f){var d=this.active&&this.active.parent().closest(".ui-menu-item",this.element);d&&d.length&&(this._close(),this.focus(f,d))},expand:function(f){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();d&&d.length&&(this._open(d.parent()),this._delay(function(){this.focus(f,d)}))},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(g,d,h){var f;this.active&&(g==="first"||g==="last"?f=this.active[g==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):f=this.active[g+"All"](".ui-menu-item").eq(0));if(!f||!f.length||!this.active){f=this.activeMenu.children(".ui-menu-item")[d]()}this.focus(h,f)},nextPage:function(e){var g,f,d;if(!this.active){this.next(e);return}if(this.isLastItem()){return}this._hasScroll()?(f=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return g=b(this),g.offset().top-f-d<0}),this.focus(e,g)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(e){var g,f,d;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}this._hasScroll()?(f=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return g=b(this),g.offset().top-f+d>0}),this.focus(e,g)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(d){this.active=this.active||b(d.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(d,!0),this._trigger("select",d,e)}})}(jQuery),function(w,A){function q(c,a,f){return[parseInt(c[0],10)*(k.test(c[0])?a/100:1),parseInt(c[1],10)*(k.test(c[1])?f/100:1)]}function d(a,c){return parseInt(w.css(a,c),10)||0}w.ui=w.ui||{};var j,b=Math.max,m=Math.abs,B=Math.round,g=/left|center|right/,z=/top|center|bottom/,y=/[\+\-]\d+%?/,v=/^\w+/,k=/%$/,x=w.fn.position;w.position={scrollbarWidth:function(){if(j!==A){return j}var e,a,c=w("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),f=c.children()[0];return w("body").append(c),e=f.offsetWidth,c.css("overflow","scroll"),a=f.offsetWidth,e===a&&(a=c[0].clientWidth),c.remove(),j=e-a},getScrollInfo:function(c){var h=c.isWindow?"":c.element.css("overflow-x"),f=c.isWindow?"":c.element.css("overflow-y"),a=h==="scroll"||h==="auto"&&c.width<c.element[0].scrollWidth,e=f==="scroll"||f==="auto"&&c.height<c.element[0].scrollHeight;return{width:a?w.position.scrollbarWidth():0,height:e?w.position.scrollbarWidth():0}},getWithinInfo:function(a){var e=w(a||window),c=w.isWindow(e[0]);return{element:e,isWindow:c,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:c?e.width():e.outerWidth(),height:c?e.height():e.outerHeight()}}},w.fn.position=function(u){if(!u||!u.of){return x.apply(this,arguments)}u=w.extend({},u);var a,e,i,s,c,h=w(u.of),p=w.position.getWithinInfo(u.within),o=w.position.getScrollInfo(p),r=h[0],C=(u.collision||"flip").split(" "),f={};return r.nodeType===9?(e=h.width(),i=h.height(),s={top:0,left:0}):w.isWindow(r)?(e=h.width(),i=h.height(),s={top:h.scrollTop(),left:h.scrollLeft()}):r.preventDefault?(u.at="left top",e=i=0,s={top:r.pageY,left:r.pageX}):(e=h.outerWidth(),i=h.outerHeight(),s=h.offset()),c=w.extend({},s),w.each(["my","at"],function(){var t=(u[this]||"").split(" "),D,l;t.length===1&&(t=g.test(t[0])?t.concat(["center"]):z.test(t[0])?["center"].concat(t):["center","center"]),t[0]=g.test(t[0])?t[0]:"center",t[1]=z.test(t[1])?t[1]:"center",D=y.exec(t[0]),l=y.exec(t[1]),f[this]=[D?D[0]:0,l?l[0]:0],u[this]=[v.exec(t[0])[0],v.exec(t[1])[0]]}),C.length===1&&(C[1]=C[0]),u.at[0]==="right"?c.left+=e:u.at[0]==="center"&&(c.left+=e/2),u.at[1]==="bottom"?c.top+=i:u.at[1]==="center"&&(c.top+=i/2),a=q(f.at,e,i),c.left+=a[0],c.top+=a[1],this.each(function(){var n,K,H=w(this),E=H.outerWidth(),G=H.outerHeight(),J=d(this,"marginLeft"),I=d(this,"marginTop"),D=E+J+d(this,"marginRight")+o.width,F=G+I+d(this,"marginBottom")+o.height,l=w.extend({},c),t=q(f.my,H.outerWidth(),H.outerHeight());u.my[0]==="right"?l.left-=E:u.my[0]==="center"&&(l.left-=E/2),u.my[1]==="bottom"?l.top-=G:u.my[1]==="center"&&(l.top-=G/2),l.left+=t[0],l.top+=t[1],w.support.offsetFractions||(l.left=B(l.left),l.top=B(l.top)),n={marginLeft:J,marginTop:I},w.each(["left","top"],function(M,L){w.ui.position[C[M]]&&w.ui.position[C[M]][L](l,{targetWidth:e,targetHeight:i,elemWidth:E,elemHeight:G,collisionPosition:n,collisionWidth:D,collisionHeight:F,offset:[a[0]+t[0],a[1]+t[1]],my:u.my,at:u.at,within:p,elem:H})}),w.fn.bgiframe&&H.bgiframe(),u.using&&(K=function(O){var Q=s.left-l.left,N=Q+e-E,P=s.top-l.top,L=P+i-G,M={target:{element:h,left:s.left,top:s.top,width:e,height:i},element:{element:H,left:l.left,top:l.top,width:E,height:G},horizontal:N<0?"left":Q>0?"right":"center",vertical:L<0?"top":P>0?"bottom":"middle"};e<E&&m(Q+N)<e&&(M.horizontal="center"),i<G&&m(P+L)<i&&(M.vertical="middle"),b(m(Q),m(N))>b(m(P),m(L))?M.important="horizontal":M.important="vertical",u.using.call(this,O,M)}),H.offset(w.extend(l,{using:K}))})},w.ui.position={fit:{left:function(r,E){var h=E.within,l=h.isWindow?h.scrollLeft:h.offset.left,F=h.width,c=r.left-E.collisionPosition.marginLeft,D=l-c,C=c+E.collisionWidth-F-l,p;E.collisionWidth>F?D>0&&C<=0?(p=r.left+D+E.collisionWidth-F-l,r.left+=D-p):C>0&&D<=0?r.left=l:D>C?r.left=l+F-E.collisionWidth:r.left=l:D>0?r.left+=D:C>0?r.left-=C:r.left=b(r.left-c,r.left)},top:function(r,E){var h=E.within,l=h.isWindow?h.scrollTop:h.offset.top,F=E.within.height,c=r.top-E.collisionPosition.marginTop,D=l-c,C=c+E.collisionHeight-F-l,p;E.collisionHeight>F?D>0&&C<=0?(p=r.top+D+E.collisionHeight-F-l,r.top+=D-p):C>0&&D<=0?r.top=l:D>C?r.top=l+F-E.collisionHeight:r.top=l:D>0?r.top+=D:C>0?r.top-=C:r.top=b(r.top-c,r.top)}},flip:{left:function(I,N){var E=N.within,i=E.offset.left+E.scrollLeft,O=E.width,D=E.isWindow?E.scrollLeft:E.offset.left,M=I.left-N.collisionPosition.marginLeft,L=M-D,H=M+N.collisionWidth-O-D,F=N.my[0]==="left"?-N.elemWidth:N.my[0]==="right"?N.elemWidth:0,K=N.at[0]==="left"?N.targetWidth:N.at[0]==="right"?-N.targetWidth:0,G=-2*N.offset[0],C,J;if(L<0){C=I.left+F+K+G+N.collisionWidth-O-i;if(C<0||C<m(L)){I.left+=F+K+G}}else{if(H>0){J=I.left-N.collisionPosition.marginLeft+F+K+G-D;if(J>0||m(J)<H){I.left+=F+K+G}}}},top:function(I,O){var E=O.within,i=E.offset.top+E.scrollTop,P=E.height,D=E.isWindow?E.scrollTop:E.offset.top,N=I.top-O.collisionPosition.marginTop,L=N-D,H=N+O.collisionHeight-P-D,F=O.my[1]==="top",K=F?-O.elemHeight:O.my[1]==="bottom"?O.elemHeight:0,G=O.at[1]==="top"?O.targetHeight:O.at[1]==="bottom"?-O.targetHeight:0,C=-2*O.offset[1],J,M;L<0?(M=I.top+K+G+C+O.collisionHeight-P-i,I.top+K+G+C>L&&(M<0||M<m(L))&&(I.top+=K+G+C)):H>0&&(J=I.top-O.collisionPosition.marginTop+K+G+C-D,I.top+K+G+C>H&&(J>0||m(J)<H)&&(I.top+=K+G+C))}},flipfit:{left:function(){w.ui.position.flip.left.apply(this,arguments),w.ui.position.fit.left.apply(this,arguments)},top:function(){w.ui.position.flip.top.apply(this,arguments),w.ui.position.fit.top.apply(this,arguments)}}},function(){var e,p,h,c,f,l=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(l?"div":"body"),h={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&w.extend(h,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in h){e.style[f]=h[f]}e.appendChild(a),p=l||document.documentElement,p.insertBefore(e,p.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",c=w(a).offset().left,w.support.offsetFractions=c>10&&c<11,e.innerHTML="",p.removeChild(e)}(),w.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(h){if(!h||!h.offset){return c.call(this,h)}var e=h.offset.split(" "),f=h.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(h,{at:f[0]+e[0]+" "+f[1]+e[1],offset:A}))}}(jQuery)}(jQuery),function(b,a){b.widget("ui.progressbar",{version:"1.9.1",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(c){return c===a?this._value():(this._setOption("value",c),this)},_setOption:function(d,c){d==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(d,c)},_value:function(){var c=this.options.value;return typeof c!="number"&&(c=0),Math.min(this.options.max,Math.max(this.min,c))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var d=this.value(),c=this._percentage();this.oldValue!==d&&(this.oldValue=d,this._trigger("change")),this.valueDiv.toggle(d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%"),this.element.attr("aria-valuenow",d)}})}(jQuery),function(b,a){var c=5;b.widget("ui.slider",b.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var f,h,e=this.options,g=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),j="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",d=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(e.disabled?" ui-slider-disabled ui-disabled":"")),this.range=b([]),e.range&&(e.range===!0&&(e.values||(e.values=[this._valueMin(),this._valueMin()]),e.values.length&&e.values.length!==2&&(e.values=[e.values[0],e.values[0]])),this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(e.range==="min"||e.range==="max"?" ui-slider-range-"+e.range:""))),h=e.values&&e.values.length||1;for(f=g.length;f<h;f++){d.push(j)}this.handles=g.add(b(d.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(i){i.preventDefault()}).mouseenter(function(){e.disabled||b(this).addClass("ui-state-hover")}).mouseleave(function(){b(this).removeClass("ui-state-hover")}).focus(function(){e.disabled?b(this).blur():(b(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),b(this).addClass("ui-state-focus"))}).blur(function(){b(this).removeClass("ui-state-focus")}),this.handles.each(function(i){b(this).data("ui-slider-handle-index",i)}),this._on(this.handles,{keydown:function(m){var p,l,n,q,k=b(m.target).data("ui-slider-handle-index");switch(m.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:m.preventDefault();if(!this._keySliding){this._keySliding=!0,b(m.target).addClass("ui-state-active"),p=this._start(m,k);if(p===!1){return}}}q=this.options.step,this.options.values&&this.options.values.length?l=n=this.values(k):l=n=this.value();switch(m.keyCode){case b.ui.keyCode.HOME:n=this._valueMin();break;case b.ui.keyCode.END:n=this._valueMax();break;case b.ui.keyCode.PAGE_UP:n=this._trimAlignValue(l+(this._valueMax()-this._valueMin())/c);break;case b.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(l-(this._valueMax()-this._valueMin())/c);break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(l===this._valueMax()){return}n=this._trimAlignValue(l+q);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(l===this._valueMin()){return}n=this._trimAlignValue(l-q)}this._slide(m,k,n)},keyup:function(i){var k=b(i.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(i,k),this._change(i,k),b(i.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(v){var g,d,j,w,e,q,p,k,h=this,m=this.options;return m.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),g={x:v.pageX,y:v.pageY},d=this._normValueFromMouse(g),j=this._valueMax()-this._valueMin()+1,this.handles.each(function(f){var i=Math.abs(d-h.values(f));j>i&&(j=i,w=b(this),e=f)}),m.range===!0&&this.values(1)===m.min&&(e+=1,w=b(this.handles[e])),q=this._start(v,e),q===!1?!1:(this._mouseSliding=!0,this._handleIndex=e,w.addClass("ui-state-active").focus(),p=w.offset(),k=!b(v.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=k?{left:0,top:0}:{left:v.pageX-p.left-w.width()/2,top:v.pageY-p.top-w.height()/2-(parseInt(w.css("borderTopWidth"),10)||0)-(parseInt(w.css("borderBottomWidth"),10)||0)+(parseInt(w.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(v,e,d),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},g=this._normValueFromMouse(d);return this._slide(f,this._handleIndex,g),!1},_mouseStop:function(d){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(d,this._handleIndex),this._change(d,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(j){var f,k,h,d,g;return this.orientation==="horizontal"?(f=this.elementSize.width,k=j.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(f=this.elementSize.height,k=j.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=k/f,h>1&&(h=1),h<0&&(h=0),this.orientation==="vertical"&&(h=1-h),d=this._valueMax()-this._valueMin(),g=this._valueMin()+h*d,this._trimAlignValue(g)},_start:function(f,d){var g={handle:this.handles[d],value:this.value()};return this.options.values&&this.options.values.length&&(g.value=this.values(d),g.values=this.values()),this._trigger("start",f,g)},_slide:function(j,f,k){var h,d,g;this.options.values&&this.options.values.length?(h=this.values(f?0:1),this.options.values.length===2&&this.options.range===!0&&(f===0&&k>h||f===1&&k<h)&&(k=h),k!==this.values(f)&&(d=this.values(),d[f]=k,g=this._trigger("slide",j,{handle:this.handles[f],value:k,values:d}),h=this.values(f?0:1),g!==!1&&this.values(f,k,!0))):k!==this.value()&&(g=this._trigger("slide",j,{handle:this.handles[f],value:k}),g!==!1&&this.value(k))},_stop:function(f,d){var g={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(d),g.values=this.values()),this._trigger("stop",f,g)},_change:function(f,d){if(!this._keySliding&&!this._mouseSliding){var g={handle:this.handles[d],value:this.value()};this.options.values&&this.options.values.length&&(g.value=this.values(d),g.values=this.values()),this._trigger("change",f,g)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h),this._refreshValue(),this._change(null,e);return}if(!arguments.length){return this._values()}if(!b.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(e):this.value()}g=this.options.values,d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]),this._change(null,f)}this._refreshValue()},_setOption:function(e,g){var f,d=0;b.isArray(this.options.values)&&(d=this.options.values.length),b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":g?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(f=0;f<d;f+=1){this._change(null,f)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var d=this.options.value;return d=this._trimAlignValue(d),d},_values:function(g){var d,h,f;if(arguments.length){return d=this.options.values[g],d=this._trimAlignValue(d),d}h=this.options.values.slice();for(f=0;f<h.length;f+=1){h[f]=this._trimAlignValue(h[f])}return h},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=this.options.step>0?this.options.step:1,h=(g-this._valueMin())%d,f=g-h;return Math.abs(h)*2>=d&&(f+=h>0?d:-d),parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var q,g,d,j,v,e=this.options.range,p=this.options,m=this,k=this._animateOff?!1:p.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(f){g=(m.values(f)-m._valueMin())/(m._valueMax()-m._valueMin())*100,h[m.orientation==="horizontal"?"left":"bottom"]=g+"%",b(this).stop(1,1)[k?"animate":"css"](h,p.animate),m.options.range===!0&&(m.orientation==="horizontal"?(f===0&&m.range.stop(1,1)[k?"animate":"css"]({left:g+"%"},p.animate),f===1&&m.range[k?"animate":"css"]({width:g-q+"%"},{queue:!1,duration:p.animate})):(f===0&&m.range.stop(1,1)[k?"animate":"css"]({bottom:g+"%"},p.animate),f===1&&m.range[k?"animate":"css"]({height:g-q+"%"},{queue:!1,duration:p.animate}))),q=g}):(d=this.value(),j=this._valueMin(),v=this._valueMax(),g=v!==j?(d-j)/(v-j)*100:0,h[this.orientation==="horizontal"?"left":"bottom"]=g+"%",this.handle.stop(1,1)[k?"animate":"css"](h,p.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[k?"animate":"css"]({width:g+"%"},p.animate),e==="max"&&this.orientation==="horizontal"&&this.range[k?"animate":"css"]({width:100-g+"%"},{queue:!1,duration:p.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[k?"animate":"css"]({height:g+"%"},p.animate),e==="max"&&this.orientation==="vertical"&&this.range[k?"animate":"css"]({height:100-g+"%"},{queue:!1,duration:p.animate}))}})}(jQuery),function(b){function a(c){return function(){var d=this.element.val();c.apply(this,arguments),this._refresh(),d!==this.element.val()&&this._trigger("change")}}b.widget("ui.spinner",{version:"1.9.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;return b.each(["min","max","step"],function(h,g){var f=d.attr(g);f!==undefined&&f.length&&(c[g]=f)}),c},_events:{keydown:function(c){this._start(c)&&this._keydown(c)&&c.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",c)},mousewheel:function(d,c){if(!c){return}if(!this.spinning&&!this._start(d)){return !1}this._spin((c>0?1:-1)*this.options.step,d),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(d)},100),d.preventDefault()},"mousedown .ui-spinner-button":function(c){function d(){var f=this.element[0]===this.document[0].activeElement;f||(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e}))}var e;e=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),c.preventDefault(),d.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,d.call(this)});if(this._start(c)===!1){return}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!b(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===!1){return !1}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0&&c.height(c.height()),this.options.disabled&&this.disable()},_keydown:function(c){var e=this.options,d=b.ui.keyCode;switch(c.keyCode){case d.UP:return this._repeat(null,1,c),!0;case d.DOWN:return this._repeat(null,-1,c),!0;case d.PAGE_UP:return this._repeat(null,e.page,c),!0;case d.PAGE_DOWN:return this._repeat(null,-e.page,c),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){return !this.spinning&&this._trigger("start",c)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(d,c,f){d=d||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,c,f)},d),this._spin(c*this.options.step,f)},_spin:function(d,c){var f=this.value()||0;this.counter||(this.counter=1),f=this._adjustValue(f+d*this._increment(this.counter));if(!this.spinning||this._trigger("spin",c,{value:f})!==!1){this._value(f),this.counter++}},_increment:function(c){var d=this.options.incremental;return d?b.isFunction(d)?d(c):Math.floor(c*c*c/50000-c*c/500+17*c/200+1):1},_precision:function(){var c=this._precisionOf(this.options.step);return this.options.min!==null&&(c=Math.max(c,this._precisionOf(this.options.min))),c},_precisionOf:function(d){var c=d.toString(),f=c.indexOf(".");return f===-1?0:c.length-f-1},_adjustValue:function(f){var c,g,d=this.options;return c=d.min!==null?d.min:0,g=f-c,g=Math.round(g/d.step)*d.step,f=c+g,f=parseFloat(f.toFixed(this._precision())),d.max!==null&&f>d.max?d.max:d.min!==null&&f<d.min?d.min:f},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",c)},_setOption:function(d,c){if(d==="culture"||d==="numberFormat"){var f=this._parse(this.element.val());this.options[d]=c,this.element.val(this._format(f));return}(d==="max"||d==="min"||d==="step")&&typeof c=="string"&&(c=this._parse(c)),this._super(d,c),d==="disabled"&&(c?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:a(function(c){this._super(c),this._value(this.element.val())}),_parse:function(c){return typeof c=="string"&&c!==""&&(c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c),c===""||isNaN(c)?null:c},_format:function(c){return c===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(d,c){var f;d!==""&&(f=this._parse(d),f!==null&&(c||(f=this._adjustValue(f)),d=this._format(f))),this.element.val(d),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(c){this._stepUp(c)}),_stepUp:function(c){this._spin((c||1)*this.options.step)},stepDown:a(function(c){this._stepDown(c)}),_stepDown:function(c){this._spin((c||1)*-this.options.step)},pageUp:a(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:a(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,c)},widget:function(){return this.uiSpinner}})}(jQuery),function(f,b){function a(){return ++g}function c(h){return h.hash.length>1&&h.href.replace(d,"")===location.href.replace(d,"")}var g=0,d=/#.*$/;f.widget("ui.tabs",{version:"1.9.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var h=this,k=this.options,j=k.active,e=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",k.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(i){f(this).is(".ui-state-disabled")&&i.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){f(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs();if(j===null){e&&this.tabs.each(function(i,l){if(f(l).attr("aria-controls")===e){return j=i,!1}}),j===null&&(j=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(j===null||j===-1){j=this.tabs.length?0:!1}}j!==!1&&(j=this.tabs.index(this.tabs.eq(j)),j===-1&&(j=k.collapsible?!1:0)),k.active=j,!k.collapsible&&k.active===!1&&this.anchors.length&&(k.active=0),f.isArray(k.disabled)&&(k.disabled=f.unique(k.disabled.concat(f.map(this.tabs.filter(".ui-state-disabled"),function(i){return h.tabs.index(i)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=f(),this._refresh(),this.active.length&&this.load(k.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):f()}},_tabKeydown:function(h){var k=f(this.document[0].activeElement).closest("li"),j=this.tabs.index(k),e=!0;if(this._handlePageNav(h)){return}switch(h.keyCode){case f.ui.keyCode.RIGHT:case f.ui.keyCode.DOWN:j++;break;case f.ui.keyCode.UP:case f.ui.keyCode.LEFT:e=!1,j--;break;case f.ui.keyCode.END:j=this.anchors.length-1;break;case f.ui.keyCode.HOME:j=0;break;case f.ui.keyCode.SPACE:h.preventDefault(),clearTimeout(this.activating),this._activate(j);return;case f.ui.keyCode.ENTER:h.preventDefault(),clearTimeout(this.activating),this._activate(j===this.options.active?!1:j);return;default:return}h.preventDefault(),clearTimeout(this.activating),j=this._focusNextTab(j,e),h.ctrlKey||(k.attr("aria-selected","false"),this.tabs.eq(j).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",j)},this.delay))},_panelKeydown:function(e){if(this._handlePageNav(e)){return}e.ctrlKey&&e.keyCode===f.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){if(e.altKey&&e.keyCode===f.ui.keyCode.PAGE_UP){return this._activate(this._focusNextTab(this.options.active-1,!1)),!0}if(e.altKey&&e.keyCode===f.ui.keyCode.PAGE_DOWN){return this._activate(this._focusNextTab(this.options.active+1,!0)),!0}},_findNextTab:function(h,k){function e(){return h>j&&(h=0),h<0&&(h=j),h}var j=this.tabs.length-1;while(f.inArray(e(),this.options.disabled)!==-1){h=k?h+1:h-1}return h},_focusNextTab:function(i,h){return i=this._findNextTab(i,h),this.tabs.eq(i).focus(),i},_setOption:function(i,h){if(i==="active"){this._activate(h);return}if(i==="disabled"){this._setupDisabled(h);return}this._super(i,h),i==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",h),!h&&this.options.active===!1&&this._activate(0)),i==="event"&&this._setupEvents(h),i==="heightStyle"&&this._setupHeightStyle(h)},_tabId:function(h){return h.attr("aria-controls")||"ui-tabs-"+a()},_sanitizeSelector:function(h){return h?h.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,h=this.tablist.children(":has(a[href])");e.disabled=f.map(h.filter(".ui-state-disabled"),function(i){return h.index(i)}),this._processTabs(),e.active===!1||!this.anchors.length?(e.active=!1,this.active=f()):this.active.length&&!f.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=f()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return f("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=f(),this.anchors.each(function(t,p){var m,s,k,j=f(p).uniqueId().attr("id"),q=f(p).closest("li"),h=q.attr("aria-controls");c(p)?(m=p.hash,s=e.element.find(e._sanitizeSelector(m))):(k=e._tabId(q),m="#"+k,s=e.element.find(m),s.length||(s=e._createPanel(k),s.insertAfter(e.panels[t-1]||e.tablist)),s.attr("aria-live","polite")),s.length&&(e.panels=e.panels.add(s)),h&&q.data("ui-tabs-aria-controls",h),q.attr({"aria-controls":m.substring(1),"aria-labelledby":j}),s.attr("aria-labelledby",j)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return f("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){f.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i=0,h;h=this.tabs[i];i++){e===!0||f.inArray(i,e)!==-1?f(h).addClass("ui-state-disabled").attr("aria-disabled","true"):f(h).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=e},_setupEvents:function(e){var h={click:function(i){i.preventDefault()}};e&&f.each(e.split(" "),function(j,i){h[i]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,h),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(h){var k,j,e=this.element.parent();h==="fill"?(f.support.minHeight||(j=e.css("overflow"),e.css("overflow","hidden")),k=e.height(),this.element.siblings(":visible").each(function(){var i=f(this),l=i.css("position");if(l==="absolute"||l==="fixed"){return}k-=i.outerHeight(!0)}),j&&e.css("overflow",j),this.element.children().not(this.panels).each(function(){k-=f(this).outerHeight(!0)}),this.panels.each(function(){f(this).height(Math.max(0,k-f(this).innerHeight()+f(this).height()))}).css("overflow","auto")):h==="auto"&&(k=0,this.panels.each(function(){k=Math.max(k,f(this).height("").height())}).height(k))},_eventHandler:function(w){var j=this.options,e=this.active,m=f(w.currentTarget),x=m.closest("li"),h=x[0]===e[0],v=h&&j.collapsible,q=v?f():this._getPanelForTab(x),p=e.length?this._getPanelForTab(e):f(),k={oldTab:e,oldPanel:p,newTab:v?f():x,newPanel:q};w.preventDefault();if(x.hasClass("ui-state-disabled")||x.hasClass("ui-tabs-loading")||this.running||h&&!j.collapsible||this._trigger("beforeActivate",w,k)===!1){return}j.active=v?!1:this.tabs.index(x),this.active=h?f():x,this.xhr&&this.xhr.abort(),!p.length&&!q.length&&f.error("jQuery UI Tabs: Mismatching fragment identifier."),q.length&&this.load(this.tabs.index(x),w),this._toggle(w,k)},_toggle:function(j,p){function m(){l.running=!1,l._trigger("activate",j,p)}function e(){p.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),h.length&&l.options.show?l._show(h,l.options.show,m):(h.show(),m())}var l=this,h=p.newPanel,k=p.oldPanel;this.running=!0,k.length&&this.options.hide?this._hide(k,this.options.hide,function(){p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),k.hide(),e()),k.attr({"aria-expanded":"false","aria-hidden":"true"}),p.oldTab.attr("aria-selected","false"),h.length&&k.length?p.oldTab.attr("tabIndex",-1):h.length&&this.tabs.filter(function(){return f(this).attr("tabIndex")===0}).attr("tabIndex",-1),h.attr({"aria-expanded":"true","aria-hidden":"false"}),p.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,h=this._findActive(e);if(h[0]===this.active[0]){return}h.length||(h=this.active),i=h.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:f.noop})},_findActive:function(e){return e===!1?f():this.tabs.eq(e)},_getIndex:function(h){return typeof h=="string"&&(h=this.anchors.index(this.anchors.filter("[href$='"+h+"']"))),h},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){f.data(this,"ui-tabs-destroy")?f(this).remove():f(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=f(this),h=e.data("ui-tabs-aria-controls");h?e.attr("aria-controls",h):e.removeAttr("aria-controls")}),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(h){var e=this.options.disabled;if(e===!1){return}h===b?e=!1:(h=this._getIndex(h),f.isArray(e)?e=f.map(e,function(i){return i!==h?i:null}):e=f.map(this.tabs,function(j,i){return i!==h?i:null})),this._setupDisabled(e)},disable:function(h){var e=this.options.disabled;if(e===!0){return}if(h===b){e=!0}else{h=this._getIndex(h);if(f.inArray(h,e)!==-1){return}f.isArray(e)?e=f.merge([h],e).sort():e=[h]}this._setupDisabled(e)},load:function(k,p){k=this._getIndex(k);var l=this,j=this.tabs.eq(k),m=j.find(".ui-tabs-anchor"),h=this._getPanelForTab(j),e={tab:j,panel:h};if(c(m[0])){return}this.xhr=f.ajax(this._ajaxSettings(m,p,e)),this.xhr&&this.xhr.statusText!=="canceled"&&(j.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(i){setTimeout(function(){h.html(i),l._trigger("load",p,e)},1)}).complete(function(n,i){setTimeout(function(){i==="abort"&&l.panels.stop(!1,!0),j.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),n===l.xhr&&delete l.xhr},1)}))},_ajaxSettings:function(h,k,j){var e=this;return{url:h.attr("href"),beforeSend:function(i,l){return e._trigger("beforeLoad",k,f.extend({jqXHR:i,ajaxSettings:l},j))}}},_getPanelForTab:function(e){var h=f(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}}),f.uiBackCompat!==!1&&(f.ui.tabs.prototype._ui=function(i,h){return{tab:i,panel:h,index:this.anchors.index(i)}},f.widget("ui.tabs",f.ui.tabs,{url:function(i,h){this.anchors.eq(i).attr("href",h)}}),f.widget("ui.tabs",f.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var e=this;this._on({tabsbeforeload:function(i,h){if(f.data(h.tab[0],"cache.tabs")){i.preventDefault();return}h.jqXHR.success(function(){e.options.cache&&f.data(h.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(h,k,j){var e=this.options.ajaxOptions;return f.extend({},e,{error:function(l,i){try{e.error(l,i,j.tab.closest("li").index(),j.tab[0])}catch(m){}}},this._superApply(arguments))},_setOption:function(i,h){i==="cache"&&h===!1&&this.anchors.removeData("cache.tabs"),this._super(i,h)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(h){this.anchors.eq(h).removeData("cache.tabs"),this._superApply(arguments)}}),f.widget("ui.tabs",f.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),f.widget("ui.tabs",f.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(j,h){if(j.target!==this.element[0]||!this.options.spinner){return}var k=h.tab.find("span"),i=k.html();k.html(this.options.spinner),h.jqXHR.complete(function(){k.html(i)})}})}}),f.widget("ui.tabs",f.ui.tabs,{options:{enable:null,disable:null},enable:function(e){var i=this.options,h;if(e&&i.disabled===!0||f.isArray(i.disabled)&&f.inArray(e,i.disabled)!==-1){h=!0}this._superApply(arguments),h&&this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e]))},disable:function(e){var i=this.options,h;if(e&&i.disabled===!1||f.isArray(i.disabled)&&f.inArray(e,i.disabled)===-1){h=!0}this._superApply(arguments),h&&this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))}}),f.widget("ui.tabs",f.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(q,l,j){j===b&&(j=this.anchors.length);var k,p,h=this.options,e=f(h.tabTemplate.replace(/#\{href\}/g,q).replace(/#\{label\}/g,l)),m=q.indexOf("#")?this._tabId(e):q.replace("#","");return e.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),e.attr("aria-controls",m),k=j>=this.tabs.length,p=this.element.find("#"+m),p.length||(p=this._createPanel(m),k?j>0?p.insertAfter(this.panels.eq(-1)):p.appendTo(this.element):p.insertBefore(this.panels[j])),p.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),k?e.appendTo(this.tablist):e.insertBefore(this.tabs[j]),h.disabled=f.map(h.disabled,function(i){return i>=j?++i:i}),this.refresh(),this.tabs.length===1&&h.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[j],this.panels[j])),this},remove:function(h){h=this._getIndex(h);var k=this.options,j=this.tabs.eq(h).remove(),e=this._getPanelForTab(j).remove();return j.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(h+(h+1<this.anchors.length?1:-1)),k.disabled=f.map(f.grep(k.disabled,function(i){return i!==h}),function(i){return i>=h?--i:i}),this.refresh(),this._trigger("remove",null,this._ui(j.find("a")[0],e[0])),this}}),f.widget("ui.tabs",f.ui.tabs,{length:function(){return this.anchors.length}}),f.widget("ui.tabs",f.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(e){var h=e.is("li")?e.find("a[href]"):e;return h=h[0],f(h).closest("li").attr("aria-controls")||h.title&&h.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+a()}}),f.widget("ui.tabs",f.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(e){return f(this.options.panelTemplate).attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),f.widget("ui.tabs",f.ui.tabs,{_create:function(){var h=this.options;h.active===null&&h.selected!==b&&(h.active=h.selected===-1?!1:h.selected),this._super(),h.selected=h.active,h.selected===!1&&(h.selected=-1)},_setOption:function(i,h){if(i!=="selected"){return this._super(i,h)}var j=this.options;this._super("active",h===-1?!1:h),j.selected=j.active,j.selected===!1&&(j.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),f.widget("ui.tabs",f.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(j,h,k){var i=this._superApply(arguments);return i?(j==="beforeActivate"&&k.newTab.length?i=this._super("select",h,{tab:k.newTab.find(".ui-tabs-anchor")[0],panel:k.newPanel[0],index:k.newTab.closest("li").index()}):j==="activate"&&k.newTab.length&&(i=this._super("show",h,{tab:k.newTab.find(".ui-tabs-anchor")[0],panel:k.newPanel[0],index:k.newTab.closest("li").index()})),i):!1}}),f.widget("ui.tabs",f.ui.tabs,{select:function(h){h=this._getIndex(h);if(h===-1){if(!this.options.collapsible||this.options.selected===-1){return}h=this.options.selected}this.anchors.eq(h).trigger(this.options.event+this.eventNamespace)}}),function(){var e=0;f.widget("ui.tabs",f.ui.tabs,{options:{cookie:null},_create:function(){var i=this.options,h;i.active==null&&i.cookie&&(h=parseInt(this._cookie(),10),h===-1&&(h=!1),i.active=h),this._super()},_cookie:function(i){var h=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++e)];return arguments.length&&(h.push(i===!1?-1:i),h.push(this.options.cookie)),f.cookie.apply(null,h)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),f.widget("ui.tabs",f.ui.tabs,{_trigger:function(h,k,j){var e=f.extend({},j);return h==="load"&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(h,k,e)}}),f.widget("ui.tabs",f.ui.tabs,{options:{fx:null},_getFx:function(){var e,i,h=this.options.fx;return h&&(f.isArray(h)?(e=h[0],i=h[1]):e=i=h),h?{show:i,hide:e}:null},_toggle:function(p,k){function q(){v.running=!1,v._trigger("activate",p,k)}function h(){k.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),m.length&&l.show?m.animate(l.show,l.show.duration,function(){q()}):(m.show(),q())}var v=this,m=k.newPanel,j=k.oldPanel,l=this._getFx();if(!l){return this._super(p,k)}v.running=!0,j.length&&l.hide?j.animate(l.hide,l.hide.duration,function(){k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h()}):(k.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),j.hide(),h())}}))}(jQuery),function(c){function d(e,g){var f=(e.attr("aria-describedby")||"").split(/\s+/);f.push(g),e.data("ui-tooltip-id",g).attr("aria-describedby",c.trim(f.join(" ")))}function b(f){var h=f.data("ui-tooltip-id"),g=(f.attr("aria-describedby")||"").split(/\s+/),e=c.inArray(h,g);e!==-1&&g.splice(e,1),f.removeData("ui-tooltip-id"),g=c.trim(g.join(" ")),g?f.attr("aria-describedby",g):f.removeAttr("aria-describedby")}var a=0;c.widget("ui.tooltip",{version:"1.9.1",options:{content:function(){return c(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flipfit"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"](),this.options[e]=g;return}this._super(e,g),e==="content"&&c.each(this.tooltips,function(i,h){f._updateContent(h)})},_disable:function(){var e=this;c.each(this.tooltips,function(h,g){var f=c.Event("blur");f.target=f.currentTarget=g[0],e.close(f,!0)}),this.element.find(this.options.items).andSelf().each(function(){var f=c(this);f.is("[title]")&&f.data("ui-tooltip-title",f.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var e=c(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var g=this,f=c(e?e.target:this.element).closest(this.options.items);if(!f.length){return}if(this.options.track&&f.data("ui-tooltip-id")){this._find(f).position(c.extend({of:f},this.options.position)),this._off(this.document,"mousemove");return}f.attr("title")&&f.data("ui-tooltip-title",f.attr("title")),f.data("tooltip-open",!0),e&&e.type==="mouseover"&&f.parents().each(function(){var h;c(this).data("tooltip-open")&&(h=c.Event("blur"),h.target=h.currentTarget=this,g.close(h,!0)),this.title&&(c(this).uniqueId(),g.parents[this.id]={element:this,title:this.title},this.title="")}),this._updateContent(f,e)},_updateContent:function(j,g){var k,h=this.options.content,f=this;if(typeof h=="string"){return this._open(g,j,h)}k=h.call(j[0],function(e){if(!j.data("tooltip-open")){return}f._delay(function(){this._open(g,j,e)})}),k&&this._open(g,j,k)},_open:function(j,l,h){function m(f){e.of=f;if(k.is(":hidden")){return}k.position(e)}var k,n,g,e=c.extend({},this.options.position);if(!h){return}k=this._find(l);if(k.length){k.find(".ui-tooltip-content").html(h);return}l.is("[title]")&&(j&&j.type==="mouseover"?l.attr("title",""):l.removeAttr("title")),k=this._tooltip(l),d(l,k.attr("id")),k.find(".ui-tooltip-content").html(h),this.options.track&&j&&/^mouse/.test(j.originalEvent.type)?(this._on(this.document,{mousemove:m}),m(j)):k.position(c.extend({of:l},this.options.position)),k.hide(),this._show(k,this.options.show),this.options.show&&this.options.show.delay&&(g=setInterval(function(){k.is(":visible")&&(m(e.of),clearInterval(g))},c.fx.interval)),this._trigger("open",j,{tooltip:k}),n={keyup:function(f){if(f.keyCode===c.ui.keyCode.ESCAPE){var i=c.Event(f);i.currentTarget=l[0],this.close(i,!0)}},remove:function(){this._removeTooltip(k)}};if(!j||j.type==="mouseover"){n.mouseleave="close"}if(!j||j.type==="focusin"){n.focusout="close"}this._on(l,n)},close:function(f){var h=this,e=c(f?f.currentTarget:this.element),g=this._find(e);if(this.closing){return}e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),b(e),g.stop(!0),this._hide(g,this.options.hide,function(){h._removeTooltip(c(this))}),e.removeData("tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),f&&f.type==="mouseleave"&&c.each(this.parents,function(j,i){i.element.title=i.title,delete h.parents[j]}),this.closing=!0,this._trigger("close",f,{tooltip:g}),this.closing=!1},_tooltip:function(g){var f="ui-tooltip-"+a++,e=c("<div>").attr({id:f,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return c("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),c.fn.bgiframe&&e.bgiframe(),this.tooltips[f]=g,e},_find:function(e){var f=e.data("ui-tooltip-id");return f?c("#"+f):c()},_removeTooltip:function(f){f.remove(),delete this.tooltips[f.attr("id")]},_destroy:function(){var e=this;c.each(this.tooltips,function(h,g){var f=c.Event("blur");f.target=f.currentTarget=g[0],e.close(f,!0),c("#"+h).remove(),g.data("ui-tooltip-title")&&(g.attr("title",g.data("ui-tooltip-title")),g.removeData("ui-tooltip-title"))})}})}(jQuery);
jQuery(function(a){a.datepicker.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3c;上月",nextText:"下月&#x3e;",currentText:"今天",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:1,isRTL:false,showMonthAfterYear:true,yearSuffix:"年"};a.datepicker.setDefaults(a.datepicker.regional["zh-CN"])});
(function(b){b.jgrid=b.jgrid||{};b.extend(b.jgrid,{version:"4.4.4",htmlDecode:function(b){return b&&("&nbsp;"==b||"&#160;"==b||1===b.length&&160===b.charCodeAt(0))?"":!b?b:(""+b).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},htmlEncode:function(b){return !b?b:(""+b).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},format:function(f){var d=b.makeArray(arguments).slice(1);null==f&&(f="");return f.replace(/\{(\d+)\}/g,function(b,e){return d[e]})},msie:"Microsoft Internet Explorer"==navigator.appName,msiever:function(){var b=-1;null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));return b},getCellIndex:function(f){f=b(f);if(f.is("tr")){return -1}f=(!f.is("td")&&!f.is("th")?f.closest("td,th"):f)[0];return b.jgrid.msie?b.inArray(f,f.parentNode.cells):f.cellIndex},stripHtml:function(b){var b=""+b,d=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return b?(b=b.replace(d,""))&&"&nbsp;"!==b&&"&#160;"!==b?b.replace(/\"/g,"'"):"":b},stripPref:function(f,d){var c=b.type(f);if("string"==c||"number"==c){f=""+f,d=""!==f?(""+d).replace(""+f,""):d}return d},stringToDoc:function(b){var d;if("string"!==typeof b){return b}try{d=(new DOMParser).parseFromString(b,"text/xml")}catch(c){d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(b)}return d&&d.documentElement&&"parsererror"!=d.documentElement.tagName?d:null},parse:function(f){"while(1);"==f.substr(0,9)&&(f=f.substr(9));"/*"==f.substr(0,2)&&(f=f.substr(2,f.length-4));f||(f="{}");return !0===b.jgrid.useJSON&&"object"===typeof JSON&&"function"===typeof JSON.parse?JSON.parse(f):eval("("+f+")")},parseDate:function(f,d){var c={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},e,a,i;e=/[\\\/:_;.,\t\T\s-]/;if(d&&null!=d){d=b.trim(d);d=d.split(e);void 0!==b.jgrid.formatter.date.masks[f]&&(f=b.jgrid.formatter.date.masks[f]);var f=f.split(e),h=b.jgrid.formatter.date.monthNames,g=b.jgrid.formatter.date.AmPm,j=function(a,b){0===a?12===b&&(b=0):12!==b&&(b+=12);return b};e=0;for(a=f.length;e<a;e++){"M"==f[e]&&(i=b.inArray(d[e],h),-1!==i&&12>i&&(d[e]=i+1,c.m=d[e])),"F"==f[e]&&(i=b.inArray(d[e],h),-1!==i&&11<i&&(d[e]=i+1-12,c.m=d[e])),"a"==f[e]&&(i=b.inArray(d[e],g),-1!==i&&2>i&&d[e]==g[i]&&(d[e]=i,c.h=j(d[e],c.h))),"A"==f[e]&&(i=b.inArray(d[e],g),-1!==i&&1<i&&d[e]==g[i]&&(d[e]=i-2,c.h=j(d[e],c.h))),"g"===f[e]&&(c.h=parseInt(d[e],10)),void 0!==d[e]&&(c[f[e].toLowerCase()]=parseInt(d[e],10))}c.m=parseInt(c.m,10)-1;e=c.y;70<=e&&99>=e?c.y=1900+c.y:0<=e&&69>=e&&(c.y=2000+c.y);void 0!==c.j&&(c.d=c.j);void 0!==c.n&&(c.m=parseInt(c.n,10)-1)}return new Date(c.y,c.m,c.d,c.h,c.i,c.s,c.u)},jqID:function(b){return(""+b).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(f){return(f||b.jgrid.uidPref)+b.jgrid.guid++},getAccessor:function(b,d){var c,e,a=[],i;if("function"===typeof d){return d(b)}c=b[d];if(void 0===c){try{if("string"===typeof d&&(a=d.split(".")),i=a.length){for(c=b;c&&i--;){e=a.shift(),c=c[e]}}}catch(h){}}return c},getXmlData:function(f,d,c){var e="string"===typeof d?d.match(/^(.*)\[(\w+)\]$/):null;if("function"===typeof d){return d(f)}if(e&&e[2]){return e[1]?b(e[1],f).attr(e[2]):b(f).attr(e[2])}f=b(d,f);return c?f:0<f.length?b(f).text():void 0},cellWidth:function(){var f=b("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;'></td></tr></table></div>"),d=f.appendTo("body").find("td").width();f.remove();return 5!==d},cell_width:!0,ajaxOptions:{},from:function(f){return new function(d,c){"string"===typeof d&&(d=b.data(d));var e=this,a=d,i=!0,f=!1,g=c,j=/[\$,%]/g,k=null,l=null,n=0,s=!1,m="",v=[],E=!0;if("object"===typeof d&&d.push){0<d.length&&(E="object"!==typeof d[0]?!1:!0)}else{throw"data provides is not an array"}this._hasData=function(){return null===a?!1:0===a.length?!1:!0};this._getStr=function(a){var b=[];f&&b.push("jQuery.trim(");b.push("String("+a+")");f&&b.push(")");i||b.push(".toLowerCase()");return b.join("")};this._strComp=function(a){return"string"===typeof a?".toString()":""};this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}};this._toStr=function(a){f&&(a=b.trim(a));a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"');return i?a:a.toLowerCase()};this._funcLoop=function(e){var c=[];b.each(a,function(a,b){c.push(e(b))});return c};this._append=function(a){var b;g=null===g?"":g+(""===m?" && ":m);for(b=0;b<n;b++){g+="("}s&&(g+="!");g+="("+a+")";s=!1;m="";n=0};this._setCommand=function(a,b){k=a;l=b};this._resetNegate=function(){s=!1};this._repeatCommand=function(a,b){return null===k?e:null!==a&&null!==b?k(a,b):null===l||!E?k(a):k(l,a)};this._equals=function(a,b){return 0===e._compare(a,b,1)};this._compare=function(a,b,e){var c=Object.prototype.toString;void 0===e&&(e=1);void 0===a&&(a=null);void 0===b&&(b=null);if(null===a&&null===b){return 0}if(null===a&&null!==b){return 1}if(null!==a&&null===b){return -1}if("[object Date]"===c.call(a)&&"[object Date]"===c.call(b)){return a<b?-e:a>b?e:0}!i&&"number"!==typeof a&&"number"!==typeof b&&(a=""+a,b=""+b);return a<b?-e:a>b?e:0};this._performSort=function(){0!==v.length&&(a=e._doSort(a,0))};this._doSort=function(a,b){var c=v[b].by,f=v[b].dir,i=v[b].type,d=v[b].datefmt;if(b==v.length-1){return e._getOrder(a,c,f,i,d)}b++;for(var c=e._getGroup(a,c,f,i,d),f=[],h,i=0;i<c.length;i++){h=e._doSort(c[i].items,b);for(d=0;d<h.length;d++){f.push(h[d])}}return f};this._getOrder=function(a,c,f,d,h){var g=[],k=[],l="a"==f?1:-1,n,s;void 0===d&&(d="text");s="float"==d||"number"==d||"currency"==d||"numeric"==d?function(a){a=parseFloat((""+a).replace(j,""));return isNaN(a)?0:a}:"int"==d||"integer"==d?function(a){return a?parseFloat((""+a).replace(j,"")):0}:"date"==d||"datetime"==d?function(a){return b.jgrid.parseDate(h,a).getTime()}:b.isFunction(d)?d:function(a){a=a?b.trim(""+a):"";return i?a:a.toLowerCase()};b.each(a,function(a,e){n=""!==c?b.jgrid.getAccessor(e,c):e;void 0===n&&(n="");n=s(n,e);k.push({vSort:n,index:a})});k.sort(function(a,b){a=a.vSort;b=b.vSort;return e._compare(a,b,l)});for(var d=0,m=a.length;d<m;){f=k[d].index,g.push(a[f]),d++}return g};this._getGroup=function(a,c,d,f,i){var h=[],g=null,j=null,k;b.each(e._getOrder(a,c,d,f,i),function(a,d){k=b.jgrid.getAccessor(d,c);null==k&&(k="");e._equals(j,k)||(j=k,null!==g&&h.push(g),g=e._group(c,k));g.items.push(d)});null!==g&&h.push(g);return h};this.ignoreCase=function(){i=!1;return e};this.useCase=function(){i=!0;return e};this.trim=function(){f=!0;return e};this.noTrim=function(){f=!1;return e};this.execute=function(){var c=g,d=[];if(null===c){return e}b.each(a,function(){eval(c)&&d.push(this)});a=d;return e};this.data=function(){return a};this.select=function(c){e._performSort();if(!e._hasData()){return[]}e.execute();if(b.isFunction(c)){var d=[];b.each(a,function(a,b){d.push(c(b))});return d}return a};this.hasMatch=function(){if(!e._hasData()){return !1}e.execute();return 0<a.length};this.andNot=function(a,b,c){s=!s;return e.and(a,b,c)};this.orNot=function(a,b,c){s=!s;return e.or(a,b,c)};this.not=function(a,b,c){return e.andNot(a,b,c)};this.and=function(a,b,c){m=" && ";return void 0===a?e:e._repeatCommand(a,b,c)};this.or=function(a,b,c){m=" || ";return void 0===a?e:e._repeatCommand(a,b,c)};this.orBegin=function(){n++;return e};this.orEnd=function(){null!==g&&(g+=")");return e};this.isNot=function(a){s=!s;return e.is(a)};this.is=function(a){e._append("this."+a);e._resetNegate();return e};this._compareValues=function(a,c,d,f,i){var h;h=E?"jQuery.jgrid.getAccessor(this,'"+c+"')":"this";void 0===d&&(d=null);var g=d,k=void 0===i.stype?"text":i.stype;if(null!==d){switch(k){case"int":case"integer":g=isNaN(Number(g))||""===g?"0":g;h="parseInt("+h+",10)";g="parseInt("+g+",10)";break;case"float":case"number":case"numeric":g=(""+g).replace(j,"");g=isNaN(Number(g))||""===g?"0":g;h="parseFloat("+h+")";g="parseFloat("+g+")";break;case"date":case"datetime":g=""+b.jgrid.parseDate(i.newfmt||"Y-m-d",g).getTime();h='jQuery.jgrid.parseDate("'+i.srcfmt+'",'+h+").getTime()";break;default:h=e._getStr(h),g=e._getStr('"'+e._toStr(g)+'"')}}e._append(h+" "+f+" "+g);e._setCommand(a,c);e._resetNegate();return e};this.equals=function(a,b,c){return e._compareValues(e.equals,a,b,"==",c)};this.notEquals=function(a,b,c){return e._compareValues(e.equals,a,b,"!==",c)};this.isNull=function(a,b,c){return e._compareValues(e.equals,a,null,"===",c)};this.greater=function(a,b,c){return e._compareValues(e.greater,a,b,">",c)};this.less=function(a,b,c){return e._compareValues(e.less,a,b,"<",c)};this.greaterOrEquals=function(a,b,c){return e._compareValues(e.greaterOrEquals,a,b,">=",c)};this.lessOrEquals=function(a,b,c){return e._compareValues(e.lessOrEquals,a,b,"<=",c)};this.startsWith=function(a,c){var d=null==c?a:c,d=f?b.trim(d.toString()).length:d.toString().length;E?e._append(e._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr(0,"+d+") == "+e._getStr('"'+e._toStr(c)+'"')):(d=f?b.trim(c.toString()).length:c.toString().length,e._append(e._getStr("this")+".substr(0,"+d+") == "+e._getStr('"'+e._toStr(a)+'"')));e._setCommand(e.startsWith,a);e._resetNegate();return e};this.endsWith=function(a,c){var d=null==c?a:c,d=f?b.trim(d.toString()).length:d.toString().length;E?e._append(e._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr("+e._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".length-"+d+","+d+') == "'+e._toStr(c)+'"'):e._append(e._getStr("this")+".substr("+e._getStr("this")+'.length-"'+e._toStr(a)+'".length,"'+e._toStr(a)+'".length) == "'+e._toStr(a)+'"');e._setCommand(e.endsWith,a);e._resetNegate();return e};this.contains=function(a,b){E?e._append(e._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+e._toStr(b)+'",0) > -1'):e._append(e._getStr("this")+'.indexOf("'+e._toStr(a)+'",0) > -1');e._setCommand(e.contains,a);e._resetNegate();return e};this.groupBy=function(b,c,d,f){return !e._hasData()?null:e._getGroup(a,b,c,d,f)};this.orderBy=function(a,c,d,f){c=null==c?"a":b.trim(c.toString().toLowerCase());null==d&&(d="text");null==f&&(f="Y-m-d");if("desc"==c||"descending"==c){c="d"}if("asc"==c||"ascending"==c){c="a"}v.push({by:a,dir:c,type:d,datefmt:f});return e};return e}(f,null)},getMethod:function(f){return this.getAccessor(b.fn.jqGrid,f)},extend:function(f){b.extend(b.fn.jqGrid,f);this.no_legacy_api||b.fn.extend(f)}});b.fn.jqGrid=function(f){if("string"===typeof f){var d=b.jgrid.getMethod(f);if(!d){throw"jqGrid - No such method: "+f}var c=b.makeArray(arguments).slice(1);return d.apply(this,c)}return this.each(function(){if(!this.grid){var e=b.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:""},b.jgrid.defaults,f||{}),a=this,c={headers:[],cols:[],footers:[],dragStart:function(c,d,f){this.resizing={idx:c,startX:d.clientX,sOL:f[0]};this.hDiv.style.cursor="col-resize";this.curGbox=b("#rs_m"+b.jgrid.jqID(e.id),"#gbox_"+b.jgrid.jqID(e.id));this.curGbox.css({display:"block",left:f[0],top:f[1],height:f[2]});b(a).triggerHandler("jqGridResizeStart",[d,c]);b.isFunction(e.resizeStart)&&e.resizeStart.call(this,d,c);document.onselectstart=function(){return !1}},dragMove:function(a){if(this.resizing){var b=a.clientX-this.resizing.startX,a=this.headers[this.resizing.idx],c="ltr"===e.direction?a.width+b:a.width-b,d;33<c&&(this.curGbox.css({left:this.resizing.sOL+b}),!0===e.forceFit?(d=this.headers[this.resizing.idx+e.nv],b="ltr"===e.direction?d.width-b:d.width+b,33<b&&(a.newWidth=c,d.newWidth=b)):(this.newWidth="ltr"===e.direction?e.tblwidth+b:e.tblwidth-b,a.newWidth=c))}},dragEnd:function(){this.hDiv.style.cursor="default";if(this.resizing){var c=this.resizing.idx,d=this.headers[c].newWidth||this.headers[c].width,d=parseInt(d,10);this.resizing=!1;b("#rs_m"+b.jgrid.jqID(e.id)).css("display","none");e.colModel[c].width=d;this.headers[c].width=d;this.headers[c].el.style.width=d+"px";this.cols[c].style.width=d+"px";0<this.footers.length&&(this.footers[c].style.width=d+"px");!0===e.forceFit?(d=this.headers[c+e.nv].newWidth||this.headers[c+e.nv].width,this.headers[c+e.nv].width=d,this.headers[c+e.nv].el.style.width=d+"px",this.cols[c+e.nv].style.width=d+"px",0<this.footers.length&&(this.footers[c+e.nv].style.width=d+"px"),e.colModel[c+e.nv].width=d):(e.tblwidth=this.newWidth||e.tblwidth,b("table:first",this.bDiv).css("width",e.tblwidth+"px"),b("table:first",this.hDiv).css("width",e.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,e.footerrow&&(b("table:first",this.sDiv).css("width",e.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));b(a).triggerHandler("jqGridResizeStop",[d,c]);b.isFunction(e.resizeStop)&&e.resizeStop.call(this,d,c)}this.curGbox=null;document.onselectstart=function(){return !0}},populateVisible:function(){c.timer&&clearTimeout(c.timer);c.timer=null;var a=b(c.bDiv).height();if(a){var d=b("table:first",c.bDiv),f,L;if(d[0].rows.length){try{L=(f=d[0].rows[1])?b(f).outerHeight()||c.prevRowHeight:c.prevRowHeight}catch(h){L=c.prevRowHeight}}if(L){c.prevRowHeight=L;var g=e.rowNum;f=c.scrollTop=c.bDiv.scrollTop;var j=Math.round(d.position().top)-f,k=j+d.height();L*=g;var y,F,q;if(k<a&&0>=j&&(void 0===e.lastpage||parseInt((k+f+L-1)/L,10)<=e.lastpage)){F=parseInt((a-k+L-1)/L,10),0<=k||2>F||!0===e.scroll?(y=Math.round((k+f)/L)+1,j=-1):j=1}0<j&&(y=parseInt(f/L,10)+1,F=parseInt((f+a)/L,10)+2-y,q=!0);if(F&&(!e.lastpage||!(y>e.lastpage||1==e.lastpage||y===e.page&&y===e.lastpage))){c.hDiv.loading?c.timer=setTimeout(c.populateVisible,e.scrollTimeout):(e.page=y,q&&(c.selectionPreserver(d[0]),c.emptyRows.call(d[0],!1,!1)),c.populate(F))}}}},scrollGrid:function(a){if(e.scroll){var b=c.bDiv.scrollTop;void 0===c.scrollTop&&(c.scrollTop=0);b!=c.scrollTop&&(c.scrollTop=b,c.timer&&clearTimeout(c.timer),c.timer=setTimeout(c.populateVisible,e.scrollTimeout))}c.hDiv.scrollLeft=c.bDiv.scrollLeft;e.footerrow&&(c.sDiv.scrollLeft=c.bDiv.scrollLeft);a&&a.stopPropagation()},selectionPreserver:function(a){var c=a.p,d=c.selrow,e=c.selarrrow?b.makeArray(c.selarrrow):null,f=a.grid.bDiv.scrollLeft,h=function(){var g;c.selrow=null;c.selarrrow=[];if(c.multiselect&&e&&0<e.length){for(g=0;g<e.length;g++){e[g]!=d&&b(a).jqGrid("setSelection",e[g],!1,null)}}d&&b(a).jqGrid("setSelection",d,!1,null);a.grid.bDiv.scrollLeft=f;b(a).unbind(".selectionPreserver",h)};b(a).bind("jqGridGridComplete.selectionPreserver",h)}};if("TABLE"!=this.tagName.toUpperCase()){alert("Element is not a table")}else{if(void 0!==document.documentMode&&5>=document.documentMode){alert("Grid can not be used in this ('quirks') mode!")}else{b(this).empty().attr("tabindex","0");this.p=e;this.p.useProp=!!b.fn.prop;var d,g;if(0===this.p.colNames.length){for(d=0;d<this.p.colModel.length;d++){this.p.colNames[d]=this.p.colModel[d].label||this.p.colModel[d].name}}if(this.p.colNames.length!==this.p.colModel.length){alert(b.jgrid.errors.model)}else{var j=b("<div class='ui-jqgrid-view'></div>"),k=b.jgrid.msie;a.p.direction=b.trim(a.p.direction.toLowerCase());-1==b.inArray(a.p.direction,["ltr","rtl"])&&(a.p.direction="ltr");g=a.p.direction;b(j).insertBefore(this);b(this).removeClass("scroll").appendTo(j);var l=b("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");b(l).attr({id:"gbox_"+this.id,dir:g}).insertBefore(j);b(j).attr("id","gview_"+this.id).appendTo(l);b("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(j);b("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(j);b(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var n=function(a,b){a=parseInt(a,10);return isNaN(a)?b||0:a},s=function(d,e,f,h,g,j){var P=a.p.colModel[d],k=P.align,y='style="',F=P.classes,q=P.name,o=[];k&&(y=y+("text-align:"+k+";"));P.hidden===true&&(y=y+"display:none;");if(e===0){y=y+("width: "+c.headers[d].width+"px;")}else{if(P.cellattr&&b.isFunction(P.cellattr)){if((d=P.cellattr.call(a,g,f,h,P,j))&&typeof d==="string"){d=d.replace(/style/i,"style").replace(/title/i,"title");if(d.indexOf("title")>-1){P.title=false}d.indexOf("class")>-1&&(F=void 0);o=d.split("style");if(o.length===2){o[1]=b.trim(o[1].replace("=",""));if(o[1].indexOf("'")===0||o[1].indexOf('"')===0){o[1]=o[1].substring(1)}y=y+o[1].replace(/'/gi,'"')}else{y=y+'"'}}}}if(!o.length){o[0]="";y=y+'"'}y=y+((F!==void 0?' class="'+F+'"':"")+(P.title&&f?' title="'+b.jgrid.stripHtml(f)+'"':""));y=y+(' aria-describedby="'+a.p.id+"_"+q+'"');return y+o[0]},m=function(c){return c==null||c===""?"&#160;":a.p.autoencode?b.jgrid.htmlEncode(c):""+c},v=function(c,d,e,f,h){var g=a.p.colModel[e];if(g.formatter!==void 0){c=""+a.p.idPrefix!==""?b.jgrid.stripPref(a.p.idPrefix,c):c;c={rowId:c,colModel:g,gid:a.p.id,pos:e};d=b.isFunction(g.formatter)?g.formatter.call(a,d,c,f,h):b.fmatter?b.fn.fmatter.call(a,g.formatter,d,c,f,h):m(d)}else{d=m(d)}return d},E=function(a,b,c,d,e,f){b=v(a,b,c,e,"add");return'<td role="gridcell" '+s(c,d,b,e,a,f)+">"+b+"</td>"},T=function(b,c,d,e){e='<input role="checkbox" type="checkbox" id="jqg_'+a.p.id+"_"+b+'" class="cbox" name="jqg_'+a.p.id+"_"+b+'"'+(e?'checked="checked"':"")+"/>";return'<td role="gridcell" '+s(c,d,"",null,b,true)+">"+e+"</td>"},K=function(a,b,c,d){c=(parseInt(c,10)-1)*parseInt(d,10)+1+b;return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+s(a,b,c,null,b,true)+">"+c+"</td>"},aa=function(b){var c,d=[],e=0,f;for(f=0;f<a.p.colModel.length;f++){c=a.p.colModel[f];if(c.name!=="cb"&&c.name!=="subgrid"&&c.name!=="rn"){d[e]=b=="local"?c.name:b=="xml"||b==="xmlstring"?c.xmlmap||c.name:c.jsonmap||c.name;e++}}return d},U=function(c){var d=a.p.remapColumns;if(!d||!d.length){d=b.map(a.p.colModel,function(a,b){return b})}c&&(d=b.map(d,function(a){return a<c?null:a-c}));return d},W=function(a,c){var d;if(this.p.deepempty){b(this.rows).slice(1).remove()}else{d=this.rows.length>0?this.rows[0]:null;b(this.firstChild).empty().append(d)}if(a&&this.p.scroll){b(this.grid.bDiv.firstChild).css({height:"auto"});b(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"});if(this.grid.bDiv.scrollTop!==0){this.grid.bDiv.scrollTop=0}}if(c===true&&this.p.treeGrid){this.p.data=[];this.p._index={}}},M=function(){var c=a.p.data.length,d,e,f;d=a.p.rownumbers===true?1:0;e=a.p.multiselect===true?1:0;f=a.p.subGrid===true?1:0;d=a.p.keyIndex===false||a.p.loadonce===true?a.p.localReader.id:a.p.colModel[a.p.keyIndex+e+f+d].name;for(e=0;e<c;e++){f=b.jgrid.getAccessor(a.p.data[e],d);f===void 0&&(f=""+(e+1));a.p._index[f]=e}},X=function(c,d,e,f,g,h){var i="-1",j="",k,d=d?"display:none;":"",e="ui-widget-content jqgrow ui-row-"+a.p.direction+e+(h?" ui-state-highlight":""),f=b.isFunction(a.p.rowattr)?a.p.rowattr.call(a,f,g):{};if(!b.isEmptyObject(f)){if(f.hasOwnProperty("id")){c=f.id;delete f.id}if(f.hasOwnProperty("tabindex")){i=f.tabindex;delete f.tabindex}if(f.hasOwnProperty("style")){d=d+f.style;delete f.style}if(f.hasOwnProperty("class")){e=e+(" "+f["class"]);delete f["class"]}try{delete f.role}catch(F){}for(k in f){f.hasOwnProperty(k)&&(j=j+(" "+k+"="+f[k]))}}return'<tr role="row" id="'+c+'" tabindex="'+i+'" class="'+e+'"'+(d===""?"":' style="'+d+'"')+j+">"},H=function(c,d,e,f,g){var h=new Date,i=a.p.datatype!="local"&&a.p.loadonce||a.p.datatype=="xmlstring",j=a.p.xmlReader,k=a.p.datatype=="local"?"local":"xml";if(i){a.p.data=[];a.p._index={};a.p.localReader.id="_id_"}a.p.reccount=0;if(b.isXMLDoc(c)){if(a.p.treeANode===-1&&!a.p.scroll){W.call(a,false,true);e=1}else{e=e>1?e:1}var F=b(a),q,o,l=0,u,C=a.p.multiselect===true?1:0,n=0,s,m=a.p.rownumbers===true?1:0,Q,p=[],x,B={},t,w,G=[],v=a.p.altRows===true?" "+a.p.altclass:"",A;if(a.p.subGrid===true){n=1;s=b.jgrid.getMethod("addSubGridCell")}j.repeatitems||(p=aa(k));Q=a.p.keyIndex===false?b.isFunction(j.id)?j.id.call(a,c):j.id:a.p.keyIndex;if(p.length>0&&!isNaN(Q)){a.p.remapColumns&&a.p.remapColumns.length&&(Q=b.inArray(Q,a.p.remapColumns));Q=p[Q]}k=(""+Q).indexOf("[")===-1?p.length?function(a,c){return b(Q,a).text()||c}:function(a,c){return b(j.cell,a).eq(Q).text()||c}:function(a,b){return a.getAttribute(Q.replace(/[\[\]]/g,""))||b};a.p.userData={};a.p.page=b.jgrid.getXmlData(c,j.page)||a.p.page||0;a.p.lastpage=b.jgrid.getXmlData(c,j.total);if(a.p.lastpage===void 0){a.p.lastpage=1}a.p.records=b.jgrid.getXmlData(c,j.records)||0;b.isFunction(j.userdata)?a.p.userData=j.userdata.call(a,c)||{}:b.jgrid.getXmlData(c,j.userdata,true).each(function(){a.p.userData[this.getAttribute("name")]=b(this).text()});c=b.jgrid.getXmlData(c,j.root,true);(c=b.jgrid.getXmlData(c,j.row,true))||(c=[]);var R=c.length,r=0,z=[],D=parseInt(a.p.rowNum,10),H=a.p.scroll?b.jgrid.randId():1;if(R>0&&a.p.page<=0){a.p.page=1}if(c&&R){g&&(D=D*(g+1));var g=b.isFunction(a.p.afterInsertRow),J=false,I;if(a.p.grouping){J=a.p.groupingView.groupCollapse===true;I=b.jgrid.getMethod("groupingPrepare")}for(;r<R;){t=c[r];w=k(t,H+r);w=a.p.idPrefix+w;q=e===0?0:e+1;A=(q+r)%2==1?v:"";var M=G.length;G.push("");m&&G.push(K(0,r,a.p.page,a.p.rowNum));C&&G.push(T(w,m,r,false));n&&G.push(s.call(F,C+m,r+e));if(j.repeatitems){x||(x=U(C+n+m));var N=b.jgrid.getXmlData(t,j.cell,true);b.each(x,function(b){var c=N[this];if(!c){return false}u=c.textContent||c.text;B[a.p.colModel[b+C+n+m].name]=u;G.push(E(w,u,b+C+n+m,r+e,t,B))})}else{for(q=0;q<p.length;q++){u=b.jgrid.getXmlData(t,p[q]);B[a.p.colModel[q+C+n+m].name]=u;G.push(E(w,u,q+C+n+m,r+e,t,B))}}G[M]=X(w,J,A,B,t,false);G.push("</tr>");if(a.p.grouping){z=I.call(F,G,z,B,r);G=[]}if(i||a.p.treeGrid===true){B._id_=w;a.p.data.push(B);a.p._index[w]=a.p.data.length-1}if(a.p.gridview===false){b("tbody:first",d).append(G.join(""));F.triggerHandler("jqGridAfterInsertRow",[w,B,t]);g&&a.p.afterInsertRow.call(a,w,B,t);G=[]}B={};l++;r++;if(l==D){break}}}if(a.p.gridview===true){o=a.p.treeANode>-1?a.p.treeANode:0;if(a.p.grouping){F.jqGrid("groupingRender",z,a.p.colModel.length);z=null}else{a.p.treeGrid===true&&o>0?b(a.rows[o]).after(G.join("")):b("tbody:first",d).append(G.join(""))}}if(a.p.subGrid===true){try{F.jqGrid("addSubGrid",C+m)}catch(S){}}a.p.totaltime=new Date-h;if(l>0&&a.p.records===0){a.p.records=R}G=null;if(a.p.treeGrid===true){try{F.jqGrid("setTreeNode",o+1,l+o+1)}catch(V){}}if(!a.p.treeGrid&&!a.p.scroll){a.grid.bDiv.scrollTop=0}a.p.reccount=l;a.p.treeANode=-1;a.p.userDataOnFooter&&F.jqGrid("footerData","set",a.p.userData,true);if(i){a.p.records=R;a.p.lastpage=Math.ceil(R/D)}f||a.updatepager(false,true);if(i){for(;l<R;){t=c[l];w=k(t,l+H);w=a.p.idPrefix+w;if(j.repeatitems){x||(x=U(C+n+m));var O=b.jgrid.getXmlData(t,j.cell,true);b.each(x,function(b){var c=O[this];if(!c){return false}u=c.textContent||c.text;B[a.p.colModel[b+C+n+m].name]=u})}else{for(q=0;q<p.length;q++){u=b.jgrid.getXmlData(t,p[q]);B[a.p.colModel[q+C+n+m].name]=u}}B._id_=w;a.p.data.push(B);a.p._index[w]=a.p.data.length-1;B={};l++}}}},V=function(c,d,e,f,g){d=new Date;if(c){if(a.p.treeANode===-1&&!a.p.scroll){W.call(a,false,true);e=1}else{e=e>1?e:1}var h,i,j=a.p.datatype!="local"&&a.p.loadonce||a.p.datatype=="jsonstring";if(j){a.p.data=[];a.p._index={};a.p.localReader.id="_id_"}a.p.reccount=0;if(a.p.datatype=="local"){h=a.p.localReader;i="local"}else{h=a.p.jsonReader;i="json"}var k=b(a),l=0,q,o,n=[],u,C=a.p.multiselect?1:0,m=0,s,p=a.p.rownumbers===true?1:0,r,v,x={},B,t,w=[],G=a.p.altRows===true?" "+a.p.altclass:"",A;a.p.page=b.jgrid.getAccessor(c,h.page)||a.p.page||0;r=b.jgrid.getAccessor(c,h.total);if(a.p.subGrid===true){m=1;s=b.jgrid.getMethod("addSubGridCell")}a.p.lastpage=r===void 0?1:r;a.p.records=b.jgrid.getAccessor(c,h.records)||0;a.p.userData=b.jgrid.getAccessor(c,h.userdata)||{};h.repeatitems||(u=n=aa(i));i=a.p.keyIndex===false?b.isFunction(h.id)?h.id.call(a,c):h.id:a.p.keyIndex;if(n.length>0&&!isNaN(i)){a.p.remapColumns&&a.p.remapColumns.length&&(i=b.inArray(i,a.p.remapColumns));i=n[i]}(v=b.jgrid.getAccessor(c,h.root))||(v=[]);r=v.length;c=0;if(r>0&&a.p.page<=0){a.p.page=1}var z=parseInt(a.p.rowNum,10),R=a.p.scroll?b.jgrid.randId():1,D=false,H;g&&(z=z*(g+1));a.p.datatype==="local"&&!a.p.deselectAfterSort&&(D=true);var J=b.isFunction(a.p.afterInsertRow),I=[],M=false,N;if(a.p.grouping){M=a.p.groupingView.groupCollapse===true;N=b.jgrid.getMethod("groupingPrepare")}for(;c<r;){g=v[c];t=b.jgrid.getAccessor(g,i);if(t===void 0){t=R+c;if(n.length===0&&h.cell){q=b.jgrid.getAccessor(g,h.cell);t=q!==void 0?q[i]||t:t}}t=a.p.idPrefix+t;q=e===1?0:e;A=(q+c)%2==1?G:"";D&&(H=a.p.multiselect?b.inArray(t,a.p.selarrrow)!==-1:t===a.p.selrow);var O=w.length;w.push("");p&&w.push(K(0,c,a.p.page,a.p.rowNum));C&&w.push(T(t,p,c,H));m&&w.push(s.call(k,C+p,c+e));if(h.repeatitems){h.cell&&(g=b.jgrid.getAccessor(g,h.cell));u||(u=U(C+m+p))}for(o=0;o<u.length;o++){q=b.jgrid.getAccessor(g,u[o]);x[a.p.colModel[o+C+m+p].name]=q;w.push(E(t,q,o+C+m+p,c+e,g,x))}w[O]=X(t,M,A,x,g,H);w.push("</tr>");if(a.p.grouping){I=N.call(k,w,I,x,c);w=[]}if(j||a.p.treeGrid===true){x._id_=t;a.p.data.push(x);a.p._index[t]=a.p.data.length-1}if(a.p.gridview===false){b("#"+b.jgrid.jqID(a.p.id)+" tbody:first").append(w.join(""));k.triggerHandler("jqGridAfterInsertRow",[t,x,g]);J&&a.p.afterInsertRow.call(a,t,x,g);w=[]}x={};l++;c++;if(l==z){break}}if(a.p.gridview===true){B=a.p.treeANode>-1?a.p.treeANode:0;a.p.grouping?k.jqGrid("groupingRender",I,a.p.colModel.length):a.p.treeGrid===true&&B>0?b(a.rows[B]).after(w.join("")):b("#"+b.jgrid.jqID(a.p.id)+" tbody:first").append(w.join(""))}if(a.p.subGrid===true){try{k.jqGrid("addSubGrid",C+p)}catch(S){}}a.p.totaltime=new Date-d;if(l>0&&a.p.records===0){a.p.records=r}if(a.p.treeGrid===true){try{k.jqGrid("setTreeNode",B+1,l+B+1)}catch(V){}}if(!a.p.treeGrid&&!a.p.scroll){a.grid.bDiv.scrollTop=0}a.p.reccount=l;a.p.treeANode=-1;a.p.userDataOnFooter&&k.jqGrid("footerData","set",a.p.userData,true);if(j){a.p.records=r;a.p.lastpage=Math.ceil(r/z)}f||a.updatepager(false,true);if(j){for(;l<r&&v[l];){g=v[l];t=b.jgrid.getAccessor(g,i);if(t===void 0){t=R+l;n.length===0&&h.cell&&(t=b.jgrid.getAccessor(g,h.cell)[i]||t)}if(g){t=a.p.idPrefix+t;if(h.repeatitems){h.cell&&(g=b.jgrid.getAccessor(g,h.cell));u||(u=U(C+m+p))}for(o=0;o<u.length;o++){q=b.jgrid.getAccessor(g,u[o]);x[a.p.colModel[o+C+m+p].name]=q}x._id_=t;a.p.data.push(x);a.p._index[t]=a.p.data.length-1;x={}}l++}}}},ja=function(){function c(a){var b=0,d,e,g,h,i;if(a.groups!=null){(e=a.groups.length&&a.groupOp.toString().toUpperCase()==="OR")&&u.orBegin();for(d=0;d<a.groups.length;d++){b>0&&e&&u.or();try{c(a.groups[d])}catch(j){alert(j)}b++}e&&u.orEnd()}if(a.rules!=null){try{(g=a.rules.length&&a.groupOp.toString().toUpperCase()==="OR")&&u.orBegin();for(d=0;d<a.rules.length;d++){i=a.rules[d];h=a.groupOp.toString().toUpperCase();if(n[i.op]&&i.field){b>0&&h&&h==="OR"&&(u=u.or());u=n[i.op](u,h)(i.field,i.data,f[i.field])}b++}g&&u.orEnd()}catch(oa){alert(oa)}}}var d,e=false,f={},g=[],h=[],i,j,k;if(b.isArray(a.p.data)){var l=a.p.grouping?a.p.groupingView:false,q,o;b.each(a.p.colModel,function(){j=this.sorttype||"text";if(j=="date"||j=="datetime"){if(this.formatter&&typeof this.formatter==="string"&&this.formatter=="date"){i=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:b.jgrid.formatter.date.srcformat;k=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:b.jgrid.formatter.date.newformat}else{i=k=this.datefmt||"Y-m-d"}f[this.name]={stype:j,srcfmt:i,newfmt:k}}else{f[this.name]={stype:j,srcfmt:"",newfmt:""}}if(a.p.grouping){o=0;for(q=l.groupField.length;o<q;o++){if(this.name==l.groupField[o]){var c=this.name;if(this.index){c=this.index}g[o]=f[c];h[o]=c}}}if(!e&&(this.index==a.p.sortname||this.name==a.p.sortname)){d=this.name;e=true}});if(a.p.treeGrid){b(a).jqGrid("SortTree",d,a.p.sortorder,f[d].stype,f[d].srcfmt)}else{var n={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return b==="OR"?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return b==="OR"?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return b==="OR"?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return b==="OR"?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return b==="OR"?a.orNot().isNull:a.andNot().isNull}},u=b.jgrid.from(a.p.data);a.p.ignoreCase&&(u=u.ignoreCase());if(a.p.search===true){var m=a.p.postData.filters;if(m){typeof m==="string"&&(m=b.jgrid.parse(m));c(m)}else{try{u=n[a.p.postData.searchOper](u)(a.p.postData.searchField,a.p.postData.searchString,f[a.p.postData.searchField])}catch(p){}}}if(a.p.grouping){for(o=0;o<q;o++){u.orderBy(h[o],l.groupOrder[o],g[o].stype,g[o].srcfmt)}}d&&a.p.sortorder&&e&&(a.p.sortorder.toUpperCase()=="DESC"?u.orderBy(a.p.sortname,"d",f[d].stype,f[d].srcfmt):u.orderBy(a.p.sortname,"a",f[d].stype,f[d].srcfmt));var m=u.select(),r=parseInt(a.p.rowNum,10),s=m.length,v=parseInt(a.p.page,10),E=Math.ceil(s/r),x={},m=m.slice((v-1)*r,v*r),f=u=null;x[a.p.localReader.total]=E;x[a.p.localReader.page]=v;x[a.p.localReader.records]=s;x[a.p.localReader.root]=m;x[a.p.localReader.userdata]=a.p.userData;m=null;return x}}},ba=function(){a.grid.hDiv.loading=true;if(!a.p.hiddengrid){switch(a.p.loadui){case"enable":b("#load_"+b.jgrid.jqID(a.p.id)).show();break;case"block":b("#lui_"+b.jgrid.jqID(a.p.id)).show();b("#load_"+b.jgrid.jqID(a.p.id)).show()}}},O=function(){a.grid.hDiv.loading=false;switch(a.p.loadui){case"enable":b("#load_"+b.jgrid.jqID(a.p.id)).hide();break;case"block":b("#lui_"+b.jgrid.jqID(a.p.id)).hide();b("#load_"+b.jgrid.jqID(a.p.id)).hide()}},I=function(c){if(!a.grid.hDiv.loading){var d=a.p.scroll&&c===false,e={},f,g=a.p.prmNames;if(a.p.page<=0){a.p.page=1}if(g.search!==null){e[g.search]=a.p.search}g.nd!==null&&(e[g.nd]=(new Date).getTime());if(g.rows!==null){e[g.rows]=a.p.rowNum}if(g.page!==null){e[g.page]=a.p.page}if(g.sort!==null){e[g.sort]=a.p.sortname}if(g.order!==null){e[g.order]=a.p.sortorder}if(a.p.rowTotal!==null&&g.totalrows!==null){e[g.totalrows]=a.p.rowTotal}var h=b.isFunction(a.p.loadComplete),i=h?a.p.loadComplete:null,j=0,c=c||1;if(c>1){if(g.npage!==null){e[g.npage]=c;j=c-1;c=1}else{i=function(b){a.p.page++;a.grid.hDiv.loading=false;h&&a.p.loadComplete.call(a,b);I(c-1)}}}else{g.npage!==null&&delete a.p.postData[g.npage]}if(a.p.grouping){b(a).jqGrid("groupingSetup");var k=a.p.groupingView,l,q="";for(l=0;l<k.groupField.length;l++){var o=k.groupField[l];b.each(a.p.colModel,function(a,b){if(b.name==o&&b.index){o=b.index}});q=q+(o+" "+k.groupOrder[l]+", ")}e[g.sort]=q+e[g.sort]}b.extend(a.p.postData,e);var n=!a.p.scroll?1:a.rows.length-1,e=b(a).triggerHandler("jqGridBeforeRequest");if(!(e===false||e==="stop")){if(b.isFunction(a.p.datatype)){a.p.datatype.call(a,a.p.postData,"load_"+a.p.id)}else{if(b.isFunction(a.p.beforeRequest)){e=a.p.beforeRequest.call(a);e===void 0&&(e=true);if(e===false){return}}f=a.p.datatype.toLowerCase();switch(f){case"json":case"jsonp":case"xml":case"script":b.ajax(b.extend({url:a.p.url,type:a.p.mtype,dataType:f,data:b.isFunction(a.p.serializeGridData)?a.p.serializeGridData.call(a,a.p.postData):a.p.postData,success:function(e,g,h){if(b.isFunction(a.p.beforeProcessing)&&a.p.beforeProcessing.call(a,e,g,h)===false){O()}else{f==="xml"?H(e,a.grid.bDiv,n,c>1,j):V(e,a.grid.bDiv,n,c>1,j);b(a).triggerHandler("jqGridLoadComplete",[e]);i&&i.call(a,e);b(a).triggerHandler("jqGridAfterLoadComplete",[e]);d&&a.grid.populateVisible();if(a.p.loadonce||a.p.treeGrid){a.p.datatype="local"}c===1&&O()}},error:function(e,d,f){b.isFunction(a.p.loadError)&&a.p.loadError.call(a,e,d,f);c===1&&O()},beforeSend:function(c,e){var d=true;b.isFunction(a.p.loadBeforeSend)&&(d=a.p.loadBeforeSend.call(a,c,e));d===void 0&&(d=true);if(d===false){return false}ba()}},b.jgrid.ajaxOptions,a.p.ajaxGridOptions));break;case"xmlstring":ba();e=b.jgrid.stringToDoc(a.p.datastr);H(e,a.grid.bDiv);b(a).triggerHandler("jqGridLoadComplete",[e]);h&&a.p.loadComplete.call(a,e);b(a).triggerHandler("jqGridAfterLoadComplete",[e]);a.p.datatype="local";a.p.datastr=null;O();break;case"jsonstring":ba();e=typeof a.p.datastr==="string"?b.jgrid.parse(a.p.datastr):a.p.datastr;V(e,a.grid.bDiv);b(a).triggerHandler("jqGridLoadComplete",[e]);h&&a.p.loadComplete.call(a,e);b(a).triggerHandler("jqGridAfterLoadComplete",[e]);a.p.datatype="local";a.p.datastr=null;O();break;case"local":case"clientside":ba();a.p.datatype="local";e=ja();V(e,a.grid.bDiv,n,c>1,j);b(a).triggerHandler("jqGridLoadComplete",[e]);i&&i.call(a,e);b(a).triggerHandler("jqGridAfterLoadComplete",[e]);d&&a.grid.populateVisible();O()}}}}},ca=function(c){b("#cb_"+b.jgrid.jqID(a.p.id),a.grid.hDiv)[a.p.useProp?"prop":"attr"]("checked",c);if(a.p.frozenColumns&&a.p.id+"_frozen"){b("#cb_"+b.jgrid.jqID(a.p.id),a.grid.fhDiv)[a.p.useProp?"prop":"attr"]("checked",c)}},ka=function(c,d){var e="",f="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",h="",i,j,k,l,m=function(c){var d;b.isFunction(a.p.onPaging)&&(d=a.p.onPaging.call(a,c));a.p.selrow=null;if(a.p.multiselect){a.p.selarrrow=[];ca(false)}a.p.savedRow=[];return d=="stop"?false:true},c=c.substr(1),d=d+("_"+c);i="pg_"+c;j=c+"_left";k=c+"_center";l=c+"_right";b("#"+b.jgrid.jqID(c)).append("<div id='"+i+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+j+"' align='left'></td><td id='"+k+"' align='center' style='white-space:pre;'></td><td id='"+l+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr");if(a.p.rowList.length>0){h="<td dir='"+g+"'>";h=h+"<select class='ui-pg-selbox' role='listbox'>";for(j=0;j<a.p.rowList.length;j++){h=h+('<option role="option" value="'+a.p.rowList[j]+'"'+(a.p.rowNum==a.p.rowList[j]?' selected="selected"':"")+">"+a.p.rowList[j]+"</option>")}h=h+"</select></td>"}g=="rtl"&&(f=f+h);a.p.pginput===true&&(e="<td dir='"+g+"'>"+b.jgrid.format(a.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+b.jgrid.jqID(c)+"'></span>")+"</td>");if(a.p.pgbuttons===true){j=["first"+d,"prev"+d,"next"+d,"last"+d];g=="rtl"&&j.reverse();f=f+("<td id='"+j[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>");f=f+("<td id='"+j[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>");f=f+(e!==""?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"+e+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>":"")+("<td id='"+j[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>");f=f+("<td id='"+j[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>")}else{e!==""&&(f=f+e)}g=="ltr"&&(f=f+h);f=f+"</tr></tbody></table>";a.p.viewrecords===true&&b("td#"+c+"_"+a.p.recordpos,"#"+i).append("<div dir='"+g+"' style='text-align:"+a.p.recordpos+"' class='ui-paging-info'></div>");b("td#"+c+"_"+a.p.pagerpos,"#"+i).append(f);h=b(".ui-jqgrid").css("font-size")||"11px";b(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+h+";visibility:hidden;' ></div>");f=b(f).clone().appendTo("#testpg").width();b("#testpg").remove();if(f>0){e!==""&&(f=f+50);b("td#"+c+"_"+a.p.pagerpos,"#"+i).width(f)}a.p._nvtd=[];a.p._nvtd[0]=f?Math.floor((a.p.width-f)/2):Math.floor(a.p.width/3);a.p._nvtd[1]=0;f=null;b(".ui-pg-selbox","#"+i).bind("change",function(){if(!m("records")){return false}a.p.page=Math.round(a.p.rowNum*(a.p.page-1)/this.value-0.5)+1;a.p.rowNum=this.value;a.p.pager&&b(".ui-pg-selbox",a.p.pager).val(this.value);a.p.toppager&&b(".ui-pg-selbox",a.p.toppager).val(this.value);I();return false});if(a.p.pgbuttons===true){b(".ui-pg-button","#"+i).hover(function(){if(b(this).hasClass("ui-state-disabled")){this.style.cursor="default"}else{b(this).addClass("ui-state-hover");this.style.cursor="pointer"}},function(){if(!b(this).hasClass("ui-state-disabled")){b(this).removeClass("ui-state-hover");this.style.cursor="default"}});b("#first"+b.jgrid.jqID(d)+", #prev"+b.jgrid.jqID(d)+", #next"+b.jgrid.jqID(d)+", #last"+b.jgrid.jqID(d)).click(function(){var b=n(a.p.page,1),c=n(a.p.lastpage,1),e=false,f=true,g=true,h=true,i=true;if(c===0||c===1){i=h=g=f=false}else{if(c>1&&b>=1){if(b===1){g=f=false}else{if(b===c){i=h=false}}}else{if(c>1&&b===0){i=h=false;b=c-1}}}if(!m(this.id)){return false}if(this.id==="first"+d&&f){a.p.page=1;e=true}if(this.id==="prev"+d&&g){a.p.page=b-1;e=true}if(this.id==="next"+d&&h){a.p.page=b+1;e=true}if(this.id==="last"+d&&i){a.p.page=c;e=true}e&&I();return false})}a.p.pginput===true&&b("input.ui-pg-input","#"+i).keypress(function(c){if((c.charCode||c.keyCode||0)==13){if(!m("user")){return false}a.p.page=b(this).val()>0?b(this).val():a.p.page;I();return false}return this})},la=function(c,d,e,f){if(a.p.colModel[d].sortable&&!(a.p.savedRow.length>0)){if(!e){if(a.p.lastsort==d){if(a.p.sortorder=="asc"){a.p.sortorder="desc"}else{if(a.p.sortorder=="desc"){a.p.sortorder="asc"}}}else{a.p.sortorder=a.p.colModel[d].firstsortorder||"asc"}a.p.page=1}if(f){if(a.p.lastsort==d&&a.p.sortorder==f&&!e){return}a.p.sortorder=f}e=a.grid.headers[a.p.lastsort].el;f=a.grid.headers[d].el;b("span.ui-grid-ico-sort",e).addClass("ui-state-disabled");b(e).attr("aria-selected","false");b("span.ui-icon-"+a.p.sortorder,f).removeClass("ui-state-disabled");b(f).attr("aria-selected","true");if(!a.p.viewsortcols[0]&&a.p.lastsort!=d){b("span.s-ico",e).hide();b("span.s-ico",f).show()}c=c.substring(5+a.p.id.length+1);a.p.sortname=a.p.colModel[d].index||c;e=a.p.sortorder;if(b(a).triggerHandler("jqGridSortCol",[c,d,e])==="stop"){a.p.lastsort=d}else{if(b.isFunction(a.p.onSortCol)&&a.p.onSortCol.call(a,c,d,e)=="stop"){a.p.lastsort=d}else{if(a.p.datatype=="local"){a.p.deselectAfterSort&&b(a).jqGrid("resetSelection")}else{a.p.selrow=null;a.p.multiselect&&ca(false);a.p.selarrrow=[];a.p.savedRow=[]}if(a.p.scroll){e=a.grid.bDiv.scrollLeft;W.call(a,true,false);a.grid.hDiv.scrollLeft=e}a.p.subGrid&&a.p.datatype=="local"&&b("td.sgexpanded","#"+b.jgrid.jqID(a.p.id)).each(function(){b(this).trigger("click")});I();a.p.lastsort=d;if(a.p.sortname!=c&&d){a.p.lastsort=d}}}}},pa=function(c){var d,e=[0],f=b.jgrid.cell_width?0:a.p.cellLayout;for(d=0;d<=c;d++){a.p.colModel[d].hidden===false&&(e[0]=e[0]+(a.p.colModel[d].width+f))}a.p.direction=="rtl"&&(e[0]=a.p.width-e[0]);e[0]=e[0]-a.grid.bDiv.scrollLeft;e.push(b(a.grid.hDiv).position().top);e.push(b(a.grid.bDiv).offset().top-b(a.grid.hDiv).offset().top+b(a.grid.bDiv).height());return e},ma=function(c){var d,e=a.grid.headers,f=b.jgrid.getCellIndex(c);for(d=0;d<e.length;d++){if(c===e[d].el){f=d;break}}return f};this.p.id=this.id;-1==b.inArray(a.p.multikey,["shiftKey","altKey","ctrlKey"])&&(a.p.multikey=!1);a.p.keyIndex=!1;for(d=0;d<a.p.colModel.length;d++){a.p.colModel[d]=b.extend(!0,{},a.p.cmTemplate,a.p.colModel[d].template||{},a.p.colModel[d]),!1===a.p.keyIndex&&!0===a.p.colModel[d].key&&(a.p.keyIndex=d)}a.p.sortorder=a.p.sortorder.toLowerCase();b.jgrid.cell_width=b.jgrid.cellWidth();!0===a.p.grouping&&(a.p.scroll=!1,a.p.rownumbers=!1,a.p.treeGrid=!1,a.p.gridview=!0);if(!0===this.p.treeGrid){try{b(this).jqGrid("setTreeGrid")}catch(ra){}"local"!=a.p.datatype&&(a.p.localReader={id:"_id_"})}if(this.p.subGrid){try{b(a).jqGrid("setSubGrid")}catch(sa){}}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:b.jgrid.cell_width?a.p.multiselectWidth+a.p.cellLayout:a.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:a.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0}));a.p.xmlReader=b.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},a.p.xmlReader);a.p.jsonReader=b.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},a.p.jsonReader);a.p.localReader=b.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},a.p.localReader);a.p.scroll&&(a.p.pgbuttons=!1,a.p.pginput=!1,a.p.rowList=[]);a.p.data.length&&M();var z="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",na,N,da,ea,fa,A,p,Y;N=Y="";if(!0===a.p.shrinkToFit&&!0===a.p.forceFit){for(d=a.p.colModel.length-1;0<=d;d--){if(!a.p.colModel[d].hidden){a.p.colModel[d].resizable=!1;break}}}"horizontal"==a.p.viewsortcols[1]&&(Y=" ui-i-asc",N=" ui-i-desc");na=k?"class='ui-th-div-ie'":"";Y="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+Y+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+g+"'></span>"+("<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+N+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+g+"'></span></span>");for(d=0;d<this.p.colNames.length;d++){N=a.p.headertitles?' title="'+b.jgrid.stripHtml(a.p.colNames[d])+'"':"",z+="<th id='"+a.p.id+"_"+a.p.colModel[d].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+g+"'"+N+">",N=a.p.colModel[d].index||a.p.colModel[d].name,z+="<div id='jqgh_"+a.p.id+"_"+a.p.colModel[d].name+"' "+na+">"+a.p.colNames[d],a.p.colModel[d].width=a.p.colModel[d].width?parseInt(a.p.colModel[d].width,10):150,"boolean"!==typeof a.p.colModel[d].title&&(a.p.colModel[d].title=!0),N==a.p.sortname&&(a.p.lastsort=d),z+=Y+"</div></th>"}Y=null;b(this).append(z+"</tr></thead>");b("thead tr:first th",this).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")});if(this.p.multiselect){var ga=[],Z;b("#cb_"+b.jgrid.jqID(a.p.id),this).bind("click",function(){a.p.selarrrow=[];var c=a.p.frozenColumns===true?a.p.id+"_frozen":"";if(this.checked){b(a.rows).each(function(d){if(d>0&&!b(this).hasClass("ui-subgrid")&&!b(this).hasClass("jqgroup")&&!b(this).hasClass("ui-state-disabled")){b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+b.jgrid.jqID(this.id))[a.p.useProp?"prop":"attr"]("checked",true);b(this).addClass("ui-state-highlight").attr("aria-selected","true");a.p.selarrrow.push(this.id);a.p.selrow=this.id;if(c){b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+b.jgrid.jqID(this.id),a.grid.fbDiv)[a.p.useProp?"prop":"attr"]("checked",true);b("#"+b.jgrid.jqID(this.id),a.grid.fbDiv).addClass("ui-state-highlight")}}});Z=true;ga=[]}else{b(a.rows).each(function(d){if(d>0&&!b(this).hasClass("ui-subgrid")&&!b(this).hasClass("ui-state-disabled")){b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+b.jgrid.jqID(this.id))[a.p.useProp?"prop":"attr"]("checked",false);b(this).removeClass("ui-state-highlight").attr("aria-selected","false");ga.push(this.id);if(c){b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+b.jgrid.jqID(this.id),a.grid.fbDiv)[a.p.useProp?"prop":"attr"]("checked",false);b("#"+b.jgrid.jqID(this.id),a.grid.fbDiv).removeClass("ui-state-highlight")}}});a.p.selrow=null;Z=false}b(a).triggerHandler("jqGridSelectAll",[Z?a.p.selarrrow:ga,Z]);b.isFunction(a.p.onSelectAll)&&a.p.onSelectAll.call(a,Z?a.p.selarrrow:ga,Z)})}!0===a.p.autowidth&&(z=b(l).innerWidth(),a.p.width=0<z?z:"nw");(function(){var d=0,e=b.jgrid.cell_width?0:n(a.p.cellLayout,0),f=0,g,h=n(a.p.scrollOffset,0),j,k=false,l,m=0,p=0,q;b.each(a.p.colModel,function(){if(this.hidden===void 0){this.hidden=false}if(a.p.grouping&&a.p.autowidth){var c=b.inArray(this.name,a.p.groupingView.groupField);if(c!==-1){this.hidden=!a.p.groupingView.groupColumnShow[c]}}this.widthOrg=j=n(this.width,0);if(this.hidden===false){d=d+(j+e);this.fixed?m=m+(j+e):f++;p++}});if(isNaN(a.p.width)){a.p.width=d+(a.p.shrinkToFit===false&&!isNaN(a.p.height)?h:0)}c.width=a.p.width;a.p.tblwidth=d;if(a.p.shrinkToFit===false&&a.p.forceFit===true){a.p.forceFit=false}if(a.p.shrinkToFit===true&&f>0){l=c.width-e*f-m;if(!isNaN(a.p.height)){l=l-h;k=true}d=0;b.each(a.p.colModel,function(b){if(this.hidden===false&&!this.fixed){this.width=j=Math.round(l*this.width/(a.p.tblwidth-e*f-m));d=d+j;g=b}});q=0;k?c.width-m-(d+e*f)!==h&&(q=c.width-m-(d+e*f)-h):!k&&Math.abs(c.width-m-(d+e*f))!==1&&(q=c.width-m-(d+e*f));a.p.colModel[g].width=a.p.colModel[g].width+q;a.p.tblwidth=d+q+e*f+m;if(a.p.tblwidth>a.p.width){a.p.colModel[g].width=a.p.colModel[g].width-(a.p.tblwidth-parseInt(a.p.width,10));a.p.tblwidth=a.p.width}}})();b(l).css("width",c.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+a.p.id+"'>&#160;</div>");b(j).css("width",c.width+"px");var z=b("thead:first",a).get(0),S="";a.p.footerrow&&(S+="<table role='grid' style='width:"+a.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+g+"'>");var j=b("tr:first",z),$="<tr class='jqgfirstrow' role='row' style='height:auto'>";a.p.disableClick=!1;b("th",j).each(function(d){da=a.p.colModel[d].width;if(a.p.colModel[d].resizable===void 0){a.p.colModel[d].resizable=true}if(a.p.colModel[d].resizable){ea=document.createElement("span");b(ea).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+g).css("cursor","col-resize");b(this).addClass(a.p.resizeclass)}else{ea=""}b(this).css("width",da+"px").prepend(ea);var e="";if(a.p.colModel[d].hidden){b(this).css("display","none");e="display:none;"}$=$+("<td role='gridcell' style='height:0px;width:"+da+"px;"+e+"'></td>");c.headers[d]={width:da,el:this};fa=a.p.colModel[d].sortable;if(typeof fa!=="boolean"){fa=a.p.colModel[d].sortable=true}e=a.p.colModel[d].name;e=="cb"||e=="subgrid"||e=="rn"||a.p.viewsortcols[2]&&b(">div",this).addClass("ui-jqgrid-sortable");if(fa){if(a.p.viewsortcols[0]){b("div span.s-ico",this).show();d==a.p.lastsort&&b("div span.ui-icon-"+a.p.sortorder,this).removeClass("ui-state-disabled")}else{if(d==a.p.lastsort){b("div span.s-ico",this).show();b("div span.ui-icon-"+a.p.sortorder,this).removeClass("ui-state-disabled")}}}a.p.footerrow&&(S=S+("<td role='gridcell' "+s(d,0,"",null,"",false)+">&#160;</td>"))}).mousedown(function(d){if(b(d.target).closest("th>span.ui-jqgrid-resize").length==1){var e=ma(this);if(a.p.forceFit===true){var f=a.p,g=e,h;for(h=e+1;h<a.p.colModel.length;h++){if(a.p.colModel[h].hidden!==true){g=h;break}}f.nv=g-e}c.dragStart(e,d,pa(e));return false}}).click(function(c){if(a.p.disableClick){return a.p.disableClick=false}var d="th>div.ui-jqgrid-sortable",e,f;a.p.viewsortcols[2]||(d="th>div>span>span.ui-grid-ico-sort");c=b(c.target).closest(d);if(c.length==1){d=ma(this);if(!a.p.viewsortcols[2]){e=true;f=c.attr("sort")}la(b("div",this)[0].id,d,e,f);return false}});if(a.p.sortable&&b.fn.sortable){try{b(a).jqGrid("sortableColumns",j)}catch(ta){}}a.p.footerrow&&(S+="</tr></tbody></table>");$+="</tr>";this.appendChild(document.createElement("tbody"));b(this).addClass("ui-jqgrid-btable").append($);var $=null,j=b("<table class='ui-jqgrid-htable' style='width:"+a.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(z),D=a.p.caption&&!0===a.p.hiddengrid?!0:!1;d=b("<div class='ui-jqgrid-hbox"+("rtl"==g?"-rtl":"")+"'></div>");z=null;c.hDiv=document.createElement("div");b(c.hDiv).css({width:c.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(d);b(d).append(j);j=null;D&&b(c.hDiv).hide();a.p.pager&&("string"===typeof a.p.pager?"#"!=a.p.pager.substr(0,1)&&(a.p.pager="#"+a.p.pager):a.p.pager="#"+b(a.p.pager).attr("id"),b(a.p.pager).css({width:c.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(l),D&&b(a.p.pager).hide(),ka(a.p.pager,""));!1===a.p.cellEdit&&!0===a.p.hoverrows&&b(a).bind("mouseover",function(a){p=b(a.target).closest("tr.jqgrow");b(p).attr("class")!=="ui-subgrid"&&b(p).addClass("ui-state-hover")}).bind("mouseout",function(a){p=b(a.target).closest("tr.jqgrow");b(p).removeClass("ui-state-hover")});var r,J,ha;b(a).before(c.hDiv).click(function(c){A=c.target;p=b(A,a.rows).closest("tr.jqgrow");if(b(p).length===0||p[0].className.indexOf("ui-state-disabled")>-1||(b(A,a).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==a.id){return this}var d=b(A).hasClass("cbox"),e=b(a).triggerHandler("jqGridBeforeSelectRow",[p[0].id,c]);(e=e===false||e==="stop"?false:true)&&b.isFunction(a.p.beforeSelectRow)&&(e=a.p.beforeSelectRow.call(a,p[0].id,c));if(!(A.tagName=="A"||(A.tagName=="INPUT"||A.tagName=="TEXTAREA"||A.tagName=="OPTION"||A.tagName=="SELECT")&&!d)&&e===true){r=p[0].id;J=b.jgrid.getCellIndex(A);ha=b(A).closest("td,th").html();b(a).triggerHandler("jqGridCellSelect",[r,J,ha,c]);b.isFunction(a.p.onCellSelect)&&a.p.onCellSelect.call(a,r,J,ha,c);if(a.p.cellEdit===true){if(a.p.multiselect&&d){b(a).jqGrid("setSelection",r,true,c)}else{r=p[0].rowIndex;try{b(a).jqGrid("editCell",r,J,true)}catch(f){}}}else{if(a.p.multikey){if(c[a.p.multikey]){b(a).jqGrid("setSelection",r,true,c)}else{if(a.p.multiselect&&d){d=b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+r).is(":checked");b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+r)[a.p.useProp?"prop":"attr"]("checked",d)}}}else{if(a.p.multiselect&&a.p.multiboxonly&&!d){var g=a.p.frozenColumns?a.p.id+"_frozen":"";b(a.p.selarrrow).each(function(c,d){var e=a.rows.namedItem(d);b(e).removeClass("ui-state-highlight");b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+b.jgrid.jqID(d))[a.p.useProp?"prop":"attr"]("checked",false);if(g){b("#"+b.jgrid.jqID(d),"#"+b.jgrid.jqID(g)).removeClass("ui-state-highlight");b("#jqg_"+b.jgrid.jqID(a.p.id)+"_"+b.jgrid.jqID(d),"#"+b.jgrid.jqID(g))[a.p.useProp?"prop":"attr"]("checked",false)}});a.p.selarrrow=[]}b(a).jqGrid("setSelection",r,true,c)}}}}).bind("reloadGrid",function(c,d){if(a.p.treeGrid===true){a.p.datatype=a.p.treedatatype}d&&d.current&&a.grid.selectionPreserver(a);if(a.p.datatype=="local"){b(a).jqGrid("resetSelection");a.p.data.length&&M()}else{if(!a.p.treeGrid){a.p.selrow=null;if(a.p.multiselect){a.p.selarrrow=[];ca(false)}a.p.savedRow=[]}}a.p.scroll&&W.call(a,true,false);if(d&&d.page){var e=d.page;if(e>a.p.lastpage){e=a.p.lastpage}e<1&&(e=1);a.p.page=e;a.grid.bDiv.scrollTop=a.grid.prevRowHeight?(e-1)*a.grid.prevRowHeight*a.p.rowNum:0}if(a.grid.prevRowHeight&&a.p.scroll){delete a.p.lastpage;a.grid.populateVisible()}else{a.grid.populate()}a.p._inlinenav===true&&b(a).jqGrid("showAddEditButtons");return false}).dblclick(function(c){A=c.target;p=b(A,a.rows).closest("tr.jqgrow");if(b(p).length!==0){r=p[0].rowIndex;J=b.jgrid.getCellIndex(A);b(a).triggerHandler("jqGridDblClickRow",[b(p).attr("id"),r,J,c]);b.isFunction(this.p.ondblClickRow)&&a.p.ondblClickRow.call(a,b(p).attr("id"),r,J,c)}}).bind("contextmenu",function(c){A=c.target;p=b(A,a.rows).closest("tr.jqgrow");if(b(p).length!==0){a.p.multiselect||b(a).jqGrid("setSelection",p[0].id,true,c);r=p[0].rowIndex;J=b.jgrid.getCellIndex(A);b(a).triggerHandler("jqGridRightClickRow",[b(p).attr("id"),r,J,c]);b.isFunction(this.p.onRightClickRow)&&a.p.onRightClickRow.call(a,b(p).attr("id"),r,J,c)}});c.bDiv=document.createElement("div");k&&"auto"===(""+a.p.height).toLowerCase()&&(a.p.height="100%");b(c.bDiv).append(b('<div style="position:relative;'+(k&&8>b.jgrid.msiever()?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:a.p.height+(isNaN(a.p.height)?"":"px"),width:c.width+"px"}).scroll(c.scrollGrid);b("table:first",c.bDiv).css({width:a.p.tblwidth+"px"});b.support.tbody||2==b("tbody",this).length&&b("tbody:gt(0)",this).remove();a.p.multikey&&(b.jgrid.msie?b(c.bDiv).bind("selectstart",function(){return false}):b(c.bDiv).bind("mousedown",function(){return false}));D&&b(c.bDiv).hide();c.cDiv=document.createElement("div");var ia=!0===a.p.hidegrid?b("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){ia.addClass("ui-state-hover")},function(){ia.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"==g?"left":"right","0px"):"";b(c.cDiv).append(ia).append("<span class='ui-jqgrid-title"+("rtl"==g?"-rtl":"")+"'>"+a.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");b(c.cDiv).insertBefore(c.hDiv);a.p.toolbar[0]&&(c.uDiv=document.createElement("div"),"top"==a.p.toolbar[1]?b(c.uDiv).insertBefore(c.hDiv):"bottom"==a.p.toolbar[1]&&b(c.uDiv).insertAfter(c.hDiv),"both"==a.p.toolbar[1]?(c.ubDiv=document.createElement("div"),b(c.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(c.hDiv),b(c.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(c.hDiv),D&&b(c.ubDiv).hide()):b(c.uDiv).width(c.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),D&&b(c.uDiv).hide());a.p.toppager&&(a.p.toppager=b.jgrid.jqID(a.p.id)+"_toppager",c.topDiv=b("<div id='"+a.p.toppager+"'></div>")[0],a.p.toppager="#"+a.p.toppager,b(c.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(c.width).insertBefore(c.hDiv),ka(a.p.toppager,"_t"));a.p.footerrow&&(c.sDiv=b("<div class='ui-jqgrid-sdiv'></div>")[0],d=b("<div class='ui-jqgrid-hbox"+("rtl"==g?"-rtl":"")+"'></div>"),b(c.sDiv).append(d).width(c.width).insertAfter(c.hDiv),b(d).append(S),c.footers=b(".ui-jqgrid-ftable",c.sDiv)[0].rows[0].cells,a.p.rownumbers&&(c.footers[0].className="ui-state-default jqgrid-rownum"),D&&b(c.sDiv).hide());d=null;if(a.p.caption){var qa=a.p.datatype;!0===a.p.hidegrid&&(b(".ui-jqgrid-titlebar-close",c.cDiv).click(function(d){var e=b.isFunction(a.p.onHeaderClick),f=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",g,h=this;if(a.p.toolbar[0]===true){a.p.toolbar[1]=="both"&&(f=f+(", #"+b(c.ubDiv).attr("id")));f=f+(", #"+b(c.uDiv).attr("id"))}g=b(f,"#gview_"+b.jgrid.jqID(a.p.id)).length;a.p.gridstate=="visible"?b(f,"#gbox_"+b.jgrid.jqID(a.p.id)).slideUp("fast",function(){g--;if(g===0){b("span",h).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");a.p.gridstate="hidden";b("#gbox_"+b.jgrid.jqID(a.p.id)).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+b.jgrid.jqID(a.p.id)).hide();b(a).triggerHandler("jqGridHeaderClick",[a.p.gridstate,d]);e&&(D||a.p.onHeaderClick.call(a,a.p.gridstate,d))}}):a.p.gridstate=="hidden"&&b(f,"#gbox_"+b.jgrid.jqID(a.p.id)).slideDown("fast",function(){g--;if(g===0){b("span",h).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");if(D){a.p.datatype=qa;I();D=false}a.p.gridstate="visible";b("#gbox_"+b.jgrid.jqID(a.p.id)).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+b.jgrid.jqID(a.p.id)).show();b(a).triggerHandler("jqGridHeaderClick",[a.p.gridstate,d]);e&&(D||a.p.onHeaderClick.call(a,a.p.gridstate,d))}});return false}),D&&(a.p.datatype="local",b(".ui-jqgrid-titlebar-close",c.cDiv).trigger("click")))}else{b(c.cDiv).hide()}b(c.hDiv).after(c.bDiv).mousemove(function(a){if(c.resizing){c.dragMove(a);return false}});b(".ui-jqgrid-labels",c.hDiv).bind("selectstart",function(){return false});b(document).mouseup(function(){if(c.resizing){c.dragEnd();return false}return true});a.formatCol=s;a.sortData=la;a.updatepager=function(c,d){var e,f,g,h,i,j,k,l="",m=a.p.pager?"_"+b.jgrid.jqID(a.p.pager.substr(1)):"",o=a.p.toppager?"_"+a.p.toppager.substr(1):"";g=parseInt(a.p.page,10)-1;g<0&&(g=0);g=g*parseInt(a.p.rowNum,10);i=g+a.p.reccount;if(a.p.scroll){e=b("tbody:first > tr:gt(0)",a.grid.bDiv);g=i-e.length;a.p.reccount=e.length;if(f=e.outerHeight()||a.grid.prevRowHeight){e=g*f;f=parseInt(a.p.records,10)*f;b(">div:first",a.grid.bDiv).css({height:f}).children("div:first").css({height:e,display:e?"":"none"})}a.grid.bDiv.scrollLeft=a.grid.hDiv.scrollLeft}l=a.p.pager||"";if(l=l+(a.p.toppager?l?","+a.p.toppager:a.p.toppager:"")){k=b.jgrid.formatter.integer||{};e=n(a.p.page);f=n(a.p.lastpage);b(".selbox",l)[this.p.useProp?"prop":"attr"]("disabled",false);if(a.p.pginput===true){b(".ui-pg-input",l).val(a.p.page);h=a.p.toppager?"#sp_1"+m+",#sp_1"+o:"#sp_1"+m;b(h).html(b.fmatter?b.fmatter.util.NumberFormat(a.p.lastpage,k):a.p.lastpage)}if(a.p.viewrecords){if(a.p.reccount===0){b(".ui-paging-info",l).html(a.p.emptyrecords)}else{h=g+1;j=a.p.records;if(b.fmatter){h=b.fmatter.util.NumberFormat(h,k);i=b.fmatter.util.NumberFormat(i,k);j=b.fmatter.util.NumberFormat(j,k)}b(".ui-paging-info",l).html(b.jgrid.format(a.p.recordtext,h,i,j))}}if(a.p.pgbuttons===true){e<=0&&(e=f=0);if(e==1||e===0){b("#first"+m+", #prev"+m).addClass("ui-state-disabled").removeClass("ui-state-hover");a.p.toppager&&b("#first_t"+o+", #prev_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")}else{b("#first"+m+", #prev"+m).removeClass("ui-state-disabled");a.p.toppager&&b("#first_t"+o+", #prev_t"+o).removeClass("ui-state-disabled")}if(e==f||e===0){b("#next"+m+", #last"+m).addClass("ui-state-disabled").removeClass("ui-state-hover");a.p.toppager&&b("#next_t"+o+", #last_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")}else{b("#next"+m+", #last"+m).removeClass("ui-state-disabled");a.p.toppager&&b("#next_t"+o+", #last_t"+o).removeClass("ui-state-disabled")}}}c===true&&a.p.rownumbers===true&&b("td.jqgrid-rownum",a.rows).each(function(a){b(this).html(g+1+a)});d&&a.p.jqgdnd&&b(a).jqGrid("gridDnD","updateDnD");b(a).triggerHandler("jqGridGridComplete");b.isFunction(a.p.gridComplete)&&a.p.gridComplete.call(a);b(a).triggerHandler("jqGridAfterGridComplete")};a.refreshIndex=M;a.setHeadCheckBox=ca;a.constructTr=X;a.formatter=function(a,b,c,d,e){return v(a,b,c,d,e)};b.extend(c,{populate:I,emptyRows:W});this.grid=c;a.addXmlData=function(b){H(b,a.grid.bDiv)};a.addJSONData=function(b){V(b,a.grid.bDiv)};this.grid.cols=this.rows[0].cells;b(a).triggerHandler("jqGridInitGrid");b.isFunction(a.p.onInitGrid)&&a.p.onInitGrid.call(a);I();a.p.hiddengrid=!1}}}}})};b.jgrid.extend({getGridParam:function(b){var d=this[0];return !d||!d.grid?void 0:!b?d.p:void 0!==d.p[b]?d.p[b]:null},setGridParam:function(f){return this.each(function(){this.grid&&"object"===typeof f&&b.extend(!0,this.p,f)})},getDataIDs:function(){var f=[],d=0,c,e=0;this.each(function(){if((c=this.rows.length)&&0<c){for(;d<c;){b(this.rows[d]).hasClass("jqgrow")&&(f[e]=this.rows[d].id,e++),d++}}});return f},setSelection:function(f,d,c){return this.each(function(){var e,a,i,h,g,j;if(void 0!==f&&(d=!1===d?!1:!0,(a=this.rows.namedItem(""+f))&&a.className&&!(-1<a.className.indexOf("ui-state-disabled")))){(!0===this.p.scrollrows&&(i=this.rows.namedItem(f).rowIndex,0<=i&&(e=b(this.grid.bDiv)[0].clientHeight,h=b(this.grid.bDiv)[0].scrollTop,g=b(this.rows[i]).position().top,i=this.rows[i].clientHeight,g+i>=e+h?b(this.grid.bDiv)[0].scrollTop=g-(e+h)+i+h:g<e+h&&g<h&&(b(this.grid.bDiv)[0].scrollTop=g))),!0===this.p.frozenColumns&&(j=this.p.id+"_frozen"),this.p.multiselect)?(this.setHeadCheckBox(!1),this.p.selrow=a.id,h=b.inArray(this.p.selrow,this.p.selarrrow),-1===h?("ui-subgrid"!==a.className&&b(a).addClass("ui-state-highlight").attr("aria-selected","true"),e=!0,this.p.selarrrow.push(this.p.selrow)):("ui-subgrid"!==a.className&&b(a).removeClass("ui-state-highlight").attr("aria-selected","false"),e=!1,this.p.selarrrow.splice(h,1),g=this.p.selarrrow[0],this.p.selrow=void 0===g?null:g),b("#jqg_"+b.jgrid.jqID(this.p.id)+"_"+b.jgrid.jqID(a.id))[this.p.useProp?"prop":"attr"]("checked",e),j&&(-1===h?b("#"+b.jgrid.jqID(f),"#"+b.jgrid.jqID(j)).addClass("ui-state-highlight"):b("#"+b.jgrid.jqID(f),"#"+b.jgrid.jqID(j)).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(this.p.id)+"_"+b.jgrid.jqID(f),"#"+b.jgrid.jqID(j))[this.p.useProp?"prop":"attr"]("checked",e)),b(this).triggerHandler("jqGridSelectRow",[a.id,e,c]),this.p.onSelectRow&&d&&this.p.onSelectRow.call(this,a.id,e,c)):"ui-subgrid"!==a.className&&(this.p.selrow!=a.id?(b(this.rows.namedItem(this.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),b(a).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),j&&(b("#"+b.jgrid.jqID(this.p.selrow),"#"+b.jgrid.jqID(j)).removeClass("ui-state-highlight"),b("#"+b.jgrid.jqID(f),"#"+b.jgrid.jqID(j)).addClass("ui-state-highlight")),e=!0):e=!1,this.p.selrow=a.id,b(this).triggerHandler("jqGridSelectRow",[a.id,e,c]),this.p.onSelectRow&&d&&this.p.onSelectRow.call(this,a.id,e,c))}})},resetSelection:function(f){return this.each(function(){var d=this,c,e,a;!0===d.p.frozenColumns&&(a=d.p.id+"_frozen");if(void 0!==f){e=f===d.p.selrow?d.p.selrow:f;b("#"+b.jgrid.jqID(d.p.id)+" tbody:first tr#"+b.jgrid.jqID(e)).removeClass("ui-state-highlight").attr("aria-selected","false");a&&b("#"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(a)).removeClass("ui-state-highlight");if(d.p.multiselect){b("#jqg_"+b.jgrid.jqID(d.p.id)+"_"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(d.p.id))[d.p.useProp?"prop":"attr"]("checked",!1);if(a){b("#jqg_"+b.jgrid.jqID(d.p.id)+"_"+b.jgrid.jqID(e),"#"+b.jgrid.jqID(a))[d.p.useProp?"prop":"attr"]("checked",!1)}d.setHeadCheckBox(!1)}e=null}else{d.p.multiselect?(b(d.p.selarrrow).each(function(e,f){c=d.rows.namedItem(f);b(c).removeClass("ui-state-highlight").attr("aria-selected","false");b("#jqg_"+b.jgrid.jqID(d.p.id)+"_"+b.jgrid.jqID(f))[d.p.useProp?"prop":"attr"]("checked",!1);a&&(b("#"+b.jgrid.jqID(f),"#"+b.jgrid.jqID(a)).removeClass("ui-state-highlight"),b("#jqg_"+b.jgrid.jqID(d.p.id)+"_"+b.jgrid.jqID(f),"#"+b.jgrid.jqID(a))[d.p.useProp?"prop":"attr"]("checked",!1))}),d.setHeadCheckBox(!1),d.p.selarrrow=[]):d.p.selrow&&(b("#"+b.jgrid.jqID(d.p.id)+" tbody:first tr#"+b.jgrid.jqID(d.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),a&&b("#"+b.jgrid.jqID(d.p.selrow),"#"+b.jgrid.jqID(a)).removeClass("ui-state-highlight"),d.p.selrow=null)}!0===d.p.cellEdit&&0<=parseInt(d.p.iCol,10)&&0<=parseInt(d.p.iRow,10)&&(b("td:eq("+d.p.iCol+")",d.rows[d.p.iRow]).removeClass("edit-cell ui-state-highlight"),b(d.rows[d.p.iRow]).removeClass("selected-row ui-state-hover"));d.p.savedRow=[]})},getRowData:function(f){var d={},c,e=!1,a,i=0;this.each(function(){var h=this,g,j;if(void 0===f){e=!0,c=[],a=h.rows.length}else{j=h.rows.namedItem(f);if(!j){return d}a=2}for(;i<a;){e&&(j=h.rows[i]),b(j).hasClass("jqgrow")&&(b('td[role="gridcell"]',j).each(function(a){g=h.p.colModel[a].name;if("cb"!==g&&"subgrid"!==g&&"rn"!==g){if(!0===h.p.treeGrid&&g==h.p.ExpandColumn){d[g]=b.jgrid.htmlDecode(b("span:first",this).html())}else{try{d[g]=b.unformat.call(h,this,{rowId:j.id,colModel:h.p.colModel[a]},a)}catch(c){d[g]=b.jgrid.htmlDecode(b(this).html())}}}}),e&&(c.push(d),d={})),i++}});return c||d},delRowData:function(f){var d=!1,c,e;this.each(function(){c=this.rows.namedItem(f);if(!c){return !1}b(c).remove();this.p.records--;this.p.reccount--;this.updatepager(!0,!1);d=!0;this.p.multiselect&&(e=b.inArray(f,this.p.selarrrow),-1!=e&&this.p.selarrrow.splice(e,1));this.p.selrow=this.p.multiselect&&0<this.p.selarrrow.length?this.p.selarrrow[this.p.selarrrow.length-1]:null;if("local"==this.p.datatype){var a=this.p._index[b.jgrid.stripPref(this.p.idPrefix,f)];void 0!==a&&(this.p.data.splice(a,1),this.refreshIndex())}if(!0===this.p.altRows&&d){var i=this.p.altclass;b(this.rows).each(function(a){a%2==1?b(this).addClass(i):b(this).removeClass(i)})}});return d},setRowData:function(f,d,c){var e,a=!0,i;this.each(function(){if(!this.grid){return !1}var h=this,g,j,k=typeof c,l={};j=h.rows.namedItem(f);if(!j){return !1}if(d){try{if(b(this.p.colModel).each(function(a){e=this.name;void 0!==d[e]&&(l[e]=this.formatter&&"string"===typeof this.formatter&&"date"==this.formatter?b.unformat.date.call(h,d[e],this):d[e],g=h.formatter(f,d[e],a,d,"edit"),i=this.title?{title:b.jgrid.stripHtml(g)}:{},!0===h.p.treeGrid&&e==h.p.ExpandColumn?b("td[role='gridcell']:eq("+a+") > span:first",j).html(g).attr(i):b("td[role='gridcell']:eq("+a+")",j).html(g).attr(i))}),"local"==h.p.datatype){var n=b.jgrid.stripPref(h.p.idPrefix,f),s=h.p._index[n],m;if(h.p.treeGrid){for(m in h.p.treeReader){h.p.treeReader.hasOwnProperty(m)&&delete l[h.p.treeReader[m]]}}void 0!==s&&(h.p.data[s]=b.extend(!0,h.p.data[s],l));l=null}}catch(v){a=!1}}a&&("string"===k?b(j).addClass(c):"object"===k&&b(j).css(c),b(h).triggerHandler("jqGridAfterGridComplete"))});return a},addRowData:function(f,d,c,e){c||(c="last");var a=!1,i,h,g,j,k,l,n,s,m="",v,E,T,K,aa,U;d&&(b.isArray(d)?(v=!0,c="last",E=f):(d=[d],v=!1),this.each(function(){var W=d.length;k=this.p.rownumbers===true?1:0;g=this.p.multiselect===true?1:0;j=this.p.subGrid===true?1:0;if(!v){if(f!==void 0){f=""+f}else{f=b.jgrid.randId();if(this.p.keyIndex!==false){E=this.p.colModel[this.p.keyIndex+g+j+k].name;d[0][E]!==void 0&&(f=d[0][E])}}}T=this.p.altclass;for(var M=0,X="",H={},V=b.isFunction(this.p.afterInsertRow)?true:false;M<W;){K=d[M];h=[];if(v){try{f=K[E];f===void 0&&(f=b.jgrid.randId())}catch(ja){f=b.jgrid.randId()}X=this.p.altRows===true?(this.rows.length-1)%2===0?T:"":""}U=f;f=this.p.idPrefix+f;if(k){m=this.formatCol(0,1,"",null,f,true);h[h.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+m+">0</td>"}if(g){s='<input role="checkbox" type="checkbox" id="jqg_'+this.p.id+"_"+f+'" class="cbox"/>';m=this.formatCol(k,1,"",null,f,true);h[h.length]='<td role="gridcell" '+m+">"+s+"</td>"}j&&(h[h.length]=b(this).jqGrid("addSubGridCell",g+k,1));for(n=g+j+k;n<this.p.colModel.length;n++){aa=this.p.colModel[n];i=aa.name;H[i]=K[i];s=this.formatter(f,b.jgrid.getAccessor(K,i),n,K);m=this.formatCol(n,1,s,K,f,H);h[h.length]='<td role="gridcell" '+m+">"+s+"</td>"}h.unshift(this.constructTr(f,false,X,H,K,false));h[h.length]="</tr>";if(this.rows.length===0){b("table:first",this.grid.bDiv).append(h.join(""))}else{switch(c){case"last":b(this.rows[this.rows.length-1]).after(h.join(""));l=this.rows.length-1;break;case"first":b(this.rows[0]).after(h.join(""));l=1;break;case"after":(l=this.rows.namedItem(e))&&(b(this.rows[l.rowIndex+1]).hasClass("ui-subgrid")?b(this.rows[l.rowIndex+1]).after(h):b(l).after(h.join("")));l++;break;case"before":if(l=this.rows.namedItem(e)){b(l).before(h.join(""));l=l.rowIndex}l--}}this.p.subGrid===true&&b(this).jqGrid("addSubGrid",g+k,l);this.p.records++;this.p.reccount++;b(this).triggerHandler("jqGridAfterInsertRow",[f,K,K]);V&&this.p.afterInsertRow.call(this,f,K,K);M++;if(this.p.datatype=="local"){H[this.p.localReader.id]=U;this.p._index[U]=this.p.data.length;this.p.data.push(H);H={}}}this.p.altRows===true&&!v&&(c=="last"?(this.rows.length-1)%2==1&&b(this.rows[this.rows.length-1]).addClass(T):b(this.rows).each(function(a){a%2==1?b(this).addClass(T):b(this).removeClass(T)}));this.updatepager(true,true);a=true}));return a},footerData:function(f,d,c){function e(a){for(var b in a){if(a.hasOwnProperty(b)){return !1}}return !0}var a,i=!1,h={},g;void 0===f&&(f="get");"boolean"!==typeof c&&(c=!0);f=f.toLowerCase();this.each(function(){var j=this,k;if(!j.grid||!j.p.footerrow||"set"==f&&e(d)){return !1}i=!0;b(this.p.colModel).each(function(e){a=this.name;"set"==f?void 0!==d[a]&&(k=c?j.formatter("",d[a],e,d,"edit"):d[a],g=this.title?{title:b.jgrid.stripHtml(k)}:{},b("tr.footrow td:eq("+e+")",j.grid.sDiv).html(k).attr(g),i=!0):"get"==f&&(h[a]=b("tr.footrow td:eq("+e+")",j.grid.sDiv).html())})});return"get"==f?h:i},showHideCol:function(f,d){return this.each(function(){var c=this,e=!1,a=b.jgrid.cell_width?0:c.p.cellLayout,i;if(c.grid){"string"===typeof f&&(f=[f]);d="none"!=d?"":"none";var h=""===d?!0:!1,g=c.p.groupHeader&&("object"===typeof c.p.groupHeader||b.isFunction(c.p.groupHeader));g&&b(c).jqGrid("destroyGroupHeader",!1);b(this.p.colModel).each(function(g){if(-1!==b.inArray(this.name,f)&&this.hidden===h){if(!0===c.p.frozenColumns&&!0===this.frozen){return !0}b("tr",c.grid.hDiv).each(function(){b(this.cells[g]).css("display",d)});b(c.rows).each(function(){b(this).hasClass("jqgroup")||b(this.cells[g]).css("display",d)});c.p.footerrow&&b("tr.footrow td:eq("+g+")",c.grid.sDiv).css("display",d);i=parseInt(this.width,10);c.p.tblwidth="none"===d?c.p.tblwidth-(i+a):c.p.tblwidth+(i+a);this.hidden=!h;e=!0;b(c).triggerHandler("jqGridShowHideCol",[h,this.name,g])}});!0===e&&(!0===c.p.shrinkToFit&&!isNaN(c.p.height)&&(c.p.tblwidth+=parseInt(c.p.scrollOffset,10)),b(c).jqGrid("setGridWidth",!0===c.p.shrinkToFit?c.p.tblwidth:c.p.width));g&&b(c).jqGrid("setGroupHeaders",c.p.groupHeader)}})},hideCol:function(f){return this.each(function(){b(this).jqGrid("showHideCol",f,"none")})},showCol:function(f){return this.each(function(){b(this).jqGrid("showHideCol",f,"")})},remapColumns:function(f,d,c){function e(a){var c;c=a.length?b.makeArray(a):b.extend({},a);b.each(f,function(b){a[b]=c[this]})}function a(a,c){b(">tr"+(c||""),a).each(function(){var a=this,c=b.makeArray(a.cells);b.each(f,function(){var b=c[this];b&&a.appendChild(b)})})}var i=this.get(0);e(i.p.colModel);e(i.p.colNames);e(i.grid.headers);a(b("thead:first",i.grid.hDiv),c&&":not(.ui-jqgrid-labels)");d&&a(b("#"+b.jgrid.jqID(i.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");i.p.footerrow&&a(b("tbody:first",i.grid.sDiv));i.p.remapColumns&&(i.p.remapColumns.length?e(i.p.remapColumns):i.p.remapColumns=b.makeArray(f));i.p.lastsort=b.inArray(i.p.lastsort,f);i.p.treeGrid&&(i.p.expColInd=b.inArray(i.p.expColInd,f));b(i).triggerHandler("jqGridRemapColumns",[f,d,c])},setGridWidth:function(f,d){return this.each(function(){if(this.grid){var c=this,e,a=0,i=b.jgrid.cell_width?0:c.p.cellLayout,h,g=0,j=!1,k=c.p.scrollOffset,l,n=0,s=0,m;"boolean"!==typeof d&&(d=c.p.shrinkToFit);if(!isNaN(f)){f=parseInt(f,10);c.grid.width=c.p.width=f;b("#gbox_"+b.jgrid.jqID(c.p.id)).css("width",f+"px");b("#gview_"+b.jgrid.jqID(c.p.id)).css("width",f+"px");b(c.grid.bDiv).css("width",f+"px");b(c.grid.hDiv).css("width",f+"px");c.p.pager&&b(c.p.pager).css("width",f+"px");c.p.toppager&&b(c.p.toppager).css("width",f+"px");!0===c.p.toolbar[0]&&(b(c.grid.uDiv).css("width",f+"px"),"both"==c.p.toolbar[1]&&b(c.grid.ubDiv).css("width",f+"px"));c.p.footerrow&&b(c.grid.sDiv).css("width",f+"px");!1===d&&!0===c.p.forceFit&&(c.p.forceFit=!1);if(!0===d){b.each(c.p.colModel,function(){if(this.hidden===false){e=this.widthOrg;a=a+(e+i);this.fixed?n=n+(e+i):g++;s++}});if(0===g){return}c.p.tblwidth=a;l=f-i*g-n;if(!isNaN(c.p.height)&&(b(c.grid.bDiv)[0].clientHeight<b(c.grid.bDiv)[0].scrollHeight||1===c.rows.length)){j=!0,l-=k}var a=0,v=0<c.grid.cols.length;b.each(c.p.colModel,function(b){if(this.hidden===false&&!this.fixed){e=this.widthOrg;e=Math.round(l*e/(c.p.tblwidth-i*g-n));if(!(e<0)){this.width=e;a=a+e;c.grid.headers[b].width=e;c.grid.headers[b].el.style.width=e+"px";if(c.p.footerrow){c.grid.footers[b].style.width=e+"px"}if(v){c.grid.cols[b].style.width=e+"px"}h=b}}});if(!h){return}m=0;j?f-n-(a+i*g)!==k&&(m=f-n-(a+i*g)-k):1!==Math.abs(f-n-(a+i*g))&&(m=f-n-(a+i*g));c.p.colModel[h].width+=m;c.p.tblwidth=a+m+i*g+n;c.p.tblwidth>f?(j=c.p.tblwidth-parseInt(f,10),c.p.tblwidth=f,e=c.p.colModel[h].width-=j):e=c.p.colModel[h].width;c.grid.headers[h].width=e;c.grid.headers[h].el.style.width=e+"px";v&&(c.grid.cols[h].style.width=e+"px");c.p.footerrow&&(c.grid.footers[h].style.width=e+"px")}c.p.tblwidth&&(b("table:first",c.grid.bDiv).css("width",c.p.tblwidth+"px"),b("table:first",c.grid.hDiv).css("width",c.p.tblwidth+"px"),c.grid.hDiv.scrollLeft=c.grid.bDiv.scrollLeft,c.p.footerrow&&b("table:first",c.grid.sDiv).css("width",c.p.tblwidth+"px"))}}})},setGridHeight:function(f){return this.each(function(){if(this.grid){var d=b(this.grid.bDiv);d.css({height:f+(isNaN(f)?"":"px")});!0===this.p.frozenColumns&&b("#"+b.jgrid.jqID(this.p.id)+"_frozen").parent().height(d.height()-16);this.p.height=f;this.p.scroll&&this.grid.populateVisible()}})},setCaption:function(f){return this.each(function(){this.p.caption=f;b("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(f);b(this.grid.cDiv).show()})},setLabel:function(f,d,c,e){return this.each(function(){var a=-1;if(this.grid&&void 0!==f&&(b(this.p.colModel).each(function(b){if(this.name==f){return a=b,!1}}),0<=a)){var i=b("tr.ui-jqgrid-labels th:eq("+a+")",this.grid.hDiv);if(d){var h=b(".s-ico",i);b("[id^=jqgh_]",i).empty().html(d).append(h);this.p.colNames[a]=d}c&&("string"===typeof c?b(i).addClass(c):b(i).css(c));"object"===typeof e&&b(i).attr(e)}})},setCell:function(f,d,c,e,a,i){return this.each(function(){var h=-1,g,j;if(this.grid&&(isNaN(d)?b(this.p.colModel).each(function(a){if(this.name==d){return h=a,!1}}):h=parseInt(d,10),0<=h&&(g=this.rows.namedItem(f)))){var k=b("td:eq("+h+")",g);if(""!==c||!0===i){g=this.formatter(f,c,h,g,"edit"),j=this.p.colModel[h].title?{title:b.jgrid.stripHtml(g)}:{},this.p.treeGrid&&0<b(".tree-wrap",b(k)).length?b("span",b(k)).html(g).attr(j):b(k).html(g).attr(j),"local"==this.p.datatype&&(g=this.p.colModel[h],c=g.formatter&&"string"===typeof g.formatter&&"date"==g.formatter?b.unformat.date.call(this,c,g):c,j=this.p._index[f],void 0!==j&&(this.p.data[j][g.name]=c))}"string"===typeof e?b(k).addClass(e):e&&b(k).css(e);"object"===typeof a&&b(k).attr(a)}})},getCell:function(f,d){var c=!1;this.each(function(){var e=-1;if(this.grid&&(isNaN(d)?b(this.p.colModel).each(function(a){if(this.name===d){return e=a,!1}}):e=parseInt(d,10),0<=e)){var a=this.rows.namedItem(f);if(a){try{c=b.unformat.call(this,b("td:eq("+e+")",a),{rowId:a.id,colModel:this.p.colModel[e]},e)}catch(i){c=b.jgrid.htmlDecode(b("td:eq("+e+")",a).html())}}}});return c},getCol:function(f,d,c){var e=[],a,i=0,h,g,j,d="boolean"!==typeof d?!1:d;void 0===c&&(c=!1);this.each(function(){var k=-1;if(this.grid&&(isNaN(f)?b(this.p.colModel).each(function(a){if(this.name===f){return k=a,!1}}):k=parseInt(f,10),0<=k)){var l=this.rows.length,n=0;if(l&&0<l){for(;n<l;){if(b(this.rows[n]).hasClass("jqgrow")){try{a=b.unformat.call(this,b(this.rows[n].cells[k]),{rowId:this.rows[n].id,colModel:this.p.colModel[k]},k)}catch(s){a=b.jgrid.htmlDecode(this.rows[n].cells[k].innerHTML)}c?(j=parseFloat(a),i+=j,void 0===g&&(g=h=j),h=Math.min(h,j),g=Math.max(g,j)):d?e.push({id:this.rows[n].id,value:a}):e.push(a)}n++}if(c){switch(c.toLowerCase()){case"sum":e=i;break;case"avg":e=i/l;break;case"count":e=l;break;case"min":e=h;break;case"max":e=g}}}}});return e},clearGridData:function(f){return this.each(function(){if(this.grid){"boolean"!==typeof f&&(f=!1);if(this.p.deepempty){b("#"+b.jgrid.jqID(this.p.id)+" tbody:first tr:gt(0)").remove()}else{var d=b("#"+b.jgrid.jqID(this.p.id)+" tbody:first tr:first")[0];b("#"+b.jgrid.jqID(this.p.id)+" tbody:first").empty().append(d)}this.p.footerrow&&f&&b(".ui-jqgrid-ftable td",this.grid.sDiv).html("&#160;");this.p.selrow=null;this.p.selarrrow=[];this.p.savedRow=[];this.p.records=0;this.p.page=1;this.p.lastpage=0;this.p.reccount=0;this.p.data=[];this.p._index={};this.updatepager(!0,!1)}})},getInd:function(b,d){var c=!1,e;this.each(function(){(e=this.rows.namedItem(b))&&(c=!0===d?e:e.rowIndex)});return c},bindKeys:function(f){var d=b.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},f||{});return this.each(function(){var c=this;b("body").is("[role]")||b("body").attr("role","application");c.p.scrollrows=d.scrollingRows;b(c).keydown(function(e){var a=b(c).find("tr[tabindex=0]")[0],f,h,g,j=c.p.treeReader.expanded_field;if(a){if(g=c.p._index[a.id],37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){if(38===e.keyCode){h=a.previousSibling;f="";if(h){if(b(h).is(":hidden")){for(;h;){if(h=h.previousSibling,!b(h).is(":hidden")&&b(h).hasClass("jqgrow")){f=h.id;break}}}else{f=h.id}}b(c).jqGrid("setSelection",f,!0,e);e.preventDefault()}if(40===e.keyCode){h=a.nextSibling;f="";if(h){if(b(h).is(":hidden")){for(;h;){if(h=h.nextSibling,!b(h).is(":hidden")&&b(h).hasClass("jqgrow")){f=h.id;break}}}else{f=h.id}}b(c).jqGrid("setSelection",f,!0,e);e.preventDefault()}37===e.keyCode&&(c.p.treeGrid&&c.p.data[g][j]&&b(a).find("div.treeclick").trigger("click"),b(c).triggerHandler("jqGridKeyLeft",[c.p.selrow]),b.isFunction(d.onLeftKey)&&d.onLeftKey.call(c,c.p.selrow));39===e.keyCode&&(c.p.treeGrid&&!c.p.data[g][j]&&b(a).find("div.treeclick").trigger("click"),b(c).triggerHandler("jqGridKeyRight",[c.p.selrow]),b.isFunction(d.onRightKey)&&d.onRightKey.call(c,c.p.selrow))}else{13===e.keyCode?(b(c).triggerHandler("jqGridKeyEnter",[c.p.selrow]),b.isFunction(d.onEnter)&&d.onEnter.call(c,c.p.selrow)):32===e.keyCode&&(b(c).triggerHandler("jqGridKeySpace",[c.p.selrow]),b.isFunction(d.onSpace)&&d.onSpace.call(c,c.p.selrow))}}})})},unbindKeys:function(){return this.each(function(){b(this).unbind("keydown")})},getLocalRow:function(b){var d=!1,c;this.each(function(){void 0!==b&&(c=this.p._index[b],0<=c&&(d=this.p.data[c]))});return d}})})(jQuery);(function(b){b.fmatter={};b.extend(b.fmatter,{isBoolean:function(c){return"boolean"===typeof c},isObject:function(a){return a&&("object"===typeof a||b.isFunction(a))||!1},isString:function(c){return"string"===typeof c},isNumber:function(c){return"number"===typeof c&&isFinite(c)},isNull:function(c){return null===c},isUndefined:function(c){return void 0===c},isValue:function(c){return this.isObject(c)||this.isString(c)||this.isNumber(c)||this.isBoolean(c)},isEmpty:function(a){if(!this.isString(a)&&this.isValue(a)){return !1}if(!this.isValue(a)){return !0}a=b.trim(a).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return""===a}});b.fn.fmatter=function(n,a,m,l,k){var i=a,m=b.extend({},b.jgrid.formatter,m);try{i=b.fn.fmatter[n].call(this,a,m,l,k)}catch(j){}return i};b.fmatter.util={NumberFormat:function(q,r){b.fmatter.isNumber(q)||(q*=1);if(b.fmatter.isNumber(q)){var p=0>q,o=""+q,n=r.decimalSeparator||".",l;if(b.fmatter.isNumber(r.decimalPlaces)){var m=r.decimalPlaces,o=Math.pow(10,m),o=""+Math.round(q*o)/o;l=o.lastIndexOf(".");if(0<m){0>l?(o+=n,l=o.length-1):"."!==n&&(o=o.replace(".",n));for(;o.length-1-l<m;){o+="0"}}}if(r.thousandsSeparator){m=r.thousandsSeparator;l=o.lastIndexOf(n);l=-1<l?l:o.length;var n=o.substring(l),k=-1,a;for(a=l;0<a;a--){k++;if(0===k%3&&a!==l&&(!p||1<a)){n=m+n}n=o.charAt(a-1)+n}o=n}o=r.prefix?r.prefix+o:o;return o=r.suffix?o+r.suffix:o}return q},DateFormat:function(G,H,F,E){var D=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,B="string"===typeof H?H.match(D):null,D=function(d,c){d=""+d;for(c=parseInt(c,10)||2;d.length<c;){d="0"+d}return d},C={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},A=0,z,y=["i18n"];y.i18n={dayNames:E.dayNames,monthNames:E.monthNames};E.masks.hasOwnProperty(G)&&(G=E.masks[G]);if(!isNaN(H-0)&&"u"==(""+G).toLowerCase()){A=new Date(1000*parseFloat(H))}else{if(H.constructor===Date){A=H}else{if(null!==B){A=new Date(parseInt(B[1],10)),B[3]&&(G=60*Number(B[5])+Number(B[6]),G*="-"==B[4]?1:-1,G-=A.getTimezoneOffset(),A.setTime(Number(Number(A)+60000*G)))}else{H=(""+H).split(/[\\\/:_;.,\t\T\s-]/);G=G.split(/[\\\/:_;.,\t\T\s-]/);B=0;for(z=G.length;B<z;B++){"M"==G[B]&&(A=b.inArray(H[B],y.i18n.monthNames),-1!==A&&12>A&&(H[B]=A+1)),"F"==G[B]&&(A=b.inArray(H[B],y.i18n.monthNames),-1!==A&&11<A&&(H[B]=A+1-12)),H[B]&&(C[G[B].toLowerCase()]=parseInt(H[B],10))}C.f&&(C.m=C.f);if(0===C.m&&0===C.y&&0===C.d){return"&#160;"}C.m=parseInt(C.m,10)-1;A=C.y;70<=A&&99>=A?C.y=1900+C.y:0<=A&&69>=A&&(C.y=2000+C.y);A=new Date(C.y,C.m,C.d,C.h,C.i,C.s,C.u)}}}E.masks.hasOwnProperty(F)?F=E.masks[F]:F||(F="Y-m-d");G=A.getHours();H=A.getMinutes();C=A.getDate();B=A.getMonth()+1;z=A.getTimezoneOffset();var x=A.getSeconds(),a=A.getMilliseconds(),v=A.getDay(),w=A.getFullYear(),u=(v+6)%7+1,t=(new Date(w,B-1,C)-new Date(w,0,1))/86400000,s={d:D(C),D:y.i18n.dayNames[v],j:C,l:y.i18n.dayNames[v+7],N:u,S:E.S(C),w:v,z:t,W:5>u?Math.floor((t+u-1)/7)+1:Math.floor((t+u-1)/7)||(4>((new Date(w-1,0,1)).getDay()+6)%7?53:52),F:y.i18n.monthNames[B-1+12],m:D(B),M:y.i18n.monthNames[B-1],n:B,t:"?",L:"?",o:"?",Y:w,y:(""+w).substring(2),a:12>G?E.AmPm[0]:E.AmPm[1],A:12>G?E.AmPm[2]:E.AmPm[3],B:"?",g:G%12||12,G:G,h:D(G%12||12),H:D(G),i:D(H),s:D(x),u:a,e:"?",I:"?",O:(0<z?"-":"+")+D(100*Math.floor(Math.abs(z)/60)+Math.abs(z)%60,4),P:"?",T:((""+A).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(A/1000)};return F.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(c){return s.hasOwnProperty(c)?s[c]:c.substring(1)})}};b.fn.fmatter.defaultFormat=function(d,a){return b.fmatter.isValue(d)&&""!==d?d:a.defaultValue||"&#160;"};b.fn.fmatter.email=function(d,a){return !b.fmatter.isEmpty(d)?'<a href="mailto:'+d+'">'+d+"</a>":b.fn.fmatter.defaultFormat(d,a)};b.fn.fmatter.checkbox=function(h,a){var g=b.extend({},a.checkbox),f;void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(g=b.extend({},g,a.colModel.formatoptions));f=!0===g.disabled?'disabled="disabled"':"";if(b.fmatter.isEmpty(h)||b.fmatter.isUndefined(h)){h=b.fn.fmatter.defaultFormat(h,g)}h=(""+h).toLowerCase();return'<input type="checkbox" '+(0>h.search(/(false|0|no|n|off)/i)?" checked='checked' ":"")+' value="'+h+'" offval="no" '+f+"/>"};b.fn.fmatter.link=function(h,a){var g={target:a.target},f="";void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(g=b.extend({},g,a.colModel.formatoptions));g.target&&(f="target="+g.target);return !b.fmatter.isEmpty(h)?"<a "+f+' href="'+h+'">'+h+"</a>":b.fn.fmatter.defaultFormat(h,a)};b.fn.fmatter.showlink=function(h,a){var g={baseLinkUrl:a.baseLinkUrl,showAction:a.showAction,addParam:a.addParam||"",target:a.target,idName:a.idName},f="";void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(g=b.extend({},g,a.colModel.formatoptions));g.target&&(f="target="+g.target);g=g.baseLinkUrl+g.showAction+"?"+g.idName+"="+a.rowId+g.addParam;return b.fmatter.isString(h)||b.fmatter.isNumber(h)?"<a "+f+' href="'+g+'">'+h+"</a>":b.fn.fmatter.defaultFormat(h,a)};b.fn.fmatter.integer=function(f,a){var e=b.extend({},a.integer);void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(e=b.extend({},e,a.colModel.formatoptions));return b.fmatter.isEmpty(f)?e.defaultValue:b.fmatter.util.NumberFormat(f,e)};b.fn.fmatter.number=function(f,a){var e=b.extend({},a.number);void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(e=b.extend({},e,a.colModel.formatoptions));return b.fmatter.isEmpty(f)?e.defaultValue:b.fmatter.util.NumberFormat(f,e)};b.fn.fmatter.currency=function(f,a){var e=b.extend({},a.currency);void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(e=b.extend({},e,a.colModel.formatoptions));return b.fmatter.isEmpty(f)?e.defaultValue:b.fmatter.util.NumberFormat(f,e)};b.fn.fmatter.date=function(h,a,g,f){g=b.extend({},a.date);void 0!==a.colModel&&!b.fmatter.isUndefined(a.colModel.formatoptions)&&(g=b.extend({},g,a.colModel.formatoptions));return !g.reformatAfterEdit&&"edit"==f?b.fn.fmatter.defaultFormat(h,a):!b.fmatter.isEmpty(h)?b.fmatter.util.DateFormat(g.srcformat,h,g.newformat,g):b.fn.fmatter.defaultFormat(h,a)};b.fn.fmatter.select=function(u,v){var u=""+u,t=!1,s=[],r,p;b.fmatter.isUndefined(v.colModel.formatoptions)?b.fmatter.isUndefined(v.colModel.editoptions)||(t=v.colModel.editoptions.value,r=void 0===v.colModel.editoptions.separator?":":v.colModel.editoptions.separator,p=void 0===v.colModel.editoptions.delimiter?";":v.colModel.editoptions.delimiter):(t=v.colModel.formatoptions.value,r=void 0===v.colModel.formatoptions.separator?":":v.colModel.formatoptions.separator,p=void 0===v.colModel.formatoptions.delimiter?";":v.colModel.formatoptions.delimiter);if(t){var q=!0===v.colModel.editoptions.multiple?!0:!1,o=[];q&&(o=u.split(","),o=b.map(o,function(c){return b.trim(c)}));if(b.fmatter.isString(t)){var n=t.split(p),m=0,a;for(a=0;a<n.length;a++){if(p=n[a].split(r),2<p.length&&(p[1]=b.map(p,function(d,c){if(c>0){return d}}).join(r)),q){-1<b.inArray(p[0],o)&&(s[m]=p[1],m++)}else{if(b.trim(p[0])==b.trim(u)){s[0]=p[1];break}}}}else{b.fmatter.isObject(t)&&(q?s=b.map(o,function(c){return t[c]}):s[0]=t[u]||"")}}u=s.join(", ");return""===u?b.fn.fmatter.defaultFormat(u,v):u};b.fn.fmatter.rowactions=function(s){var t=b(this).closest("tr.jqgrow"),r=b(this).parent(),q=t.attr("id"),p=b(this).closest("table.ui-jqgrid-btable"),n=p[0],o=n.p,m=o.colModel[b.jgrid.getCellIndex(this)],l={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,mtype:"POST",delOptions:{},editOptions:{}},a=function(c){b.isFunction(l.afterRestore)&&l.afterRestore.call(n,c);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide()};b.fmatter.isUndefined(m.formatoptions)||(l=b.extend(l,m.formatoptions));b.fmatter.isUndefined(o.editOptions)||(l.editOptions=o.editOptions);b.fmatter.isUndefined(o.delOptions)||(l.delOptions=o.delOptions);t.hasClass("jqgrid-new-row")&&(l.extraparam[o.prmNames.oper]=o.prmNames.addoper);t={keys:l.keys,oneditfunc:l.onEdit,successfunc:l.onSuccess,url:l.url,extraparam:l.extraparam,aftersavefunc:function(d,e){b.isFunction(l.afterSave)&&l.afterSave.call(n,d,e);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:l.onError,afterrestorefunc:a,restoreAfterError:l.restoreAfterError,mtype:l.mtype};switch(s){case"edit":p.jqGrid("editRow",q,t);r.find("div.ui-inline-edit,div.ui-inline-del").hide();r.find("div.ui-inline-save,div.ui-inline-cancel").show();p.triggerHandler("jqGridAfterGridComplete");break;case"save":p.jqGrid("saveRow",q,t)&&(r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide(),p.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":p.jqGrid("restoreRow",q,a);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide();p.triggerHandler("jqGridAfterGridComplete");break;case"del":p.jqGrid("delGridRow",q,l.delOptions);break;case"formedit":p.jqGrid("setSelection",q),p.jqGrid("editGridRow",q,l.editOptions)}};b.fn.fmatter.actions=function(j,a){var i={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},h=a.rowId,g="";b.fmatter.isUndefined(a.colModel.formatoptions)||(i=b.extend(i,a.colModel.formatoptions));if(void 0===h||b.fmatter.isEmpty(h)){return""}i.editformbutton?g+="<div title='"+b.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-pencil'></span></div>":i.editbutton&&(g+="<div title='"+b.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ><span class='ui-icon ui-icon-pencil'></span></div>");i.delbutton&&(g+="<div title='"+b.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-trash'></span></div>");g+="<div title='"+b.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-disk'></span></div>";g+="<div title='"+b.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-cancel'></span></div>";return"<div style='margin-left:8px;'>"+g+"</div>"};b.unformat=function(q,r,p,o){var n,l=r.colModel.formatter,m=r.colModel.formatoptions||{},k=/([\.\*\_\'\(\)\{\}\+\?\\])/g,a=r.colModel.unformat||b.fn.fmatter[l]&&b.fn.fmatter[l].unformat;if(void 0!==a&&b.isFunction(a)){n=a.call(this,b(q).text(),r,q)}else{if(!b.fmatter.isUndefined(l)&&b.fmatter.isString(l)){switch(n=b.jgrid.formatter||{},l){case"integer":m=b.extend({},n.integer,m);r=m.thousandsSeparator.replace(k,"\\$1");n=b(q).text().replace(RegExp(r,"g"),"");break;case"number":m=b.extend({},n.number,m);r=m.thousandsSeparator.replace(k,"\\$1");n=b(q).text().replace(RegExp(r,"g"),"").replace(m.decimalSeparator,".");break;case"currency":m=b.extend({},n.currency,m);r=m.thousandsSeparator.replace(k,"\\$1");r=RegExp(r,"g");n=b(q).text();m.prefix&&m.prefix.length&&(n=n.substr(m.prefix.length));m.suffix&&m.suffix.length&&(n=n.substr(0,n.length-m.suffix.length));n=n.replace(r,"").replace(m.decimalSeparator,".");break;case"checkbox":m=r.colModel.editoptions?r.colModel.editoptions.value.split(":"):["Yes","No"];n=b("input",q).is(":checked")?m[0]:m[1];break;case"select":n=b.unformat.select(q,r,p,o);break;case"actions":return"";default:n=b(q).text()}}}return void 0!==n?n:!0===o?b(q).text():b.jgrid.htmlDecode(b(q).html())};b.unformat.select=function(s,t,r,q){r=[];s=b(s).text();if(!0===q){return s}var q=b.extend({},!b.fmatter.isUndefined(t.colModel.formatoptions)?t.colModel.formatoptions:t.colModel.editoptions),t=void 0===q.separator?":":q.separator,p=void 0===q.delimiter?";":q.delimiter;if(q.value){var n=q.value,q=!0===q.multiple?!0:!1,o=[];q&&(o=s.split(","),o=b.map(o,function(c){return b.trim(c)}));if(b.fmatter.isString(n)){var m=n.split(p),l=0,a;for(a=0;a<m.length;a++){if(p=m[a].split(t),2<p.length&&(p[1]=b.map(p,function(d,c){if(c>0){return d}}).join(t)),q){-1<b.inArray(p[1],o)&&(r[l]=p[0],l++)}else{if(b.trim(p[1])==b.trim(s)){r[0]=p[0];break}}}}else{if(b.fmatter.isObject(n)||b.isArray(n)){q||(o[0]=s),r=b.map(o,function(d){var e;b.each(n,function(c,f){if(f==d){e=c;return false}});if(e!==void 0){return e}})}}return r.join(", ")}return s||""};b.unformat.date=function(f,a){var e=b.jgrid.formatter.date||{};b.fmatter.isUndefined(a.formatoptions)||(e=b.extend({},e,a.formatoptions));return !b.fmatter.isEmpty(f)?b.fmatter.util.DateFormat(e.newformat,f,e.srcformat,e):b.fn.fmatter.defaultFormat(f,a)}})(jQuery);(function(b){b.jgrid.extend({getColProp:function(e){var i={},h=this[0];if(!h.grid){return !1}var h=h.p.colModel,f;for(f=0;f<h.length;f++){if(h[f].name==e){i=h[f];break}}return i},setColProp:function(a,d){return this.each(function(){if(this.grid&&d){var e=this.p.colModel,c;for(c=0;c<e.length;c++){if(e[c].name==a){b.extend(!0,this.p.colModel[c],d);break}}}})},sortGrid:function(e,g,f){return this.each(function(){var a=-1,c;if(this.grid){e||(e=this.p.sortname);for(c=0;c<this.p.colModel.length;c++){if(this.p.colModel[c].index==e||this.p.colModel[c].name==e){a=c;break}}-1!=a&&(c=this.p.colModel[a].sortable,"boolean"!==typeof c&&(c=!0),"boolean"!==typeof g&&(g=!1),c&&this.sortData("jqgh_"+this.p.id+"_"+e,a,g,f))}})},clearBeforeUnload:function(){return this.each(function(){var a=this.grid;a.emptyRows.call(this,!0,!0);b(a.hDiv).unbind("mousemove");b(this).unbind();a.dragEnd=null;a.dragMove=null;a.dragStart=null;a.emptyRows=null;a.populate=null;a.populateVisible=null;a.scrollGrid=null;a.selectionPreserver=null;a.bDiv=null;a.cDiv=null;a.hDiv=null;a.cols=null;var f,e=a.headers.length;for(f=0;f<e;f++){a.headers[f].el=null}this.addJSONData=this.addXmlData=this.formatter=this.constructTr=this.setHeadCheckBox=this.refreshIndex=this.updatepager=this.sortData=this.formatCol=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&b(this.p.pager).remove();try{b(this).jqGrid("clearBeforeUnload"),b("#gbox_"+b.jgrid.jqID(this.id)).remove()}catch(a){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var a=b(this).attr("id"),f=b(this).attr("class");this.p.pager&&b(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var e=document.createElement("table");b(e).attr({id:a});e.className=f;a=b.jgrid.jqID(this.id);b(e).removeClass("ui-jqgrid-btable");1===b(this.p.pager).parents("#gbox_"+a).length?(b(e).insertBefore("#gbox_"+a).show(),b(this.p.pager).insertBefore("#gbox_"+a)):b(e).insertBefore("#gbox_"+a).show();b(this).jqGrid("clearBeforeUnload");b("#gbox_"+a).remove()}})},setGridState:function(a){return this.each(function(){this.grid&&("hidden"==a?(b(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+b.jgrid.jqID(this.p.id)).slideUp("fast"),this.p.pager&&b(this.p.pager).slideUp("fast"),this.p.toppager&&b(this.p.toppager).slideUp("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&b(this.grid.ubDiv).slideUp("fast"),b(this.grid.uDiv).slideUp("fast")),this.p.footerrow&&b(".ui-jqgrid-sdiv","#gbox_"+b.jgrid.jqID(this.p.id)).slideUp("fast"),b(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),this.p.gridstate="hidden"):"visible"==a&&(b(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+b.jgrid.jqID(this.p.id)).slideDown("fast"),this.p.pager&&b(this.p.pager).slideDown("fast"),this.p.toppager&&b(this.p.toppager).slideDown("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&b(this.grid.ubDiv).slideDown("fast"),b(this.grid.uDiv).slideDown("fast")),this.p.footerrow&&b(".ui-jqgrid-sdiv","#gbox_"+b.jgrid.jqID(this.p.id)).slideDown("fast"),b(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),this.p.gridstate="visible"))})},filterToolbar:function(a){a=b.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw"},a||{});return this.each(function(){var j=this;if(!this.ftoolbar){var i=function(){var x={},y=0,w,u,r={},s;b.each(j.p.colModel,function(){u=this.index||this.name;s=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"==this.stype?"eq":a.defaultSearch;if(w=b("#gs_"+b.jgrid.jqID(this.name),!0===this.frozen&&!0===j.p.frozenColumns?j.grid.fhDiv:j.grid.hDiv).val()){x[u]=w,r[u]=s,y++}else{try{delete j.p.postData[u]}catch(d){}}});var v=0<y?!0:!1;if(!0===a.stringResult||"local"==j.p.datatype){var t='{"groupOp":"'+a.groupOp+'","rules":[',p=0;b.each(x,function(f,d){0<p&&(t+=",");t+='{"field":"'+f+'",';t+='"op":"'+r[f]+'",';t+='"data":"'+(d+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';p++});t+="]}";b.extend(j.p.postData,{filters:t});b.each(["searchField","searchString","searchOper"],function(f,d){j.p.postData.hasOwnProperty(d)&&delete j.p.postData[d]})}else{b.extend(j.p.postData,x)}var m;j.p.searchurl&&(m=j.p.url,b(j).jqGrid("setGridParam",{url:j.p.searchurl}));var c="stop"===b(j).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!c&&b.isFunction(a.beforeSearch)&&(c=a.beforeSearch.call(j));c||b(j).jqGrid("setGridParam",{search:v}).trigger("reloadGrid",[{page:1}]);m&&b(j).jqGrid("setGridParam",{url:m});b(j).triggerHandler("jqGridToolbarAfterSearch");b.isFunction(a.afterSearch)&&a.afterSearch.call(j)},e=b("<tr class='ui-search-toolbar' role='rowheader'></tr>"),h;b.each(j.p.colModel,function(){var v=this,s,g,u,q;g=b("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+j.p.direction+"'></th>");s=b("<div style='position:relative;height:100%;padding-right:0.3em;'></div>");!0===this.hidden&&b(g).css("display","none");this.search=!1===this.search?!1:!0;void 0===this.stype&&(this.stype="text");u=b.extend({},this.searchoptions||{});if(this.search){switch(this.stype){case"select":if(q=this.surl||u.dataUrl){b.ajax(b.extend({url:q,dataType:"html",success:function(k){if(u.buildSelect!==void 0){(k=u.buildSelect(k))&&b(s).append(k)}else{b(s).append(k)}u.defaultValue!==void 0&&b("select",s).val(u.defaultValue);b("select",s).attr({name:v.index||v.name,id:"gs_"+v.name});u.attr&&b("select",s).attr(u.attr);b("select",s).css({width:"100%"});b.jgrid.bindEv(b("select",s)[0],u,j);a.autosearch===true&&b("select",s).change(function(){i();return false});k=null}},b.jgrid.ajaxOptions,j.p.ajaxSelectOptions||{}))}else{var r,c,t;v.searchoptions?(r=void 0===v.searchoptions.value?"":v.searchoptions.value,c=void 0===v.searchoptions.separator?":":v.searchoptions.separator,t=void 0===v.searchoptions.delimiter?";":v.searchoptions.delimiter):v.editoptions&&(r=void 0===v.editoptions.value?"":v.editoptions.value,c=void 0===v.editoptions.separator?":":v.editoptions.separator,t=void 0===v.editoptions.delimiter?";":v.editoptions.delimiter);if(r){q=document.createElement("select");q.style.width="100%";b(q).attr({name:v.index||v.name,id:"gs_"+v.name});var f,d;if("string"===typeof r){r=r.split(t);for(d=0;d<r.length;d++){f=r[d].split(c),t=document.createElement("option"),t.value=f[0],t.innerHTML=f[1],q.appendChild(t)}}else{if("object"===typeof r){for(f in r){r.hasOwnProperty(f)&&(t=document.createElement("option"),t.value=f,t.innerHTML=r[f],q.appendChild(t))}}}void 0!==u.defaultValue&&b(q).val(u.defaultValue);u.attr&&b(q).attr(u.attr);b.jgrid.bindEv(q,u,j);b(s).append(q);!0===a.autosearch&&b(q).change(function(){i();return false})}}break;case"text":c=void 0!==u.defaultValue?u.defaultValue:"",b(s).append("<input type='text' style='width:95%;padding:0px;' name='"+(v.index||v.name)+"' id='gs_"+v.name+"' value='"+c+"'/>"),u.attr&&b("input",s).attr(u.attr),b.jgrid.bindEv(b("input",s)[0],u,j),!0===a.autosearch&&(a.searchOnEnter?b("input",s).keypress(function(k){if((k.charCode||k.keyCode||0)==13){i();return false}return this}):b("input",s).keydown(function(k){switch(k.which){case 13:return false;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:h&&clearTimeout(h);h=setTimeout(function(){i()},500)}}))}}b(g).append(s);b(e).append(g)});b("table thead",j.grid.hDiv).append(e);this.ftoolbar=!0;this.triggerToolbar=i;this.clearToolbar=function(t){var u={},s=0,q,t="boolean"!==typeof t?!0:t;b.each(j.p.colModel,function(){var d;this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(d=this.searchoptions.defaultValue);q=this.index||this.name;switch(this.stype){case"select":b("#gs_"+b.jgrid.jqID(this.name)+" option",!0===this.frozen&&!0===j.p.frozenColumns?j.grid.fhDiv:j.grid.hDiv).each(function(k){if(k===0){this.selected=true}if(b(this).val()==d){this.selected=true;return false}});if(void 0!==d){u[q]=d,s++}else{try{delete j.p.postData[q]}catch(g){}}break;case"text":if(b("#gs_"+b.jgrid.jqID(this.name),!0===this.frozen&&!0===j.p.frozenColumns?j.grid.fhDiv:j.grid.hDiv).val(d),void 0!==d){u[q]=d,s++}else{try{delete j.p.postData[q]}catch(f){}}}});var r=0<s?!0:!1;if(!0===a.stringResult||"local"==j.p.datatype){var m='{"groupOp":"'+a.groupOp+'","rules":[',c=0;b.each(u,function(f,d){0<c&&(m+=",");m+='{"field":"'+f+'",';m+='"op":"eq",';m+='"data":"'+(d+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';c++});m+="]}";b.extend(j.p.postData,{filters:m});b.each(["searchField","searchString","searchOper"],function(f,d){j.p.postData.hasOwnProperty(d)&&delete j.p.postData[d]})}else{b.extend(j.p.postData,u)}var o;j.p.searchurl&&(o=j.p.url,b(j).jqGrid("setGridParam",{url:j.p.searchurl}));var l="stop"===b(j).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!l&&b.isFunction(a.beforeClear)&&(l=a.beforeClear.call(j));l||t&&b(j).jqGrid("setGridParam",{search:r}).trigger("reloadGrid",[{page:1}]);o&&b(j).jqGrid("setGridParam",{url:o});b(j).triggerHandler("jqGridToolbarAfterClear");b.isFunction(a.afterClear)&&a.afterClear()};this.toggleToolbar=function(){var c=b("tr.ui-search-toolbar",j.grid.hDiv),f=!0===j.p.frozenColumns?b("tr.ui-search-toolbar",j.grid.fhDiv):!1;"none"==c.css("display")?(c.show(),f&&f.show()):(c.hide(),f&&f.hide())}}})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,b(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(a){void 0===a&&(a=!0);return this.each(function(){var t,s,p,q,r,n;s=this.grid;var i=b("table.ui-jqgrid-htable thead",s.hDiv),o=this.p.colModel;if(s){b(this).unbind(".setGroupHeaders");t=b("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels");q=s.headers;s=0;for(p=q.length;s<p;s++){r=o[s].hidden?"none":"";r=b(q[s].el).width(q[s].width).css("display",r);try{r.removeAttr("rowSpan")}catch(k){r.attr("rowSpan",1)}t.append(r);n=r.children("span.ui-jqgrid-resize");0<n.length&&(n[0].style.height="");r.children("div")[0].style.top=""}b(i).children("tr.ui-jqgrid-labels").remove();b(i).prepend(t);!0===a&&b(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(a){a=b.extend({useColSpanStyle:!1,groupHeaders:[]},a||{});return this.each(function(){this.p.groupHeader=a;var H,G,D=0,E,F,A,x,C,y=this.p.colModel,z=y.length,u=this.grid.headers,B=b("table.ui-jqgrid-htable",this.grid.hDiv),w=B.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");E=B.children("thead");var v=B.find(".jqg-first-row-header");void 0===v[0]?v=b("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):v.empty();var t,s=function(f,e){var h=e.length,g;for(g=0;g<h;g++){if(e[g].startColumnName===f){return g}}return -1};b(this).prepend(E);E=b("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header");for(H=0;H<z;H++){if(A=u[H].el,x=b(A),G=y[H],F={height:"0px",width:u[H].width+"px",display:G.hidden?"none":""},b("<th>",{role:"gridcell"}).css(F).addClass("ui-first-th-"+this.p.direction).appendTo(v),A.style.width="",F=s(G.name,a.groupHeaders),0<=F){F=a.groupHeaders[F];D=F.numberOfColumns;C=F.titleText;for(F=G=0;F<D&&H+F<z;F++){y[H+F].hidden||G++}F=b("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({height:"22px","border-top":"0px none"}).html(C);0<G&&F.attr("colspan",""+G);this.p.headertitles&&F.attr("title",F.text());0===G&&F.hide();x.before(F);E.append(A);D-=1}else{0===D?a.useColSpanStyle?x.attr("rowspan","2"):(b("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({display:G.hidden?"none":"","border-top":"0px none"}).insertBefore(x),E.append(A)):(E.append(A),D--)}}y=b(this).children("thead");y.prepend(v);E.insertAfter(w);B.append(y);a.useColSpanStyle&&(B.find("span.ui-jqgrid-resize").each(function(){var c=b(this).parent();c.is(":visible")&&(this.style.cssText="height: "+c.height()+"px !important; cursor: col-resize;")}),B.find("div.ui-jqgrid-sortable").each(function(){var d=b(this),e=d.parent();e.is(":visible")&&e.is(":has(span.ui-jqgrid-resize)")&&d.css("top",(e.height()-d.outerHeight())/2+"px")}));t=y.find("tr.jqg-first-row-header");b(this).bind("jqGridResizeStop.setGroupHeaders",function(e,d,f){t.find("th").eq(f).width(d)})})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var h=this,p=h.p.colModel,o=0,k=p.length,l=-1,n=!1;if(!(!0===h.p.subGrid||!0===h.p.treeGrid||!0===h.p.cellEdit||h.p.sortable||h.p.scroll||h.p.grouping)){h.p.rownumbers&&o++;for(h.p.multiselect&&o++;o<k;){if(!0===p[o].frozen){n=!0,l=o}else{break}o++}if(0<=l&&n){p=h.p.caption?b(h.grid.cDiv).outerHeight():0;o=b(".ui-jqgrid-htable","#gview_"+b.jgrid.jqID(h.p.id)).height();h.p.toppager&&(p+=b(h.grid.topDiv).outerHeight());!0===h.p.toolbar[0]&&"bottom"!=h.p.toolbar[1]&&(p+=b(h.grid.uDiv).outerHeight());h.grid.fhDiv=b('<div style="position:absolute;left:0px;top:'+p+"px;height:"+o+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"></div>');h.grid.fbDiv=b('<div style="position:absolute;left:0px;top:'+(parseInt(p,10)+parseInt(o,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>');b("#gview_"+b.jgrid.jqID(h.p.id)).append(h.grid.fhDiv);p=b(".ui-jqgrid-htable","#gview_"+b.jgrid.jqID(h.p.id)).clone(!0);if(h.p.groupHeader){b("tr.jqg-first-row-header, tr.jqg-third-row-header",p).each(function(){b("th:gt("+l+")",this).remove()});var i=-1,a=-1;b("tr.jqg-second-row-header th",p).each(function(){var c=parseInt(b(this).attr("colspan"),10);c&&(i+=c,a++);if(i===l){return !1}});i!==l&&(a=l);b("tr.jqg-second-row-header",p).each(function(){b("th:gt("+a+")",this).remove()})}else{b("tr",p).each(function(){b("th:gt("+l+")",this).remove()})}b(p).width(1);b(h.grid.fhDiv).append(p).mousemove(function(c){if(h.grid.resizing){return h.grid.dragMove(c),!1}});b(h).bind("jqGridResizeStop.setFrozenColumns",function(j,g,f){j=b(".ui-jqgrid-htable",h.grid.fhDiv);b("th:eq("+f+")",j).width(g);j=b(".ui-jqgrid-btable",h.grid.fbDiv);b("tr:first td:eq("+f+")",j).width(g)});b(h).bind("jqGridOnSortCol.setFrozenColumns",function(q,m){var j=b("tr.ui-jqgrid-labels:last th:eq("+h.p.lastsort+")",h.grid.fhDiv),g=b("tr.ui-jqgrid-labels:last th:eq("+m+")",h.grid.fhDiv);b("span.ui-grid-ico-sort",j).addClass("ui-state-disabled");b(j).attr("aria-selected","false");b("span.ui-icon-"+h.p.sortorder,g).removeClass("ui-state-disabled");b(g).attr("aria-selected","true");!h.p.viewsortcols[0]&&h.p.lastsort!=m&&(b("span.s-ico",j).hide(),b("span.s-ico",g).show())});b("#gview_"+b.jgrid.jqID(h.p.id)).append(h.grid.fbDiv);b(h.grid.bDiv).scroll(function(){b(h.grid.fbDiv).scrollTop(b(this).scrollTop())});!0===h.p.hoverrows&&b("#"+b.jgrid.jqID(h.p.id)).unbind("mouseover").unbind("mouseout");b(h).bind("jqGridAfterGridComplete.setFrozenColumns",function(){b("#"+b.jgrid.jqID(h.p.id)+"_frozen").remove();b(h.grid.fbDiv).height(b(h.grid.bDiv).height()-16);var d=b("#"+b.jgrid.jqID(h.p.id)).clone(!0);b("tr",d).each(function(){b("td:gt("+l+")",this).remove()});b(d).width(1).attr("id",h.p.id+"_frozen");b(h.grid.fbDiv).append(d);!0===h.p.hoverrows&&(b("tr.jqgrow",d).hover(function(){b(this).addClass("ui-state-hover");b("#"+b.jgrid.jqID(this.id),"#"+b.jgrid.jqID(h.p.id)).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover");b("#"+b.jgrid.jqID(this.id),"#"+b.jgrid.jqID(h.p.id)).removeClass("ui-state-hover")}),b("tr.jqgrow","#"+b.jgrid.jqID(h.p.id)).hover(function(){b(this).addClass("ui-state-hover");b("#"+b.jgrid.jqID(this.id),"#"+b.jgrid.jqID(h.p.id)+"_frozen").addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover");b("#"+b.jgrid.jqID(this.id),"#"+b.jgrid.jqID(h.p.id)+"_frozen").removeClass("ui-state-hover")}));d=null});h.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){b(this.grid.fhDiv).remove();b(this.grid.fbDiv).remove();this.grid.fhDiv=null;this.grid.fbDiv=null;b(this).unbind(".setFrozenColumns");if(!0===this.p.hoverrows){var a;b("#"+b.jgrid.jqID(this.p.id)).bind("mouseover",function(d){a=b(d.target).closest("tr.jqgrow");"ui-subgrid"!==b(a).attr("class")&&b(a).addClass("ui-state-hover")}).bind("mouseout",function(d){a=b(d.target).closest("tr.jqgrow");b(a).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})})(jQuery);(function(b){b.extend(b.jgrid,{showModal:function(c){c.w.show()},closeModal:function(c){c.w.hide().attr("aria-hidden","true");c.o&&c.o.remove()},hideModal:function(g,a){a=b.extend({jqm:!0,gb:""},a||{});if(a.onClose){var h=a.gb&&"string"===typeof a.gb&&"#gbox_"===a.gb.substr(0,6)?a.onClose.call(b("#"+a.gb.substr(6))[0],g):a.onClose(g);if("boolean"===typeof h&&!h){return}}if(b.fn.jqm&&!0===a.jqm){b(g).attr("aria-hidden","true").jqmHide()}else{if(""!==a.gb){try{b(".jqgrid-overlay:first",a.gb).hide()}catch(f){}}b(g).hide().attr("aria-hidden","true")}},findPos:function(e){var d=0,f=0;if(e.offsetParent){do{d+=e.offsetLeft,f+=e.offsetTop}while(e=e.offsetParent)}return[d,f]},createModal:function(B,D,C,A,y,x,z){var C=b.extend(!0,{},b.jgrid.jqModal||{},C),w=document.createElement("div"),v,r=this,z=b.extend({},z||{});v="rtl"==b(C.gbox).attr("dir")?!0:!1;w.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";w.id=B.themodal;var u=document.createElement("div");u.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";u.id=B.modalhead;b(u).append("<span class='ui-jqdialog-title'>"+C.caption+"</span>");var t=b("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){t.addClass("ui-state-hover")},function(){t.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");b(u).append(t);v?(w.dir="rtl",b(".ui-jqdialog-title",u).css("float","right"),b(".ui-jqdialog-titlebar-close",u).css("left","0.3em")):(w.dir="ltr",b(".ui-jqdialog-title",u).css("float","left"),b(".ui-jqdialog-titlebar-close",u).css("right","0.3em"));var s=document.createElement("div");b(s).addClass("ui-jqdialog-content ui-widget-content").attr("id",B.modalcontent);b(s).append(D);w.appendChild(s);b(w).prepend(u);!0===x?b("body").append(w):"string"===typeof x?b(x).append(w):b(w).insertBefore(A);b(w).css(z);void 0===C.jqModal&&(C.jqModal=!0);D={};if(b.fn.jqm&&!0===C.jqModal){0===C.left&&0===C.top&&C.overlay&&(z=[],z=b.jgrid.findPos(y),C.left=z[0]+4,C.top=z[1]+4),D.top=C.top+"px",D.left=C.left}else{if(0!==C.left||0!==C.top){D.left=C.left,D.top=C.top+"px"}}b("a.ui-jqdialog-titlebar-close",u).click(function(){var c=b("#"+b.jgrid.jqID(B.themodal)).data("onClose")||C.onClose,d=b("#"+b.jgrid.jqID(B.themodal)).data("gbox")||C.gbox;r.hideModal("#"+b.jgrid.jqID(B.themodal),{gb:d,jqm:C.jqModal,onClose:c});return false});if(0===C.width||!C.width){C.width=300}if(0===C.height||!C.height){C.height=200}C.zIndex||(A=b(A).parents("*[role=dialog]").filter(":first").css("z-index"),C.zIndex=A?parseInt(A,10)+2:950);A=0;v&&D.left&&!x&&(A=b(C.gbox).width()-(!isNaN(C.width)?parseInt(C.width,10):0)-8,D.left=parseInt(D.left,10)+parseInt(A,10));D.left&&(D.left+="px");b(w).css(b.extend({width:isNaN(C.width)?"auto":C.width+"px",height:isNaN(C.height)?"auto":C.height+"px",zIndex:C.zIndex,overflow:"hidden"},D)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":B.modalhead,"aria-hidden":"true"});void 0===C.drag&&(C.drag=!0);void 0===C.resize&&(C.resize=!0);if(C.drag){if(b(u).css("cursor","move"),b.fn.jqDrag){b(w).jqDrag(u)}else{try{b(w).draggable({handle:b("#"+b.jgrid.jqID(u.id))})}catch(q){}}}if(C.resize){if(b.fn.jqResize){b(w).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'></div>"),b("#"+b.jgrid.jqID(B.themodal)).jqResize(".jqResize",B.scrollelm?"#"+b.jgrid.jqID(B.scrollelm):!1)}else{try{b(w).resizable({handles:"se, sw",alsoResize:B.scrollelm?"#"+b.jgrid.jqID(B.scrollelm):!1})}catch(a){}}}!0===C.closeOnEscape&&b(w).keydown(function(c){if(c.which==27){c=b("#"+b.jgrid.jqID(B.themodal)).data("onClose")||C.onClose;r.hideModal("#"+b.jgrid.jqID(B.themodal),{gb:C.gbox,jqm:C.jqModal,onClose:c})}})},viewModal:function(e,a){a=b.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:b.jgrid.showModal,onHide:b.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},a||{});if(b.fn.jqm&&!0===a.jqm){a.jqM?b(e).attr("aria-hidden","false").jqm(a).jqmShow():b(e).attr("aria-hidden","false").jqmShow()}else{""!==a.gbox&&(b(".jqgrid-overlay:first",a.gbox).show(),b(e).data("gbox",a.gbox));b(e).show().attr("aria-hidden","false");try{b(":input:visible",e)[0].focus()}catch(f){}}},info_dialog:function(p,r,q,o){var m={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1000,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};b.extend(!0,m,b.jgrid.jqModal||{},{caption:"<b>"+p+"</b>"},o||{});var l=m.jqModal,n=this;b.fn.jqm&&!l&&(l=!1);p="";if(0<m.buttons.length){for(o=0;o<m.buttons.length;o++){void 0===m.buttons[o].id&&(m.buttons[o].id="info_button_"+o),p+="<a href='javascript:void(0)' id='"+m.buttons[o].id+"' class='fm-button ui-state-default ui-corner-all'>"+m.buttons[o].text+"</a>"}}o=isNaN(m.dataheight)?m.dataheight:m.dataheight+"px";r="<div id='info_id'>"+("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+o+";"+("text-align:"+m.align+";")+"'>"+r+"</div>");r+=q?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+m.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+q+"</a>"+p+"</div>":""!==p?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+m.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+p+"</div>":"";r+="</div>";try{"false"==b("#info_dialog").attr("aria-hidden")&&b.jgrid.hideModal("#info_dialog",{jqm:l}),b("#info_dialog").remove()}catch(k){}b.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},r,m,"","",!0);p&&b.each(m.buttons,function(c){b("#"+b.jgrid.jqID(this.id),"#info_id").bind("click",function(){m.buttons[c].onClick.call(b("#info_dialog"));return !1})});b("#closedialog","#info_id").click(function(){n.hideModal("#info_dialog",{jqm:l});return !1});b(".fm-button","#info_dialog").hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")});b.isFunction(m.beforeOpen)&&m.beforeOpen();b.jgrid.viewModal("#info_dialog",{onHide:function(c){c.w.hide().remove();c.o&&c.o.remove()},modal:m.modal,jqm:l});b.isFunction(m.afterOpen)&&m.afterOpen();try{b("#info_dialog").focus()}catch(a){}},bindEv:function(e,a,f){b.isFunction(a.dataInit)&&a.dataInit.call(f,e);a.dataEvents&&b.each(a.dataEvents,function(){void 0!==this.data?b(e).bind(this.type,this.data,this.fn):b(e).bind(this.type,this.fn)})},createEl:function(x,z,y,w,u){function t(h,f,i){var g="dataInit,dataEvents,dataUrl,buildSelect,sopt,searchhidden,defaultValue,attr,custom_element,custom_value".split(",");void 0!==i&&b.isArray(i)&&b.merge(g,i);b.each(f,function(d,e){-1===b.inArray(d,g)&&b(h).attr(d,e)});f.hasOwnProperty("id")||b(h).attr("id",b.jgrid.randId())}var v="",s=this;switch(x){case"textarea":v=document.createElement("textarea");w?z.cols||b(v).css({width:"98%"}):z.cols||(z.cols=20);z.rows||(z.rows=2);if("&nbsp;"==y||"&#160;"==y||1==y.length&&160==y.charCodeAt(0)){y=""}v.value=y;t(v,z);b(v).attr({role:"textbox",multiline:"true"});break;case"checkbox":v=document.createElement("input");v.type="checkbox";z.value?(x=z.value.split(":"),y===x[0]&&(v.checked=!0,v.defaultChecked=!0),v.value=x[0],b(v).attr("offval",x[1])):(x=y.toLowerCase(),0>x.search(/(false|0|no|off|undefined)/i)&&""!==x?(v.checked=!0,v.defaultChecked=!0,v.value=y):v.value="on",b(v).attr("offval","off"));t(v,z,["value"]);b(v).attr("role","checkbox");break;case"select":v=document.createElement("select");v.setAttribute("role","select");w=[];!0===z.multiple?(x=!0,v.multiple="multiple",b(v).attr("aria-multiselectable","true")):x=!1;if(void 0!==z.dataUrl){x=z.name?(""+z.id).substring(0,(""+z.id).length-(""+z.name).length-1):""+z.id,w=z.postData||u.postData,s.p&&s.p.idPrefix?x=b.jgrid.stripPref(s.p.idPrefix,x):w=void 0,b.ajax(b.extend({url:z.dataUrl,type:"GET",dataType:"html",data:b.isFunction(w)?w.call(s,x,y,""+z.name):w,context:{elem:v,options:z,vl:y},success:function(h){var l=[],m=this.elem,k=this.vl,j=b.extend({},this.options),i=j.multiple===true;b.isFunction(j.buildSelect)&&(h=j.buildSelect.call(s,h));if(h=b(h).html()){b(m).append(h);t(m,j);if(j.size===void 0){j.size=i?3:1}if(i){l=k.split(",");l=b.map(l,function(c){return b.trim(c)})}else{l[0]=b.trim(k)}setTimeout(function(){b("option",m).each(function(c){if(c===0&&m.multiple){this.selected=false}b(this).attr("role","option");if(b.inArray(b.trim(b(this).text()),l)>-1||b.inArray(b.trim(b(this).val()),l)>-1){this.selected="selected"}})},0)}}},u||{}))}else{if(z.value){var r;void 0===z.size&&(z.size=x?3:1);x&&(w=y.split(","),w=b.map(w,function(c){return b.trim(c)}));"function"===typeof z.value&&(z.value=z.value());var a,q,p=void 0===z.separator?":":z.separator,u=void 0===z.delimiter?";":z.delimiter;if("string"===typeof z.value){a=z.value.split(u);for(r=0;r<a.length;r++){q=a[r].split(p);2<q.length&&(q[1]=b.map(q,function(c,e){if(e>0){return c}}).join(p));u=document.createElement("option");u.setAttribute("role","option");u.value=q[0];u.innerHTML=q[1];v.appendChild(u);if(!x&&(b.trim(q[0])==b.trim(y)||b.trim(q[1])==b.trim(y))){u.selected="selected"}if(x&&(-1<b.inArray(b.trim(q[1]),w)||-1<b.inArray(b.trim(q[0]),w))){u.selected="selected"}}}else{if("object"===typeof z.value){for(r in p=z.value,p){if(p.hasOwnProperty(r)){u=document.createElement("option");u.setAttribute("role","option");u.value=r;u.innerHTML=p[r];v.appendChild(u);if(!x&&(b.trim(r)==b.trim(y)||b.trim(p[r])==b.trim(y))){u.selected="selected"}if(x&&(-1<b.inArray(b.trim(p[r]),w)||-1<b.inArray(b.trim(r),w))){u.selected="selected"}}}}}t(v,z,["value"])}}break;case"text":case"password":case"button":r="button"==x?"button":"textbox";v=document.createElement("input");v.type=x;v.value=y;t(v,z);"button"!=x&&(w?z.size||b(v).css({width:"98%"}):z.size||(z.size=20));b(v).attr("role",r);break;case"image":case"file":v=document.createElement("input");v.type=x;t(v,z);break;case"custom":v=document.createElement("span");try{if(b.isFunction(z.custom_element)){if(p=z.custom_element.call(s,y,z)){p=b(p).addClass("customelement").attr({id:z.id,name:z.name}),b(v).empty().append(p)}else{throw"e2"}}else{throw"e1"}}catch(o){"e1"==o&&b.jgrid.info_dialog(b.jgrid.errors.errcap,"function 'custom_element' "+b.jgrid.edit.msg.nodefined,b.jgrid.edit.bClose),"e2"==o?b.jgrid.info_dialog(b.jgrid.errors.errcap,"function 'custom_element' "+b.jgrid.edit.msg.novalue,b.jgrid.edit.bClose):b.jgrid.info_dialog(b.jgrid.errors.errcap,"string"===typeof o?o:o.message,b.jgrid.edit.bClose)}}return v},checkDate:function(r,q){var p={},o,r=r.toLowerCase();o=-1!=r.indexOf("/")?"/":-1!=r.indexOf("-")?"-":-1!=r.indexOf(".")?".":"/";r=r.split(o);q=q.split(o);if(3!=q.length){return !1}o=-1;var m,l=-1,n=-1,k;for(k=0;k<r.length;k++){m=isNaN(q[k])?0:parseInt(q[k],10),p[r[k]]=m,m=r[k],-1!=m.indexOf("y")&&(o=k),-1!=m.indexOf("m")&&(n=k),-1!=m.indexOf("d")&&(l=k)}m="y"==r[o]||"yyyy"==r[o]?4:"yy"==r[o]?2:-1;k=function(e){var c;for(c=1;c<=e;c++){this[c]=31;if(4==c||6==c||9==c||11==c){this[c]=30}2==c&&(this[c]=29)}return this}(12);var d;if(-1===o){return !1}d=p[r[o]].toString();2==m&&1==d.length&&(m=1);if(d.length!=m||0===p[r[o]]&&"00"!=q[o]||-1===n){return !1}d=p[r[n]].toString();if(1>d.length||1>p[r[n]]||12<p[r[n]]||-1===l){return !1}d=p[r[l]].toString();return 1>d.length||1>p[r[l]]||31<p[r[l]]||2==p[r[n]]&&p[r[l]]>(0===p[r[o]]%4&&(0!==p[r[o]]%100||0===p[r[o]]%400)?29:28)||p[r[l]]>k[p[r[n]]]?!1:!0},isEmpty:function(c){return c.match(/^\s+$/)||""===c?!0:!1},checkTime:function(c){var a=/^(\d{1,2}):(\d{2})([ap]m)?$/;if(!b.jgrid.isEmpty(c)){if(c=c.match(a)){if(c[3]){if(1>c[1]||12<c[1]){return !1}}else{if(23<c[1]){return !1}}if(59<c[2]){return !1}}else{return !1}}return !0},checkValues:function(o,a,p,n,l){var k,m;if(void 0===n){if("string"===typeof a){n=0;for(l=p.p.colModel.length;n<l;n++){if(p.p.colModel[n].name==a){k=p.p.colModel[n].editrules;a=n;try{m=p.p.colModel[n].formoptions.label}catch(j){}break}}}else{0<=a&&(k=p.p.colModel[a].editrules)}}else{k=n,m=void 0===l?"_":l}if(k){m||(m=p.p.colNames[a]);if(!0===k.required&&b.jgrid.isEmpty(o)){return[!1,m+": "+b.jgrid.edit.msg.required,""]}n=!1===k.required?!1:!0;if(!0===k.number&&!(!1===n&&b.jgrid.isEmpty(o))&&isNaN(o)){return[!1,m+": "+b.jgrid.edit.msg.number,""]}if(void 0!==k.minValue&&!isNaN(k.minValue)&&parseFloat(o)<parseFloat(k.minValue)){return[!1,m+": "+b.jgrid.edit.msg.minValue+" "+k.minValue,""]}if(void 0!==k.maxValue&&!isNaN(k.maxValue)&&parseFloat(o)>parseFloat(k.maxValue)){return[!1,m+": "+b.jgrid.edit.msg.maxValue+" "+k.maxValue,""]}if(!0===k.email&&!(!1===n&&b.jgrid.isEmpty(o))&&(l=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,!l.test(o))){return[!1,m+": "+b.jgrid.edit.msg.email,""]}if(!0===k.integer&&!(!1===n&&b.jgrid.isEmpty(o))&&(isNaN(o)||0!==o%1||-1!=o.indexOf("."))){return[!1,m+": "+b.jgrid.edit.msg.integer,""]}if(!0===k.date&&!(!1===n&&b.jgrid.isEmpty(o))&&(a=p.p.colModel[a].formatoptions&&p.p.colModel[a].formatoptions.newformat?p.p.colModel[a].formatoptions.newformat:p.p.colModel[a].datefmt||"Y-m-d",!b.jgrid.checkDate(a,o))){return[!1,m+": "+b.jgrid.edit.msg.date+" - "+a,""]}if(!0===k.time&&!(!1===n&&b.jgrid.isEmpty(o))&&!b.jgrid.checkTime(o)){return[!1,m+": "+b.jgrid.edit.msg.date+" - hh:mm (am/pm)",""]}if(!0===k.url&&!(!1===n&&b.jgrid.isEmpty(o))&&(l=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,!l.test(o))){return[!1,m+": "+b.jgrid.edit.msg.url,""]}if(!0===k.custom&&!(!1===n&&b.jgrid.isEmpty(o))){return b.isFunction(k.custom_func)?(o=k.custom_func.call(p,o,m),b.isArray(o)?o:[!1,b.jgrid.edit.msg.customarray,""]):[!1,b.jgrid.edit.msg.customfcheck,""]}}return[!0,"",""]}})})(jQuery);(function(d){var c={};d.jgrid.extend({searchGrid:function(a){a=d.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null},d.jgrid.search,a||{});return this.each(function(){function K(e){u=d(I).triggerHandler("jqGridFilterBeforeShow",[e]);void 0===u&&(u=!0);u&&d.isFunction(a.beforeShowSearch)&&(u=a.beforeShowSearch.call(I,e));u&&(d.jgrid.viewModal("#"+d.jgrid.jqID(k.themodal),{gbox:"#gbox_"+d.jgrid.jqID(F),jqm:a.jqModal,modal:a.modal,overlay:a.overlay,toTop:a.toTop}),d(I).triggerHandler("jqGridFilterAfterShow",[e]),d.isFunction(a.afterShowSearch)&&a.afterShowSearch.call(I,e))}var I=this;if(I.grid){var F="fbox_"+I.p.id,u=!0,k={themodal:"searchmod"+F,modalhead:"searchhd"+F,modalcontent:"searchcnt"+F,scrollelm:F},v=I.p.postData[a.sFilter];"string"===typeof v&&(v=d.jgrid.parse(v));!0===a.recreateFilter&&d("#"+d.jgrid.jqID(k.themodal)).remove();if(void 0!==d("#"+d.jgrid.jqID(k.themodal))[0]){K(d("#fbox_"+d.jgrid.jqID(+I.p.id)))}else{var z=d("<div><div id='"+F+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+d.jgrid.jqID(I.p.id)),H="left",E="";"rtl"==I.p.direction&&(H="right",E=" style='text-align:left'",z.attr("dir","rtl"));var C=d.extend([],I.p.colModel),j="<a href='javascript:void(0)' id='"+F+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'></span>"+a.Find+"</a>",J="<a href='javascript:void(0)' id='"+F+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'></span>"+a.Reset+"</a>",B="",G="",A,D=!1,y=-1;a.showQuery&&(B="<a href='javascript:void(0)' id='"+F+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'></span>Query</a>");a.columns.length?C=a.columns:d.each(C,function(f,e){if(!e.label){e.label=I.p.colNames[f]}if(!D){var g=e.search===void 0?true:e.search,h=e.hidden===true;if(e.searchoptions&&e.searchoptions.searchhidden===true&&g||g&&!h){D=true;A=e.index||e.name;y=f}}});if(!v&&A||!1===a.multipleSearch){var b="eq";0<=y&&C[y].searchoptions&&C[y].searchoptions.sopt?b=C[y].searchoptions.sopt[0]:a.sopt&&a.sopt.length&&(b=a.sopt[0]);v={groupOp:"AND",rules:[{field:A,op:b,data:""}]}}D=!1;a.tmplNames&&a.tmplNames.length&&(D=!0,G=a.tmplLabel,G+="<select class='ui-template'>",G+="<option value='default'>Default</option>",d.each(a.tmplNames,function(f,e){G=G+("<option value='"+f+"'>"+e+"</option>")}),G+="</select>");H="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+F+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='EditButton' style='text-align:"+H+"'>"+J+G+"</td><td class='EditButton' "+E+">"+B+j+"</td></tr></tbody></table>";F=d.jgrid.jqID(F);d("#"+F).jqFilter({columns:C,filter:a.loadDefaults?v:null,showQuery:a.showQuery,errorcheck:a.errorcheck,sopt:a.sopt,groupButton:a.multipleGroup,ruleButtons:a.multipleSearch,afterRedraw:a.afterRedraw,_gridsopt:d.jgrid.search.odata,ajaxSelectOptions:I.p.ajaxSelectOptions,groupOps:a.groupOps,onChange:function(){this.p.showQuery&&d(".query",this).html(this.toUserFriendlyString());d.isFunction(a.afterChange)&&a.afterChange.call(I,d("#"+F),a)},direction:I.p.direction});z.append(H);D&&a.tmplFilters&&a.tmplFilters.length&&d(".ui-template",z).bind("change",function(){var e=d(this).val();e=="default"?d("#"+F).jqFilter("addFilter",v):d("#"+F).jqFilter("addFilter",a.tmplFilters[parseInt(e,10)]);return false});!0===a.multipleGroup&&(a.multipleSearch=!0);d(I).triggerHandler("jqGridFilterInitialize",[d("#"+F)]);d.isFunction(a.onInitializeSearch)&&a.onInitializeSearch.call(I,d("#"+F));a.gbox="#gbox_"+F;a.layer?d.jgrid.createModal(k,z,a,"#gview_"+d.jgrid.jqID(I.p.id),d("#gbox_"+d.jgrid.jqID(I.p.id))[0],"#"+d.jgrid.jqID(a.layer),{position:"relative"}):d.jgrid.createModal(k,z,a,"#gview_"+d.jgrid.jqID(I.p.id),d("#gbox_"+d.jgrid.jqID(I.p.id))[0]);(a.searchOnEnter||a.closeOnEscape)&&d("#"+d.jgrid.jqID(k.themodal)).keydown(function(e){var f=d(e.target);if(a.searchOnEnter&&e.which===13&&!f.hasClass("add-group")&&!f.hasClass("add-rule")&&!f.hasClass("delete-group")&&!f.hasClass("delete-rule")&&(!f.hasClass("fm-button")||!f.is("[id$=_query]"))){d("#"+F+"_search").focus().click();return false}if(a.closeOnEscape&&e.which===27){d("#"+d.jgrid.jqID(k.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click();return false}});B&&d("#"+F+"_query").bind("click",function(){d(".queryresult",z).toggle();return false});void 0===a.stringResult&&(a.stringResult=a.multipleSearch);d("#"+F+"_search").bind("click",function(){var n=d("#"+F),o={},l,e=n.jqFilter("filterData");if(a.errorcheck){n[0].hideError();a.showQuery||n.jqFilter("toSQLString");if(n[0].p.error){n[0].showError();return false}}if(a.stringResult){try{l=xmlJsonClass.toJson(e,"","",false)}catch(h){try{l=JSON.stringify(e)}catch(m){}}if(typeof l==="string"){o[a.sFilter]=l;d.each([a.sField,a.sValue,a.sOper],function(){o[this]=""})}}else{if(a.multipleSearch){o[a.sFilter]=e;d.each([a.sField,a.sValue,a.sOper],function(){o[this]=""})}else{o[a.sField]=e.rules[0].field;o[a.sValue]=e.rules[0].data;o[a.sOper]=e.rules[0].op;o[a.sFilter]=""}}I.p.search=true;d.extend(I.p.postData,o);d(I).triggerHandler("jqGridFilterSearch");d.isFunction(a.onSearch)&&a.onSearch.call(I);d(I).trigger("reloadGrid",[{page:1}]);a.closeAfterSearch&&d.jgrid.hideModal("#"+d.jgrid.jqID(k.themodal),{gb:"#gbox_"+d.jgrid.jqID(I.p.id),jqm:a.jqModal,onClose:a.onClose});return false});d("#"+F+"_reset").bind("click",function(){var e={},f=d("#"+F);I.p.search=false;a.multipleSearch===false?e[a.sField]=e[a.sValue]=e[a.sOper]="":e[a.sFilter]="";f[0].resetFilter();D&&d(".ui-template",z).val("default");d.extend(I.p.postData,e);d(I).triggerHandler("jqGridFilterReset");d.isFunction(a.onReset)&&a.onReset.call(I);d(I).trigger("reloadGrid",[{page:1}]);return false});K(d("#"+F));d(".fm-button:not(.ui-state-disabled)",z).hover(function(){d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")})}}})},editGridRow:function(a,b){b=d.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},d.jgrid.edit,b||{});c[d(this)[0].p.id]=b;return this.each(function(){function aw(){d(ao+" > tbody > tr > td > .FormElement").each(function(){var f=d(".customelement",this);if(f.length){var h=d(f[0]).attr("name");d.each(ax.p.colModel,function(){if(this.name===h&&this.editoptions&&d.isFunction(this.editoptions.custom_value)){try{if(aq[h]=this.editoptions.custom_value.call(ax,d("#"+d.jgrid.jqID(h),ao),"get"),void 0===aq[h]){throw"e1"}}catch(e){"e1"===e?d.jgrid.info_dialog(d.jgrid.errors.errcap,"function 'custom_value' "+d.jgrid.edit.msg.novalue,d.jgrid.edit.bClose):d.jgrid.info_dialog(d.jgrid.errors.errcap,e.message,d.jgrid.edit.bClose)}return !0}})}else{switch(d(this).get(0).type){case"checkbox":d(this).is(":checked")?aq[this.name]=d(this).val():(f=d(this).attr("offval"),aq[this.name]=f);break;case"select-one":aq[this.name]=d("option:selected",this).val();Z[this.name]=d("option:selected",this).text();break;case"select-multiple":aq[this.name]=d(this).val();aq[this.name]=aq[this.name]?aq[this.name].join(","):"";var g=[];d("option:selected",this).each(function(i,e){g[i]=d(e).text()});Z[this.name]=g.join(",");break;case"password":case"text":case"textarea":case"button":aq[this.name]=d(this).val()}ax.p.autoencode&&(aq[this.name]=d.jgrid.htmlEncode(aq[this.name]))}});return !0}function at(E,D,x,z){var A,C,w,g=0,B,r,s,v=[],F=!1,G="",t;for(t=1;t<=z;t++){G+="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>"}"_empty"!=E&&(F=d(D).jqGrid("getInd",E));d(D.p.colModel).each(function(l){A=this.name;r=(C=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"";if("cb"!==A&&"subgrid"!==A&&!0===this.editable&&"rn"!==A){if(!1===F){B=""}else{if(A==D.p.ExpandColumn&&!0===D.p.treeGrid){B=d("td[role='gridcell']:eq("+l+")",D.rows[F]).text()}else{try{B=d.unformat.call(D,d("td[role='gridcell']:eq("+l+")",D.rows[F]),{rowId:E,colModel:this},l)}catch(i){B=this.edittype&&"textarea"==this.edittype?d("td[role='gridcell']:eq("+l+")",D.rows[F]).text():d("td[role='gridcell']:eq("+l+")",D.rows[F]).html()}if(!B||"&nbsp;"==B||"&#160;"==B||1==B.length&&160==B.charCodeAt(0)){B=""}}}var j=d.extend({},this.editoptions||{},{id:A,name:A}),f=d.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),h=parseInt(f.rowpos,10)||g+1,e=parseInt(2*(parseInt(f.colpos,10)||1),10);"_empty"==E&&j.defaultValue&&(B=d.isFunction(j.defaultValue)?j.defaultValue.call(ax):j.defaultValue);this.edittype||(this.edittype="text");ax.p.autoencode&&(B=d.jgrid.htmlDecode(B));s=d.jgrid.createEl.call(ax,this.edittype,j,B,!1,d.extend({},d.jgrid.ajaxOptions,D.p.ajaxSelectOptions||{}));""===B&&"checkbox"==this.edittype&&(B=d(s).attr("offval"));""===B&&"select"==this.edittype&&(B=d("option:eq(0)",s).text());if(c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate){c[ax.p.id]._savedData[A]=B}d(s).addClass("FormElement");-1<d.inArray(this.edittype,["text","textarea","password","select"])&&d(s).addClass("ui-widget-content ui-corner-all");w=d(x).find("tr[rowpos="+h+"]");if(f.rowabove){var k=d("<tr><td class='contentinfo' colspan='"+2*z+"'>"+f.rowcontent+"</td></tr>");d(x).append(k);k[0].rp=h}0===w.length&&(w=d("<tr "+r+" rowpos='"+h+"'></tr>").addClass("FormData").attr("id","tr_"+A),d(w).append(G),d(x).append(w),w[0].rp=h);d("td:eq("+(e-2)+")",w[0]).html(void 0===f.label?D.p.colNames[l]:f.label);d("td:eq("+(e-1)+")",w[0]).append(f.elmprefix).append(s).append(f.elmsuffix);d.isFunction(j.custom_value)&&"_empty"!==E&&j.custom_value.call(ax,d("#"+A,"#"+au),"set",B);d.jgrid.bindEv(s,j,ax);v[g]=l;g++}});if(0<g&&(t=d("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*z-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+D.p.id+"_id' value='"+E+"'/></td></tr>"),t[0].rp=g+999,d(x).append(t),c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate)){c[ax.p.id]._savedData[D.p.id+"_id"]=E}return v}function ah(B,A,y){var t,w=0,v,z,x,l,m;if(c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate){c[ax.p.id]._savedData={},c[ax.p.id]._savedData[A.p.id+"_id"]=B}var s=A.p.colModel;if("_empty"==B){d(s).each(function(){t=this.name;x=d.extend({},this.editoptions||{});if((z=d("#"+d.jgrid.jqID(t),"#"+y))&&z.length&&null!==z[0]){if(l="",x.defaultValue?(l=d.isFunction(x.defaultValue)?x.defaultValue.call(ax):x.defaultValue,"checkbox"==z[0].type?(m=l.toLowerCase(),0>m.search(/(false|0|no|off|undefined)/i)&&""!==m?(z[0].checked=!0,z[0].defaultChecked=!0,z[0].value=l):(z[0].checked=!1,z[0].defaultChecked=!1)):z.val(l)):"checkbox"==z[0].type?(z[0].checked=!1,z[0].defaultChecked=!1,l=d(z).attr("offval")):z[0].type&&"select"==z[0].type.substr(0,6)?z[0].selectedIndex=0:z.val(l),!0===c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate){c[ax.p.id]._savedData[t]=l}}}),d("#id_g","#"+y).val(B)}else{var r=d(A).jqGrid("getInd",B,!0);r&&(d('td[role="gridcell"]',r).each(function(j){t=s[j].name;if("cb"!==t&&"subgrid"!==t&&"rn"!==t&&!0===s[j].editable){if(t==A.p.ExpandColumn&&!0===A.p.treeGrid){v=d(this).text()}else{try{v=d.unformat.call(A,d(this),{rowId:B,colModel:s[j]},j)}catch(g){v="textarea"==s[j].edittype?d(this).text():d(this).html()}}ax.p.autoencode&&(v=d.jgrid.htmlDecode(v));if(!0===c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate){c[ax.p.id]._savedData[t]=v}t=d.jgrid.jqID(t);switch(s[j].edittype){case"password":case"text":case"button":case"image":case"textarea":if("&nbsp;"==v||"&#160;"==v||1==v.length&&160==v.charCodeAt(0)){v=""}d("#"+t,"#"+y).val(v);break;case"select":var e=v.split(","),e=d.map(e,function(f){return d.trim(f)});d("#"+t+" option","#"+y).each(function(){this.selected=!s[j].editoptions.multiple&&(d.trim(v)==d.trim(d(this).text())||e[0]==d.trim(d(this).text())||e[0]==d.trim(d(this).val()))?!0:s[j].editoptions.multiple?-1<d.inArray(d.trim(d(this).text()),e)||-1<d.inArray(d.trim(d(this).val()),e)?!0:!1:!1});break;case"checkbox":v=""+v;s[j].editoptions&&s[j].editoptions.value?s[j].editoptions.value.split(":")[0]==v?(d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("checked",!0),d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("defaultChecked",!0)):(d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("checked",!1),d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("defaultChecked",!1)):(v=v.toLowerCase(),0>v.search(/(false|0|no|off|undefined)/i)&&""!==v?(d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("checked",!0),d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("defaultChecked",!0)):(d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("checked",!1),d("#"+t,"#"+y)[ax.p.useProp?"prop":"attr"]("defaultChecked",!1)));break;case"custom":try{if(s[j].editoptions&&d.isFunction(s[j].editoptions.custom_value)){s[j].editoptions.custom_value.call(ax,d("#"+t,"#"+y),"set",v)}else{throw"e1"}}catch(i){"e1"==i?d.jgrid.info_dialog(d.jgrid.errors.errcap,"function 'custom_value' "+d.jgrid.edit.msg.nodefined,d.jgrid.edit.bClose):d.jgrid.info_dialog(d.jgrid.errors.errcap,i.message,d.jgrid.edit.bClose)}}w++}}),0<w&&d("#id_g",ao).val(B))}}function ag(){d.each(ax.p.colModel,function(e,f){f.editoptions&&!0===f.editoptions.NullIfEmpty&&aq.hasOwnProperty(f.name)&&""===aq[f.name]&&(aq[f.name]="null")})}function ai(){var t,n=[!0,"",""],s={},q=ax.p.prmNames,r,g,j,v,l,w=d(ax).triggerHandler("jqGridAddEditBeforeCheckValues",[d("#"+au),ab]);w&&"object"===typeof w&&(aq=w);d.isFunction(c[ax.p.id].beforeCheckValues)&&(w=c[ax.p.id].beforeCheckValues.call(ax,aq,d("#"+au),"_empty"==aq[ax.p.id+"_id"]?q.addoper:q.editoper))&&"object"===typeof w&&(aq=w);for(j in aq){if(aq.hasOwnProperty(j)&&(n=d.jgrid.checkValues.call(ax,aq[j],j,ax),!1===n[0])){break}}ag();n[0]&&(s=d(ax).triggerHandler("jqGridAddEditClickSubmit",[c[ax.p.id],aq,ab]),void 0===s&&d.isFunction(c[ax.p.id].onclickSubmit)&&(s=c[ax.p.id].onclickSubmit.call(ax,c[ax.p.id],aq)||{}),n=d(ax).triggerHandler("jqGridAddEditBeforeSubmit",[aq,d("#"+au),ab]),void 0===n&&(n=[!0,"",""]),n[0]&&d.isFunction(c[ax.p.id].beforeSubmit)&&(n=c[ax.p.id].beforeSubmit.call(ax,aq,d("#"+au))));if(n[0]&&!c[ax.p.id].processing){c[ax.p.id].processing=!0;d("#sData",ao+"_2").addClass("ui-state-active");g=q.oper;r=q.id;aq[g]="_empty"==d.trim(aq[ax.p.id+"_id"])?q.addoper:q.editoper;aq[g]!=q.addoper?aq[r]=aq[ax.p.id+"_id"]:void 0===aq[r]&&(aq[r]=aq[ax.p.id+"_id"]);delete aq[ax.p.id+"_id"];aq=d.extend(aq,c[ax.p.id].editData,s);if(!0===ax.p.treeGrid){for(l in aq[g]==q.addoper&&(v=d(ax).jqGrid("getGridParam","selrow"),aq["adjacency"==ax.p.treeGridModel?ax.p.treeReader.parent_id_field:"parent_id"]=v),ax.p.treeReader){ax.p.treeReader.hasOwnProperty(l)&&(s=ax.p.treeReader[l],aq.hasOwnProperty(s)&&!(aq[g]==q.addoper&&"parent_id_field"===l)&&delete aq[s])}}aq[r]=d.jgrid.stripPref(ax.p.idPrefix,aq[r]);l=d.extend({url:c[ax.p.id].url||d(ax).jqGrid("getGridParam","editurl"),type:c[ax.p.id].mtype,data:d.isFunction(c[ax.p.id].serializeEditData)?c[ax.p.id].serializeEditData.call(ax,aq):aq,complete:function(i,k){var e;aq[r]=ax.p.idPrefix+aq[r];if(k!="success"){n[0]=false;n[1]=d(ax).triggerHandler("jqGridAddEditErrorTextFormat",[i,ab]);n[1]=d.isFunction(c[ax.p.id].errorTextFormat)?c[ax.p.id].errorTextFormat.call(ax,i):k+" Status: '"+i.statusText+"'. Error code: "+i.status}else{n=d(ax).triggerHandler("jqGridAddEditAfterSubmit",[i,aq,ab]);n===void 0&&(n=[true,"",""]);n[0]&&d.isFunction(c[ax.p.id].afterSubmit)&&(n=c[ax.p.id].afterSubmit.call(ax,i,aq))}if(n[0]===false){d("#FormError>td",ao).html(n[1]);d("#FormError",ao).show()}else{d.each(ax.p.colModel,function(){if(Z[this.name]&&this.formatter&&this.formatter=="select"){try{delete Z[this.name]}catch(f){}}});aq=d.extend(aq,Z);ax.p.autoencode&&d.each(aq,function(m,f){aq[m]=d.jgrid.htmlDecode(f)});if(aq[g]==q.addoper){n[2]||(n[2]=d.jgrid.randId());aq[r]=n[2];if(c[ax.p.id].closeAfterAdd){if(c[ax.p.id].reloadAfterSubmit){d(ax).trigger("reloadGrid")}else{if(ax.p.treeGrid===true){d(ax).jqGrid("addChildNode",n[2],v,aq)}else{d(ax).jqGrid("addRowData",n[2],aq,b.addedrow);d(ax).jqGrid("setSelection",n[2])}}d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose})}else{if(c[ax.p.id].clearAfterAdd){c[ax.p.id].reloadAfterSubmit?d(ax).trigger("reloadGrid"):ax.p.treeGrid===true?d(ax).jqGrid("addChildNode",n[2],v,aq):d(ax).jqGrid("addRowData",n[2],aq,b.addedrow);ah("_empty",ax,au)}else{c[ax.p.id].reloadAfterSubmit?d(ax).trigger("reloadGrid"):ax.p.treeGrid===true?d(ax).jqGrid("addChildNode",n[2],v,aq):d(ax).jqGrid("addRowData",n[2],aq,b.addedrow)}}}else{if(c[ax.p.id].reloadAfterSubmit){d(ax).trigger("reloadGrid");c[ax.p.id].closeAfterEdit||setTimeout(function(){d(ax).jqGrid("setSelection",aq[r])},1000)}else{ax.p.treeGrid===true?d(ax).jqGrid("setTreeRow",aq[r],aq):d(ax).jqGrid("setRowData",aq[r],aq)}c[ax.p.id].closeAfterEdit&&d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose})}if(d.isFunction(c[ax.p.id].afterComplete)){t=i;setTimeout(function(){d(ax).triggerHandler("jqGridAddEditAfterComplete",[t,aq,d("#"+au),ab]);c[ax.p.id].afterComplete.call(ax,t,aq,d("#"+au));t=null},500)}if(c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate){d("#"+au).data("disabled",false);if(c[ax.p.id]._savedData[ax.p.id+"_id"]!="_empty"){for(e in c[ax.p.id]._savedData){c[ax.p.id]._savedData.hasOwnProperty(e)&&aq[e]&&(c[ax.p.id]._savedData[e]=aq[e])}}}}c[ax.p.id].processing=false;d("#sData",ao+"_2").removeClass("ui-state-active");try{d(":input:visible","#"+au)[0].focus()}catch(h){}}},d.jgrid.ajaxOptions,c[ax.p.id].ajaxEditOptions);!l.url&&!c[ax.p.id].useDataProxy&&(d.isFunction(ax.p.dataProxy)?c[ax.p.id].useDataProxy=!0:(n[0]=!1,n[1]+=" "+d.jgrid.errors.nourl));n[0]&&(c[ax.p.id].useDataProxy?(s=ax.p.dataProxy.call(ax,l,"set_"+ax.p.id),void 0===s&&(s=[!0,""]),!1===s[0]?(n[0]=!1,n[1]=s[1]||"Error deleting the selected row!"):(l.data.oper==q.addoper&&c[ax.p.id].closeAfterAdd&&d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose}),l.data.oper==q.editoper&&c[ax.p.id].closeAfterEdit&&d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose}))):d.ajax(l))}!1===n[0]&&(d("#FormError>td",ao).html(n[1]),d("#FormError",ao).show())}function ak(f,h){var g=!1,e;for(e in f){if(f.hasOwnProperty(e)&&f[e]!=h[e]){g=!0;break}}return g}function av(){var e=!0;d("#FormError",ao).hide();if(c[ax.p.id].checkOnUpdate&&(aq={},Z={},aw(),V=d.extend({},aq,Z),O=ak(V,c[ax.p.id]._savedData))){d("#"+au).data("disabled",!0),d(".confirm","#"+aj.themodal).show(),e=!1}return e}function ar(){var e;if("_empty"!==a&&void 0!==ax.p.savedRow&&0<ax.p.savedRow.length&&d.isFunction(d.fn.jqGrid.restoreRow)){for(e=0;e<ax.p.savedRow.length;e++){if(ax.p.savedRow[e].id==a){d(ax).jqGrid("restoreRow",a);break}}}}function an(g,f){var e=f[1].length-1;0===g?d("#pData",ao+"_2").addClass("ui-state-disabled"):void 0!==f[1][g-1]&&d("#"+d.jgrid.jqID(f[1][g-1])).hasClass("ui-state-disabled")?d("#pData",ao+"_2").addClass("ui-state-disabled"):d("#pData",ao+"_2").removeClass("ui-state-disabled");g==e?d("#nData",ao+"_2").addClass("ui-state-disabled"):void 0!==f[1][g+1]&&d("#"+d.jgrid.jqID(f[1][g+1])).hasClass("ui-state-disabled")?d("#nData",ao+"_2").addClass("ui-state-disabled"):d("#nData",ao+"_2").removeClass("ui-state-disabled")}function ae(){var f=d(ax).jqGrid("getDataIDs"),e=d("#id_g",ao).val();return[d.inArray(e,f),f]}var ax=this;if(ax.grid&&a){var am=ax.p.id,au="FrmGrid_"+am,al="TblGrid_"+am,ao="#"+d.jgrid.jqID(al),aj={themodal:"editmod"+am,modalhead:"edithd"+am,modalcontent:"editcnt"+am,scrollelm:au},ad=d.isFunction(c[ax.p.id].beforeShowForm)?c[ax.p.id].beforeShowForm:!1,aa=d.isFunction(c[ax.p.id].afterShowForm)?c[ax.p.id].afterShowForm:!1,af=d.isFunction(c[ax.p.id].beforeInitData)?c[ax.p.id].beforeInitData:!1,Y=d.isFunction(c[ax.p.id].onInitializeForm)?c[ax.p.id].onInitializeForm:!1,ap=!0,ac=1,T=0,aq,Z,V,O,ab,au=d.jgrid.jqID(au);"new"===a?(a="_empty",ab="add",b.caption=c[ax.p.id].addCaption):(b.caption=c[ax.p.id].editCaption,ab="edit");!0===b.recreateForm&&void 0!==d("#"+d.jgrid.jqID(aj.themodal))[0]&&d("#"+d.jgrid.jqID(aj.themodal)).remove();var S=!0;b.checkOnUpdate&&b.jqModal&&!b.modal&&(S=!1);if(void 0!==d("#"+d.jgrid.jqID(aj.themodal))[0]){ap=d(ax).triggerHandler("jqGridAddEditBeforeInitData",[d("#"+d.jgrid.jqID(au)),ab]);void 0===ap&&(ap=!0);ap&&af&&(ap=af.call(ax,d("#"+au)));if(!1===ap){return}ar();d(".ui-jqdialog-title","#"+d.jgrid.jqID(aj.modalhead)).html(b.caption);d("#FormError",ao).hide();c[ax.p.id].topinfo?(d(".topinfo",ao).html(c[ax.p.id].topinfo),d(".tinfo",ao).show()):d(".tinfo",ao).hide();c[ax.p.id].bottominfo?(d(".bottominfo",ao+"_2").html(c[ax.p.id].bottominfo),d(".binfo",ao+"_2").show()):d(".binfo",ao+"_2").hide();ah(a,ax,au);"_empty"==a||!c[ax.p.id].viewPagerButtons?d("#pData, #nData",ao+"_2").hide():d("#pData, #nData",ao+"_2").show();!0===c[ax.p.id].processing&&(c[ax.p.id].processing=!1,d("#sData",ao+"_2").removeClass("ui-state-active"));!0===d("#"+au).data("disabled")&&(d(".confirm","#"+d.jgrid.jqID(aj.themodal)).hide(),d("#"+au).data("disabled",!1));d(ax).triggerHandler("jqGridAddEditBeforeShowForm",[d("#"+au),ab]);ad&&ad.call(ax,d("#"+au));d("#"+d.jgrid.jqID(aj.themodal)).data("onClose",c[ax.p.id].onClose);d.jgrid.viewModal("#"+d.jgrid.jqID(aj.themodal),{gbox:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,jqM:!1,overlay:b.overlay,modal:b.modal});S||d(".jqmOverlay").click(function(){if(!av()){return false}d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose});return false});d(ax).triggerHandler("jqGridAddEditAfterShowForm",[d("#"+au),ab]);aa&&aa.call(ax,d("#"+au))}else{var U=isNaN(b.dataheight)?b.dataheight:b.dataheight+"px",ap=isNaN(b.datawidth)?b.datawidth:b.datawidth+"px",U=d("<form name='FormPost' id='"+au+"' class='FormGrid' onSubmit='return false;' style='width:"+ap+";overflow:auto;position:relative;height:"+U+";'></form>").data("disabled",!1),X=d("<table id='"+al+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),ap=d(ax).triggerHandler("jqGridAddEditBeforeInitData",[d("#"+au),ab]);void 0===ap&&(ap=!0);ap&&af&&(ap=af.call(ax,d("#"+au)));if(!1===ap){return}ar();d(ax.p.colModel).each(function(){var e=this.formoptions;ac=Math.max(ac,e?e.colpos||0:0);T=Math.max(T,e?e.rowpos||0:0)});d(U).append(X);af=d("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*ac+"'></td></tr>");af[0].rp=0;d(X).append(af);af=d("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*ac+"'>"+c[ax.p.id].topinfo+"</td></tr>");af[0].rp=0;d(X).append(af);var ap=(af="rtl"==ax.p.direction?!0:!1)?"nData":"pData",W=af?"pData":"nData";at(a,ax,X,ac);var ap="<a href='javascript:void(0)' id='"+ap+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>",W="<a href='javascript:void(0)' id='"+W+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>",R="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+b.bSubmit+"</a>",Q="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+b.bCancel+"</a>",al="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+al+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(af?W+ap:ap+W)+"</td><td class='EditButton'>"+R+Q+"</td></tr>"+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+c[ax.p.id].bottominfo+"</td></tr>"),al=al+"</tbody></table>";if(0<T){var P=[];d.each(d(X)[0].rows,function(e,f){P[e]=f});P.sort(function(e,f){return e.rp>f.rp?1:e.rp<f.rp?-1:0});d.each(P,function(f,e){d("tbody",X).append(e)})}b.gbox="#gbox_"+d.jgrid.jqID(am);var u=!1;!0===b.closeOnEscape&&(b.closeOnEscape=!1,u=!0);al=d("<div></div>").append(U).append(al);d.jgrid.createModal(aj,al,b,"#gview_"+d.jgrid.jqID(ax.p.id),d("#gbox_"+d.jgrid.jqID(ax.p.id))[0]);af&&(d("#pData, #nData",ao+"_2").css("float","right"),d(".EditButton",ao+"_2").css("text-align","left"));c[ax.p.id].topinfo&&d(".tinfo",ao).show();c[ax.p.id].bottominfo&&d(".binfo",ao+"_2").show();al=al=null;d("#"+d.jgrid.jqID(aj.themodal)).keydown(function(g){var f=g.target;if(d("#"+au).data("disabled")===true){return false}if(c[ax.p.id].savekey[0]===true&&g.which==c[ax.p.id].savekey[1]&&f.tagName!="TEXTAREA"){d("#sData",ao+"_2").trigger("click");return false}if(g.which===27){if(!av()){return false}u&&d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:b.gbox,jqm:b.jqModal,onClose:c[ax.p.id].onClose});return false}if(c[ax.p.id].navkeys[0]===true){if(d("#id_g",ao).val()=="_empty"){return true}if(g.which==c[ax.p.id].navkeys[1]){d("#pData",ao+"_2").trigger("click");return false}if(g.which==c[ax.p.id].navkeys[2]){d("#nData",ao+"_2").trigger("click");return false}}});b.checkOnUpdate&&(d("a.ui-jqdialog-titlebar-close span","#"+d.jgrid.jqID(aj.themodal)).removeClass("jqmClose"),d("a.ui-jqdialog-titlebar-close","#"+d.jgrid.jqID(aj.themodal)).unbind("click").click(function(){if(!av()){return false}d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose});return false}));b.saveicon=d.extend([!0,"left","ui-icon-disk"],b.saveicon);b.closeicon=d.extend([!0,"left","ui-icon-close"],b.closeicon);!0===b.saveicon[0]&&d("#sData",ao+"_2").addClass("right"==b.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+b.saveicon[2]+"'></span>");!0===b.closeicon[0]&&d("#cData",ao+"_2").addClass("right"==b.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+b.closeicon[2]+"'></span>");if(c[ax.p.id].checkOnSubmit||c[ax.p.id].checkOnUpdate){R="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+b.bYes+"</a>",W="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+b.bNo+"</a>",Q="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+b.bExit+"</a>",al=b.zIndex||999,al++,d("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+al+";display:none;'>&#160;</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(al+1)+"'>"+b.saveData+"<br/><br/>"+R+W+Q+"</div>").insertAfter("#"+au),d("#sNew","#"+d.jgrid.jqID(aj.themodal)).click(function(){ai();d("#"+au).data("disabled",false);d(".confirm","#"+d.jgrid.jqID(aj.themodal)).hide();return false}),d("#nNew","#"+d.jgrid.jqID(aj.themodal)).click(function(){d(".confirm","#"+d.jgrid.jqID(aj.themodal)).hide();d("#"+au).data("disabled",false);setTimeout(function(){d(":input","#"+au)[0].focus()},0);return false}),d("#cNew","#"+d.jgrid.jqID(aj.themodal)).click(function(){d(".confirm","#"+d.jgrid.jqID(aj.themodal)).hide();d("#"+au).data("disabled",false);d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose});return false})}d(ax).triggerHandler("jqGridAddEditInitializeForm",[d("#"+au),ab]);Y&&Y.call(ax,d("#"+au));"_empty"==a||!c[ax.p.id].viewPagerButtons?d("#pData,#nData",ao+"_2").hide():d("#pData,#nData",ao+"_2").show();d(ax).triggerHandler("jqGridAddEditBeforeShowForm",[d("#"+au),ab]);ad&&ad.call(ax,d("#"+au));d("#"+d.jgrid.jqID(aj.themodal)).data("onClose",c[ax.p.id].onClose);d.jgrid.viewModal("#"+d.jgrid.jqID(aj.themodal),{gbox:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,overlay:b.overlay,modal:b.modal});S||d(".jqmOverlay").click(function(){if(!av()){return false}d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose});return false});d(ax).triggerHandler("jqGridAddEditAfterShowForm",[d("#"+au),ab]);aa&&aa.call(ax,d("#"+au));d(".fm-button","#"+d.jgrid.jqID(aj.themodal)).hover(function(){d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")});d("#sData",ao+"_2").click(function(){aq={};Z={};d("#FormError",ao).hide();aw();if(aq[ax.p.id+"_id"]=="_empty"){ai()}else{if(b.checkOnSubmit===true){V=d.extend({},aq,Z);if(O=ak(V,c[ax.p.id]._savedData)){d("#"+au).data("disabled",true);d(".confirm","#"+d.jgrid.jqID(aj.themodal)).show()}else{ai()}}else{ai()}}return false});d("#cData",ao+"_2").click(function(){if(!av()){return false}d.jgrid.hideModal("#"+d.jgrid.jqID(aj.themodal),{gb:"#gbox_"+d.jgrid.jqID(am),jqm:b.jqModal,onClose:c[ax.p.id].onClose});return false});d("#nData",ao+"_2").click(function(){if(!av()){return false}d("#FormError",ao).hide();var f=ae();f[0]=parseInt(f[0],10);if(f[0]!=-1&&f[1][f[0]+1]){d(ax).triggerHandler("jqGridAddEditClickPgButtons",["next",d("#"+au),f[1][f[0]]]);var g;if(d.isFunction(b.onclickPgButtons)){g=b.onclickPgButtons.call(ax,"next",d("#"+au),f[1][f[0]]);if(g!==void 0&&g===false){return false}}if(d("#"+d.jgrid.jqID(f[1][f[0]+1])).hasClass("ui-state-disabled")){return false}ah(f[1][f[0]+1],ax,au);d(ax).jqGrid("setSelection",f[1][f[0]+1]);d(ax).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",d("#"+au),f[1][f[0]]]);d.isFunction(b.afterclickPgButtons)&&b.afterclickPgButtons.call(ax,"next",d("#"+au),f[1][f[0]+1]);an(f[0]+1,f)}return false});d("#pData",ao+"_2").click(function(){if(!av()){return false}d("#FormError",ao).hide();var f=ae();if(f[0]!=-1&&f[1][f[0]-1]){d(ax).triggerHandler("jqGridAddEditClickPgButtons",["prev",d("#"+au),f[1][f[0]]]);var g;if(d.isFunction(b.onclickPgButtons)){g=b.onclickPgButtons.call(ax,"prev",d("#"+au),f[1][f[0]]);if(g!==void 0&&g===false){return false}}if(d("#"+d.jgrid.jqID(f[1][f[0]-1])).hasClass("ui-state-disabled")){return false}ah(f[1][f[0]-1],ax,au);d(ax).jqGrid("setSelection",f[1][f[0]-1]);d(ax).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",d("#"+au),f[1][f[0]]]);d.isFunction(b.afterclickPgButtons)&&b.afterclickPgButtons.call(ax,"prev",d("#"+au),f[1][f[0]-1]);an(f[0]-1,f)}return false})}ad=ae();an(ad[0],ad)}})},viewGridRow:function(a,b){b=d.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0},d.jgrid.view,b||{});c[d(this)[0].p.id]=b;return this.each(function(){function P(){(!0===c[G.p.id].closeOnEscape||!0===c[G.p.id].navkeys[0])&&setTimeout(function(){d(".ui-jqdialog-titlebar-close","#"+d.jgrid.jqID(I.modalhead)).focus()},0)}function M(ak,aj,ai,ah){var ag,ae,af,ad=0,X,ab,Z=[],aa=!1,ac,T="<td class='CaptionTD form-view-label ui-widget-content' width='"+b.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",W="",S=["integer","number","currency"],V=0,U=0,C,R,Y;for(ac=1;ac<=ah;ac++){W+=1==ac?T:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>"}d(aj.p.colModel).each(function(){ae=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1;!ae&&"right"===this.align&&(this.formatter&&-1!==d.inArray(this.formatter,S)?V=Math.max(V,parseInt(this.width,10)):U=Math.max(U,parseInt(this.width,10)))});C=0!==V?V:0!==U?U:0;aa=d(aj).jqGrid("getInd",ak);d(aj.p.colModel).each(function(f){ag=this.name;R=!1;ab=(ae=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"";Y="boolean"!==typeof this.viewable?!0:this.viewable;if("cb"!==ag&&"subgrid"!==ag&&"rn"!==ag&&Y){X=!1===aa?"":ag==aj.p.ExpandColumn&&!0===aj.p.treeGrid?d("td:eq("+f+")",aj.rows[aa]).text():d("td:eq("+f+")",aj.rows[aa]).html();R="right"===this.align&&0!==C?!0:!1;var i=d.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),g=parseInt(i.rowpos,10)||ad+1,e=parseInt(2*(parseInt(i.colpos,10)||1),10);if(i.rowabove){var h=d("<tr><td class='contentinfo' colspan='"+2*ah+"'>"+i.rowcontent+"</td></tr>");d(ai).append(h);h[0].rp=g}af=d(ai).find("tr[rowpos="+g+"]");0===af.length&&(af=d("<tr "+ab+" rowpos='"+g+"'></tr>").addClass("FormData").attr("id","trv_"+ag),d(af).append(W),d(ai).append(af),af[0].rp=g);d("td:eq("+(e-2)+")",af[0]).html("<b>"+(void 0===i.label?aj.p.colNames[f]:i.label)+"</b>");d("td:eq("+(e-1)+")",af[0]).append("<span>"+X+"</span>").attr("id","v_"+ag);R&&d("td:eq("+(e-1)+") span",af[0]).css({"text-align":"right",width:C+"px"});Z[ad]=f;ad++}});0<ad&&(ak=d("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*ah-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+ak+"'/></td></tr>"),ak[0].rp=ad+99,d(ai).append(ak));return Z}function z(h,q){var p,o,n=0,m,l;if(l=d(q).jqGrid("getInd",h,!0)){d("td",l).each(function(e){p=q.p.colModel[e].name;o=q.p.colModel[e].editrules&&!0===q.p.colModel[e].editrules.edithidden?!1:!0===q.p.colModel[e].hidden?!0:!1;"cb"!==p&&"subgrid"!==p&&"rn"!==p&&(m=p==q.p.ExpandColumn&&!0===q.p.treeGrid?d(this).text():d(this).html(),d.extend({},q.p.colModel[e].editoptions||{}),p=d.jgrid.jqID("v_"+p),d("#"+p+" span","#"+J).html(m),o&&d("#"+p,"#"+J).parents("tr:first").hide(),n++)}),0<n&&d("#id_g","#"+J).val(h)}}function y(e,g){var f=g[1].length-1;0===e?d("#pData","#"+J+"_2").addClass("ui-state-disabled"):void 0!==g[1][e-1]&&d("#"+d.jgrid.jqID(g[1][e-1])).hasClass("ui-state-disabled")?d("#pData",J+"_2").addClass("ui-state-disabled"):d("#pData","#"+J+"_2").removeClass("ui-state-disabled");e==f?d("#nData","#"+J+"_2").addClass("ui-state-disabled"):void 0!==g[1][e+1]&&d("#"+d.jgrid.jqID(g[1][e+1])).hasClass("ui-state-disabled")?d("#nData",J+"_2").addClass("ui-state-disabled"):d("#nData","#"+J+"_2").removeClass("ui-state-disabled")}function D(){var e=d(G).jqGrid("getDataIDs"),f=d("#id_g","#"+J).val();return[d.inArray(f,e),e]}var G=this;if(G.grid&&a){var O=G.p.id,L="ViewGrid_"+d.jgrid.jqID(O),J="ViewTbl_"+d.jgrid.jqID(O),k="ViewGrid_"+O,Q="ViewTbl_"+O,I={themodal:"viewmod"+O,modalhead:"viewhd"+O,modalcontent:"viewcnt"+O,scrollelm:L},N=d.isFunction(c[G.p.id].beforeInitData)?c[G.p.id].beforeInitData:!1,H=!0,K=1,E=0;if(void 0!==d("#"+d.jgrid.jqID(I.themodal))[0]){N&&(H=N.call(G,d("#"+L)),void 0===H&&(H=!0));if(!1===H){return}d(".ui-jqdialog-title","#"+d.jgrid.jqID(I.modalhead)).html(b.caption);d("#FormError","#"+J).hide();z(a,G);d.isFunction(c[G.p.id].beforeShowForm)&&c[G.p.id].beforeShowForm.call(G,d("#"+L));d.jgrid.viewModal("#"+d.jgrid.jqID(I.themodal),{gbox:"#gbox_"+d.jgrid.jqID(O),jqm:b.jqModal,jqM:!1,overlay:b.overlay,modal:b.modal});P()}else{var j=isNaN(b.dataheight)?b.dataheight:b.dataheight+"px",F=isNaN(b.datawidth)?b.datawidth:b.datawidth+"px",k=d("<form name='FormPost' id='"+k+"' class='FormGrid' style='width:"+F+";overflow:auto;position:relative;height:"+j+";'></form>"),u=d("<table id='"+Q+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");N&&(H=N.call(G,d("#"+L)),void 0===H&&(H=!0));if(!1===H){return}d(G.p.colModel).each(function(){var e=this.formoptions;K=Math.max(K,e?e.colpos||0:0);E=Math.max(E,e?e.rowpos||0:0)});d(k).append(u);M(a,G,u,K);Q="rtl"==G.p.direction?!0:!1;N="<a href='javascript:void(0)' id='"+(Q?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></a>";H="<a href='javascript:void(0)' id='"+(Q?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></a>";j="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+b.bClose+"</a>";if(0<E){var B=[];d.each(d(u)[0].rows,function(f,e){B[f]=e});B.sort(function(f,e){return f.rp>e.rp?1:f.rp<e.rp?-1:0});d.each(B,function(e,f){d("tbody",u).append(f)})}b.gbox="#gbox_"+d.jgrid.jqID(O);k=d("<div></div>").append(k).append("<table border='0' class='EditTable' id='"+J+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+b.labelswidth+"'>"+(Q?H+N:N+H)+"</td><td class='EditButton'>"+j+"</td></tr></tbody></table>");d.jgrid.createModal(I,k,b,"#gview_"+d.jgrid.jqID(G.p.id),d("#gview_"+d.jgrid.jqID(G.p.id))[0]);Q&&(d("#pData, #nData","#"+J+"_2").css("float","right"),d(".EditButton","#"+J+"_2").css("text-align","left"));b.viewPagerButtons||d("#pData, #nData","#"+J+"_2").hide();k=null;d("#"+I.themodal).keydown(function(e){if(e.which===27){c[G.p.id].closeOnEscape&&d.jgrid.hideModal("#"+d.jgrid.jqID(I.themodal),{gb:b.gbox,jqm:b.jqModal,onClose:b.onClose});return false}if(b.navkeys[0]===true){if(e.which===b.navkeys[1]){d("#pData","#"+J+"_2").trigger("click");return false}if(e.which===b.navkeys[2]){d("#nData","#"+J+"_2").trigger("click");return false}}});b.closeicon=d.extend([!0,"left","ui-icon-close"],b.closeicon);!0===b.closeicon[0]&&d("#cData","#"+J+"_2").addClass("right"==b.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+b.closeicon[2]+"'></span>");d.isFunction(b.beforeShowForm)&&b.beforeShowForm.call(G,d("#"+L));d.jgrid.viewModal("#"+d.jgrid.jqID(I.themodal),{gbox:"#gbox_"+d.jgrid.jqID(O),jqm:b.jqModal,overlay:b.overlay,modal:b.modal});d(".fm-button:not(.ui-state-disabled)","#"+J+"_2").hover(function(){d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")});P();d("#cData","#"+J+"_2").click(function(){d.jgrid.hideModal("#"+d.jgrid.jqID(I.themodal),{gb:"#gbox_"+d.jgrid.jqID(O),jqm:b.jqModal,onClose:b.onClose});return false});d("#nData","#"+J+"_2").click(function(){d("#FormError","#"+J).hide();var e=D();e[0]=parseInt(e[0],10);if(e[0]!=-1&&e[1][e[0]+1]){d.isFunction(b.onclickPgButtons)&&b.onclickPgButtons.call(G,"next",d("#"+L),e[1][e[0]]);z(e[1][e[0]+1],G);d(G).jqGrid("setSelection",e[1][e[0]+1]);d.isFunction(b.afterclickPgButtons)&&b.afterclickPgButtons.call(G,"next",d("#"+L),e[1][e[0]+1]);y(e[0]+1,e)}P();return false});d("#pData","#"+J+"_2").click(function(){d("#FormError","#"+J).hide();var e=D();if(e[0]!=-1&&e[1][e[0]-1]){d.isFunction(b.onclickPgButtons)&&b.onclickPgButtons.call(G,"prev",d("#"+L),e[1][e[0]]);z(e[1][e[0]-1],G);d(G).jqGrid("setSelection",e[1][e[0]-1]);d.isFunction(b.afterclickPgButtons)&&b.afterclickPgButtons.call(G,"prev",d("#"+L),e[1][e[0]-1]);y(e[0]-1,e)}P();return false})}k=D();y(k[0],k)}})},delGridRow:function(a,b){b=d.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},d.jgrid.del,b||{});c[d(this)[0].p.id]=b;return this.each(function(){var E=this;if(E.grid&&a){var B=d.isFunction(c[E.p.id].beforeShowForm),I=d.isFunction(c[E.p.id].afterShowForm),H=d.isFunction(c[E.p.id].beforeInitData)?c[E.p.id].beforeInitData:!1,j=E.p.id,u={},D=!0,A="DelTbl_"+d.jgrid.jqID(j),y,G,F,x,C="DelTbl_"+j,v={themodal:"delmod"+j,modalhead:"delhd"+j,modalcontent:"delcnt"+j,scrollelm:A};d.isArray(a)&&(a=a.join());if(void 0!==d("#"+d.jgrid.jqID(v.themodal))[0]){H&&(D=H.call(E,d("#"+A)),void 0===D&&(D=!0));if(!1===D){return}d("#DelData>td","#"+A).text(a);d("#DelError","#"+A).hide();!0===c[E.p.id].processing&&(c[E.p.id].processing=!1,d("#dData","#"+A).removeClass("ui-state-active"));B&&c[E.p.id].beforeShowForm.call(E,d("#"+A));d.jgrid.viewModal("#"+d.jgrid.jqID(v.themodal),{gbox:"#gbox_"+d.jgrid.jqID(j),jqm:c[E.p.id].jqModal,jqM:!1,overlay:c[E.p.id].overlay,modal:c[E.p.id].modal})}else{var z=isNaN(c[E.p.id].dataheight)?c[E.p.id].dataheight:c[E.p.id].dataheight+"px",k=isNaN(b.datawidth)?b.datawidth:b.datawidth+"px",C="<div id='"+C+"' class='formdata' style='width:"+k+";overflow:auto;position:relative;height:"+z+";'><table class='DelTable'><tbody><tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>"+("<tr id='DelData' style='display:none'><td >"+a+"</td></tr>"),C=C+('<tr><td class="delmsg" style="white-space:pre;">'+c[E.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>"),C=C+"</tbody></table></div>"+("<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+A+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+b.bSubmit+"</a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+b.bCancel+"</a>")+"</td></tr></tbody></table>");b.gbox="#gbox_"+d.jgrid.jqID(j);d.jgrid.createModal(v,C,b,"#gview_"+d.jgrid.jqID(E.p.id),d("#gview_"+d.jgrid.jqID(E.p.id))[0]);H&&(D=H.call(E,d("#"+A)),void 0===D&&(D=!0));if(!1===D){return}d(".fm-button","#"+A+"_2").hover(function(){d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")});b.delicon=d.extend([!0,"left","ui-icon-scissors"],c[E.p.id].delicon);b.cancelicon=d.extend([!0,"left","ui-icon-cancel"],c[E.p.id].cancelicon);!0===b.delicon[0]&&d("#dData","#"+A+"_2").addClass("right"==b.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+b.delicon[2]+"'></span>");!0===b.cancelicon[0]&&d("#eData","#"+A+"_2").addClass("right"==b.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+b.cancelicon[2]+"'></span>");d("#dData","#"+A+"_2").click(function(){var l=[true,""],i,e=d("#DelData>td","#"+A).text();u={};d.isFunction(c[E.p.id].onclickSubmit)&&(u=c[E.p.id].onclickSubmit.call(E,c[E.p.id],e)||{});d.isFunction(c[E.p.id].beforeSubmit)&&(l=c[E.p.id].beforeSubmit.call(E,e));if(l[0]&&!c[E.p.id].processing){c[E.p.id].processing=true;F=E.p.prmNames;y=d.extend({},c[E.p.id].delData,u);x=F.oper;y[x]=F.deloper;G=F.id;e=(""+e).split(",");if(!e.length){return false}for(i in e){e.hasOwnProperty(i)&&(e[i]=d.jgrid.stripPref(E.p.idPrefix,e[i]))}y[G]=e.join();d(this).addClass("ui-state-active");i=d.extend({url:c[E.p.id].url||d(E).jqGrid("getGridParam","editurl"),type:c[E.p.id].mtype,data:d.isFunction(c[E.p.id].serializeDelData)?c[E.p.id].serializeDelData.call(E,y):y,complete:function(n,h){var f;if(h!="success"){l[0]=false;l[1]=d.isFunction(c[E.p.id].errorTextFormat)?c[E.p.id].errorTextFormat.call(E,n):h+" Status: '"+n.statusText+"'. Error code: "+n.status}else{d.isFunction(c[E.p.id].afterSubmit)&&(l=c[E.p.id].afterSubmit.call(E,n,y))}if(l[0]===false){d("#DelError>td","#"+A).html(l[1]);d("#DelError","#"+A).show()}else{if(c[E.p.id].reloadAfterSubmit&&E.p.datatype!="local"){d(E).trigger("reloadGrid")}else{if(E.p.treeGrid===true){try{d(E).jqGrid("delTreeNode",E.p.idPrefix+e[0])}catch(m){}}else{for(f=0;f<e.length;f++){d(E).jqGrid("delRowData",E.p.idPrefix+e[f])}}E.p.selrow=null;E.p.selarrrow=[]}d.isFunction(c[E.p.id].afterComplete)&&setTimeout(function(){c[E.p.id].afterComplete.call(E,n,e)},500)}c[E.p.id].processing=false;d("#dData","#"+A+"_2").removeClass("ui-state-active");l[0]&&d.jgrid.hideModal("#"+d.jgrid.jqID(v.themodal),{gb:"#gbox_"+d.jgrid.jqID(j),jqm:b.jqModal,onClose:c[E.p.id].onClose})}},d.jgrid.ajaxOptions,c[E.p.id].ajaxDelOptions);if(!i.url&&!c[E.p.id].useDataProxy){if(d.isFunction(E.p.dataProxy)){c[E.p.id].useDataProxy=true}else{l[0]=false;l[1]=l[1]+(" "+d.jgrid.errors.nourl)}}if(l[0]){if(c[E.p.id].useDataProxy){i=E.p.dataProxy.call(E,i,"del_"+E.p.id);i===void 0&&(i=[true,""]);if(i[0]===false){l[0]=false;l[1]=i[1]||"Error deleting the selected row!"}else{d.jgrid.hideModal("#"+d.jgrid.jqID(v.themodal),{gb:"#gbox_"+d.jgrid.jqID(j),jqm:b.jqModal,onClose:c[E.p.id].onClose})}}else{d.ajax(i)}}}if(l[0]===false){d("#DelError>td","#"+A).html(l[1]);d("#DelError","#"+A).show()}return false});d("#eData","#"+A+"_2").click(function(){d.jgrid.hideModal("#"+d.jgrid.jqID(v.themodal),{gb:"#gbox_"+d.jgrid.jqID(j),jqm:c[E.p.id].jqModal,onClose:c[E.p.id].onClose});return false});B&&c[E.p.id].beforeShowForm.call(E,d("#"+A));d.jgrid.viewModal("#"+d.jgrid.jqID(v.themodal),{gbox:"#gbox_"+d.jgrid.jqID(j),jqm:c[E.p.id].jqModal,overlay:c[E.p.id].overlay,modal:c[E.p.id].modal})}I&&c[E.p.id].afterShowForm.call(E,d("#"+A));!0===c[E.p.id].closeOnEscape&&setTimeout(function(){d(".ui-jqdialog-titlebar-close","#"+d.jgrid.jqID(v.modalhead)).focus()},0)}})},navGrid:function(a,l,k,i,g,f,j){l=d.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},d.jgrid.nav,l||{});return this.each(function(){if(!this.nav){var b={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},u=this,s;if(u.grid&&"string"===typeof a){void 0===d("#"+b.themodal)[0]&&(!l.alerttop&&!l.alertleft&&(void 0!==window.innerWidth?(l.alertleft=window.innerWidth,l.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(l.alertleft=document.documentElement.clientWidth,l.alerttop=document.documentElement.clientHeight):(l.alertleft=1024,l.alerttop=768),l.alertleft=l.alertleft/2-parseInt(l.alertwidth,10)/2,l.alerttop=l.alerttop/2-25),d.jgrid.createModal(b,"<div>"+l.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+d.jgrid.jqID(u.p.id),jqModal:!0,drag:!0,resize:!0,caption:l.alertcap,top:l.alerttop,left:l.alertleft,width:l.alertwidth,height:l.alertheight,closeOnEscape:l.closeOnEscape,zIndex:l.alertzIndex},"#gview_"+d.jgrid.jqID(u.p.id),d("#gbox_"+d.jgrid.jqID(u.p.id))[0],!0));var q=1,x,v=function(){d(this).hasClass("ui-state-disabled")||d(this).addClass("ui-state-hover")},h=function(){d(this).removeClass("ui-state-hover")};l.cloneToTop&&u.p.toppager&&(q=2);for(x=0;x<q;x++){var t=d("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),e,r;0===x?(e=a,r=u.p.id,e==u.p.toppager&&(r+="_top",q=1)):(e=u.p.toppager,r=u.p.id+"_top");"rtl"==u.p.direction&&d(t).attr("dir","rtl").css("float","right");l.add&&(i=i||{},s=d("<td class='ui-pg-button ui-corner-all'></td>"),d(s).append("<div class='ui-pg-div'><span class='ui-icon "+l.addicon+"'></span>"+l.addtext+"</div>"),d("tr",t).append(s),d(s,t).attr({title:l.addtitle||"",id:i.id||"add_"+r}).click(function(){d(this).hasClass("ui-state-disabled")||(d.isFunction(l.addfunc)?l.addfunc.call(u):d(u).jqGrid("editGridRow","new",i));return false}).hover(v,h),s=null);l.edit&&(s=d("<td class='ui-pg-button ui-corner-all'></td>"),k=k||{},d(s).append("<div class='ui-pg-div'><span class='ui-icon "+l.editicon+"'></span>"+l.edittext+"</div>"),d("tr",t).append(s),d(s,t).attr({title:l.edittitle||"",id:k.id||"edit_"+r}).click(function(){if(!d(this).hasClass("ui-state-disabled")){var m=u.p.selrow;if(m){d.isFunction(l.editfunc)?l.editfunc.call(u,m):d(u).jqGrid("editGridRow",m,k)}else{d.jgrid.viewModal("#"+b.themodal,{gbox:"#gbox_"+d.jgrid.jqID(u.p.id),jqm:true});d("#jqg_alrt").focus()}}return false}).hover(v,h),s=null);l.view&&(s=d("<td class='ui-pg-button ui-corner-all'></td>"),j=j||{},d(s).append("<div class='ui-pg-div'><span class='ui-icon "+l.viewicon+"'></span>"+l.viewtext+"</div>"),d("tr",t).append(s),d(s,t).attr({title:l.viewtitle||"",id:j.id||"view_"+r}).click(function(){if(!d(this).hasClass("ui-state-disabled")){var m=u.p.selrow;if(m){d.isFunction(l.viewfunc)?l.viewfunc.call(u,m):d(u).jqGrid("viewGridRow",m,j)}else{d.jgrid.viewModal("#"+b.themodal,{gbox:"#gbox_"+d.jgrid.jqID(u.p.id),jqm:true});d("#jqg_alrt").focus()}}return false}).hover(v,h),s=null);l.del&&(s=d("<td class='ui-pg-button ui-corner-all'></td>"),g=g||{},d(s).append("<div class='ui-pg-div'><span class='ui-icon "+l.delicon+"'></span>"+l.deltext+"</div>"),d("tr",t).append(s),d(s,t).attr({title:l.deltitle||"",id:g.id||"del_"+r}).click(function(){if(!d(this).hasClass("ui-state-disabled")){var m;if(u.p.multiselect){m=u.p.selarrrow;m.length===0&&(m=null)}else{m=u.p.selrow}if(m){d.isFunction(l.delfunc)?l.delfunc.call(u,m):d(u).jqGrid("delGridRow",m,g)}else{d.jgrid.viewModal("#"+b.themodal,{gbox:"#gbox_"+d.jgrid.jqID(u.p.id),jqm:true});d("#jqg_alrt").focus()}}return false}).hover(v,h),s=null);(l.add||l.edit||l.del||l.view)&&d("tr",t).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>");l.search&&(s=d("<td class='ui-pg-button ui-corner-all'></td>"),f=f||{},d(s).append("<div class='ui-pg-div'><span class='ui-icon "+l.searchicon+"'></span>"+l.searchtext+"</div>"),d("tr",t).append(s),d(s,t).attr({title:l.searchtitle||"",id:f.id||"search_"+r}).click(function(){d(this).hasClass("ui-state-disabled")||(d.isFunction(l.searchfunc)?l.searchfunc.call(u,f):d(u).jqGrid("searchGrid",f));return false}).hover(v,h),f.showOnLoad&&!0===f.showOnLoad&&d(s,t).click(),s=null);l.refresh&&(s=d("<td class='ui-pg-button ui-corner-all'></td>"),d(s).append("<div class='ui-pg-div'><span class='ui-icon "+l.refreshicon+"'></span>"+l.refreshtext+"</div>"),d("tr",t).append(s),d(s,t).attr({title:l.refreshtitle||"",id:"refresh_"+r}).click(function(){if(!d(this).hasClass("ui-state-disabled")){d.isFunction(l.beforeRefresh)&&l.beforeRefresh.call(u);u.p.search=false;try{var m=u.p.id;u.p.postData.filters="";d("#fbox_"+d.jgrid.jqID(m)).jqFilter("resetFilter");d.isFunction(u.clearToolbar)&&u.clearToolbar.call(u,false)}catch(n){}switch(l.refreshstate){case"firstpage":d(u).trigger("reloadGrid",[{page:1}]);break;case"current":d(u).trigger("reloadGrid",[{current:true}])}d.isFunction(l.afterRefresh)&&l.afterRefresh.call(u)}return false}).hover(v,h),s=null);s=d(".ui-jqgrid").css("font-size")||"11px";d("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+s+";visibility:hidden;' ></div>");s=d(t).clone().appendTo("#testpg2").width();d("#testpg2").remove();d(e+"_"+l.position,e).append(t);u.p._nvtd&&(s>u.p._nvtd[0]&&(d(e+"_"+l.position,e).width(s),u.p._nvtd[0]=s),u.p._nvtd[1]=s);t=s=s=null;this.nav=!0}}}})},navButtonAdd:function(a,e){e=d.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},e||{});return this.each(function(){if(this.grid){"string"===typeof a&&0!==a.indexOf("#")&&(a="#"+d.jgrid.jqID(a));var g=d(".navtable",a)[0],f=this;if(g&&!(e.id&&void 0!==d("#"+d.jgrid.jqID(e.id),g)[0])){var b=d("<td></td>");"NONE"==e.buttonicon.toString().toUpperCase()?d(b).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+e.caption+"</div>"):d(b).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+e.buttonicon+"'></span>"+e.caption+"</div>");e.id&&d(b).attr("id",e.id);"first"==e.position?0===g.rows[0].cells.length?d("tr",g).append(b):d("tr td:eq(0)",g).before(b):d("tr",g).append(b);d(b,g).attr("title",e.title||"").click(function(h){d(this).hasClass("ui-state-disabled")||d.isFunction(e.onClickButton)&&e.onClickButton.call(f,h);return !1}).hover(function(){d(this).hasClass("ui-state-disabled")||d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(a,e){e=d.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},e||{});return this.each(function(){if(this.grid){"string"===typeof a&&0!==a.indexOf("#")&&(a="#"+d.jgrid.jqID(a));var f=d(".navtable",a)[0];if(f){var b="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+e.sepclass+"'></span>"+e.sepcontent+"</td>";"first"===e.position?0===f.rows[0].cells.length?d("tr",f).append(b):d("tr td:eq(0)",f).before(b):d("tr",f).append(b)}}})},GridToForm:function(a,e){return this.each(function(){var g=this,f;if(g.grid){var b=d(g).jqGrid("getRowData",a);if(b){for(f in b){b.hasOwnProperty(f)&&(d("[name="+d.jgrid.jqID(f)+"]",e).is("input:radio")||d("[name="+d.jgrid.jqID(f)+"]",e).is("input:checkbox")?d("[name="+d.jgrid.jqID(f)+"]",e).each(function(){if(d(this).val()==b[f]){d(this)[g.p.useProp?"prop":"attr"]("checked",!0)}else{d(this)[g.p.useProp?"prop":"attr"]("checked",!1)}}):d("[name="+d.jgrid.jqID(f)+"]",e).val(b[f]))}}}})},FormToGrid:function(a,i,g,f){return this.each(function(){if(this.grid){g||(g="set");f||(f="first");var e=d(i).serializeArray(),b={};d.each(e,function(j,h){b[h.name]=h.value});"add"==g?d(this).jqGrid("addRowData",a,b,f):"set"==g&&d(this).jqGrid("setRowData",a,b)}})}})})(jQuery);(function(b){b.fn.jqFilter=function(e){if("string"===typeof e){var f=b.fn.jqFilter[e];if(!f){throw"jqFilter - No such method: "+e}var a=b.makeArray(arguments).slice(1);return f.apply(this,a)}var c=b.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:"LIKE"},{name:"bn",description:"does not begin with",operator:"NOT LIKE"},{name:"in",description:"in",operator:"IN"},{name:"ni",description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:"LIKE"},{name:"en",description:"does not end with",operator:"NOT LIKE"},{name:"cn",description:"contains",operator:"LIKE"},{name:"nc",description:"does not contain",operator:"NOT LIKE"},{name:"nu",description:"is null",operator:"IS NULL"},{name:"nn",description:"is not null",operator:"IS NOT NULL"}],numopts:"eq,ne,lt,le,gt,ge,nu,nn,in,ni".split(","),stropts:"eq,ne,bw,bn,ew,en,cn,nc,nu,nn,in,ni".split(","),strarr:["text","string","blob"],_gridsopt:[],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},b.jgrid.filter,e||{});return this.each(function(){if(!this.filter){this.p=c;if(null===this.p.filter||void 0===this.p.filter){this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}}var j,k=this.p.columns.length,i,g=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p._gridsopt.length){for(j=0;j<this.p._gridsopt.length;j++){this.p.ops[j].description=this.p._gridsopt[j]}}this.p.initFilter=b.extend(!0,{},this.p.filter);if(k){for(j=0;j<k;j++){if(i=this.p.columns[j],i.stype?i.inputtype=i.stype:i.inputtype||(i.inputtype="text"),i.sorttype?i.searchtype=i.sorttype:i.searchtype||(i.searchtype="string"),void 0===i.hidden&&(i.hidden=!1),i.label||(i.label=i.name),i.index&&(i.name=i.index),i.hasOwnProperty("searchoptions")||(i.searchoptions={}),!i.hasOwnProperty("searchrules")){i.searchrules={}}}this.p.showQuery&&b(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var h=function(m,l){var d=[!0,""];if(b.isFunction(l.searchrules)){d=l.searchrules(m,l)}else{if(b.jgrid&&b.jgrid.checkValues){try{d=b.jgrid.checkValues(m,-1,null,l.searchrules,l.label)}catch(n){}}}d&&d.length&&!1===d[0]&&(c.error=!d[0],c.errmsg=d[1])};this.onchange=function(){this.p.error=!1;this.p.errmsg="";return b.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1};this.reDraw=function(){b("table.group:first",this).remove();var d=this.createTableForGroup(c.filter,null);b(this).append(d);b.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)};this.createTableForGroup=function(q,n){var v=this,u,s=b("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody></tbody></table>"),t="left";"rtl"==this.p.direction&&(t="right",s.attr("dir","rtl"));null===n&&s.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+t+"'></th></tr>");var p=b("<tr></tr>");s.append(p);t=b("<th colspan='5' align='"+t+"'></th>");p.append(t);if(!0===this.p.ruleButtons){var o=b("<select class='opsel'></select>");t.append(o);var p="",r;for(u=0;u<c.groupOps.length;u++){r=q.groupOp===v.p.groupOps[u].op?" selected='selected'":"",p+="<option value='"+v.p.groupOps[u].op+"'"+r+">"+v.p.groupOps[u].text+"</option>"}o.append(p).bind("change",function(){q.groupOp=b(o).val();v.onchange()})}p="<span></span>";this.p.groupButton&&(p=b("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),p.bind("click",function(){if(q.groups===void 0){q.groups=[]}q.groups.push({groupOp:c.groupOps[0].op,rules:[],groups:[]});v.reDraw();v.onchange();return false}));t.append(p);if(!0===this.p.ruleButtons){var p=b("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>"),m;p.bind("click",function(){if(q.rules===void 0){q.rules=[]}for(u=0;u<v.p.columns.length;u++){var l=v.p.columns[u].search===void 0?true:v.p.columns[u].search,w=v.p.columns[u].hidden===true;if(v.p.columns[u].searchoptions.searchhidden===true&&l||l&&!w){m=v.p.columns[u];break}}l=m.searchoptions.sopt?m.searchoptions.sopt:v.p.sopt?v.p.sopt:b.inArray(m.searchtype,v.p.strarr)!==-1?v.p.stropts:v.p.numopts;q.rules.push({field:m.name,op:l[0],data:""});v.reDraw();return false});t.append(p)}null!==n&&(p=b("<input type='button' value='-' title='Delete group' class='delete-group'/>"),t.append(p),p.bind("click",function(){for(u=0;u<n.groups.length;u++){if(n.groups[u]===q){n.groups.splice(u,1);break}}v.reDraw();v.onchange();return false}));if(void 0!==q.groups){for(u=0;u<q.groups.length;u++){t=b("<tr></tr>"),s.append(t),p=b("<td class='first'></td>"),t.append(p),p=b("<td colspan='4'></td>"),p.append(this.createTableForGroup(q.groups[u],q)),t.append(p)}}void 0===q.groupOp&&(q.groupOp=v.p.groupOps[0].op);if(void 0!==q.rules){for(u=0;u<q.rules.length;u++){s.append(this.createTableRowForRule(q.rules[u],q))}}return s};this.createTableRowForRule=function(B,E){var G=this,F=b("<tr></tr>"),D,C,A,z,y="",x;F.append("<td class='first'></td>");var w=b("<td class='columns'></td>");F.append(w);var v=b("<select></select>"),u,t=[];w.append(v);v.bind("change",function(){B.field=b(v).val();A=b(this).parents("tr:first");for(D=0;D<G.p.columns.length;D++){if(G.p.columns[D].name===B.field){z=G.p.columns[D];break}}if(z){z.searchoptions.id=b.jgrid.randId();g&&"text"===z.inputtype&&!z.searchoptions.size&&(z.searchoptions.size=10);var n=b.jgrid.createEl(z.inputtype,z.searchoptions,"",!0,G.p.ajaxSelectOptions,!0);b(n).addClass("input-elm");C=z.searchoptions.sopt?z.searchoptions.sopt:G.p.sopt?G.p.sopt:-1!==b.inArray(z.searchtype,G.p.strarr)?G.p.stropts:G.p.numopts;var m="",l=0;t=[];b.each(G.p.ops,function(){t.push(this.name)});for(D=0;D<C.length;D++){u=b.inArray(C[D],t),-1!==u&&(0===l&&(B.op=G.p.ops[u].name),m+="<option value='"+G.p.ops[u].name+"'>"+G.p.ops[u].description+"</option>",l++)}b(".selectopts",A).empty().append(m);b(".selectopts",A)[0].selectedIndex=0;b.jgrid.msie&&9>b.jgrid.msiever()&&(m=parseInt(b("select.selectopts",A)[0].offsetWidth,10)+1,b(".selectopts",A).width(m),b(".selectopts",A).css("width","auto"));b(".data",A).empty().append(n);b.jgrid.bindEv(n,z.searchoptions,G);b(".input-elm",A).bind("change",function(o){var d=b(this).hasClass("ui-autocomplete-input")?200:0;setTimeout(function(){var q=o.target;B.data=q.nodeName.toUpperCase()==="SPAN"&&z.searchoptions&&b.isFunction(z.searchoptions.custom_value)?z.searchoptions.custom_value(b(q).children(".customelement:first"),"get"):q.value;G.onchange()},d)});setTimeout(function(){B.data=b(n).val();G.onchange()},0)}});for(D=w=0;D<G.p.columns.length;D++){x=void 0===G.p.columns[D].search?!0:G.p.columns[D].search;var p=!0===G.p.columns[D].hidden;if(!0===G.p.columns[D].searchoptions.searchhidden&&x||x&&!p){x="",B.field===G.p.columns[D].name&&(x=" selected='selected'",w=D),y+="<option value='"+G.p.columns[D].name+"'"+x+">"+G.p.columns[D].label+"</option>"}}v.append(y);y=b("<td class='operators'></td>");F.append(y);z=c.columns[w];z.searchoptions.id=b.jgrid.randId();g&&"text"===z.inputtype&&!z.searchoptions.size&&(z.searchoptions.size=10);w=b.jgrid.createEl(z.inputtype,z.searchoptions,B.data,!0,G.p.ajaxSelectOptions,!0);if("nu"==B.op||"nn"==B.op){b(w).attr("readonly","true"),b(w).attr("disabled","true")}var H=b("<select class='selectopts'></select>");y.append(H);H.bind("change",function(){B.op=b(H).val();A=b(this).parents("tr:first");var d=b(".input-elm",A)[0];if(B.op==="nu"||B.op==="nn"){B.data="";d.value="";d.setAttribute("readonly","true");d.setAttribute("disabled","true")}else{d.removeAttribute("readonly");d.removeAttribute("disabled")}G.onchange()});C=z.searchoptions.sopt?z.searchoptions.sopt:G.p.sopt?G.p.sopt:-1!==b.inArray(z.searchtype,G.p.strarr)?G.p.stropts:G.p.numopts;y="";b.each(G.p.ops,function(){t.push(this.name)});for(D=0;D<C.length;D++){u=b.inArray(C[D],t),-1!==u&&(x=B.op===G.p.ops[u].name?" selected='selected'":"",y+="<option value='"+G.p.ops[u].name+"'"+x+">"+G.p.ops[u].description+"</option>")}H.append(y);y=b("<td class='data'></td>");F.append(y);y.append(w);b.jgrid.bindEv(w,z.searchoptions,G);b(w).addClass("input-elm").bind("change",function(){B.data=z.inputtype==="custom"?z.searchoptions.custom_value(b(this).children(".customelement:first"),"get"):b(this).val();G.onchange()});y=b("<td></td>");F.append(y);!0===this.p.ruleButtons&&(w=b("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>"),y.append(w),w.bind("click",function(){for(D=0;D<E.rules.length;D++){if(E.rules[D]===B){E.rules.splice(D,1);break}}G.reDraw();G.onchange();return false}));return F};this.getStringForGroup=function(m){var o="(",l;if(void 0!==m.groups){for(l=0;l<m.groups.length;l++){1<o.length&&(o+=" "+m.groupOp+" ");try{o+=this.getStringForGroup(m.groups[l])}catch(p){alert(p)}}}if(void 0!==m.rules){try{for(l=0;l<m.rules.length;l++){1<o.length&&(o+=" "+m.groupOp+" "),o+=this.getStringForRule(m.rules[l])}}catch(n){alert(n)}}o+=")";return"()"===o?"":o};this.getStringForRule=function(o){var m="",l="",p,n;for(p=0;p<this.p.ops.length;p++){if(this.p.ops[p].name===o.op){m=this.p.ops[p].operator;l=this.p.ops[p].name;break}}for(p=0;p<this.p.columns.length;p++){if(this.p.columns[p].name===o.field){n=this.p.columns[p];break}}if(null==n){return""}p=o.data;if("bw"===l||"bn"===l){p+="%"}if("ew"===l||"en"===l){p="%"+p}if("cn"===l||"nc"===l){p="%"+p+"%"}if("in"===l||"ni"===l){p=" ("+p+")"}c.errorcheck&&h(o.data,n);return -1!==b.inArray(n.searchtype,["int","integer","float","number","currency"])||"nn"===l||"nu"===l?o.field+" "+m+" "+p:o.field+" "+m+' "'+p+'"'};this.resetFilter=function(){this.p.filter=b.extend(!0,{},this.p.initFilter);this.reDraw();this.onchange()};this.hideError=function(){b("th.ui-state-error",this).html("");b("tr.error",this).hide()};this.showError=function(){b("th.ui-state-error",this).html(this.p.errmsg);b("tr.error",this).show()};this.toUserFriendlyString=function(){return this.getStringForGroup(c.filter)};this.toString=function(){function l(d){var r="(",q;if(void 0!==d.groups){for(q=0;q<d.groups.length;q++){1<r.length&&(r="OR"===d.groupOp?r+" || ":r+" && "),r+=l(d.groups[q])}}if(void 0!==d.rules){for(q=0;q<d.rules.length;q++){1<r.length&&(r="OR"===d.groupOp?r+" || ":r+" && ");var p=d.rules[q];if(m.p.errorcheck){for(var o=void 0,n=void 0,o=0;o<m.p.columns.length;o++){if(m.p.columns[o].name===p.field){n=m.p.columns[o];break}}n&&h(p.data,n)}r+=p.op+"(item."+p.field+",'"+p.data+"')"}}r+=")";return"()"===r?"":r}var m=this;return l(this.p.filter)};this.reDraw();if(this.p.showQuery){this.onchange()}this.filter=!0}}})};b.extend(b.fn.jqFilter,{toSQLString:function(){var c="";this.each(function(){c=this.toUserFriendlyString()});return c},filterData:function(){var c;this.each(function(){c=this.p.filter});return c},getParameter:function(c){return void 0!==c&&this.p.hasOwnProperty(c)?this.p[c]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(a){"string"===typeof a&&(a=b.jgrid.parse(a));this.each(function(){this.p.filter=a;this.reDraw();this.onchange()})}})})(jQuery);(function(b){b.jgrid.inlineEdit=b.jgrid.inlineEdit||{};b.jgrid.extend({editRow:function(v,u,s,a,k,q,h,p,r){var m={},t=b.makeArray(arguments).slice(1);if("object"===b.type(t[0])){m=t[0]}else{if(void 0!==u&&(m.keys=u),b.isFunction(s)&&(m.oneditfunc=s),b.isFunction(a)&&(m.successfunc=a),void 0!==k&&(m.url=k),void 0!==q&&(m.extraparam=q),b.isFunction(h)&&(m.aftersavefunc=h),b.isFunction(p)&&(m.errorfunc=p),b.isFunction(r)){m.afterrestorefunc=r}}m=b.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},b.jgrid.inlineEdit,m);return this.each(function(){var z=this,A,x,y=0,o=null,j={},w,n;if(z.grid&&(w=b(z).jqGrid("getInd",v,!0),!1!==w&&"0"==(b(w).attr("editable")||"0")&&!b(w).hasClass("not-editable-row"))){n=z.p.colModel,b('td[role="gridcell"]',w).each(function(f){A=n[f].name;var e=!0===z.p.treeGrid&&A==z.p.ExpandColumn;if(e){x=b("span:first",this).html()}else{try{x=b.unformat.call(z,this,{rowId:v,colModel:n[f]},f)}catch(i){x=n[f].edittype&&"textarea"==n[f].edittype?b(this).text():b(this).html()}}if("cb"!=A&&"subgrid"!=A&&"rn"!=A&&(z.p.autoencode&&(x=b.jgrid.htmlDecode(x)),j[A]=x,!0===n[f].editable)){null===o&&(o=f);e?b("span:first",this).html(""):b(this).html("");var c=b.extend({},n[f].editoptions||{},{id:v+"_"+A,name:A});n[f].edittype||(n[f].edittype="text");if("&nbsp;"==x||"&#160;"==x||1==x.length&&160==x.charCodeAt(0)){x=""}var d=b.jgrid.createEl.call(z,n[f].edittype,c,x,!0,b.extend({},b.jgrid.ajaxOptions,z.p.ajaxSelectOptions||{}));b(d).addClass("editable");e?b("span:first",this).append(d):b(this).append(d);b.jgrid.bindEv(d,c,z);"select"==n[f].edittype&&void 0!==n[f].editoptions&&!0===n[f].editoptions.multiple&&void 0===n[f].editoptions.dataUrl&&b.jgrid.msie&&b(d).width(b(d).width());y++}}),0<y&&(j.id=v,z.p.savedRow.push(j),b(w).attr("editable","1"),b("td:eq("+o+") input",w).focus(),!0===m.keys&&b(w).bind("keydown",function(e){if(27===e.keyCode){b(z).jqGrid("restoreRow",v,m.afterrestorefunc);if(z.p._inlinenav){try{b(z).jqGrid("showAddEditButtons")}catch(i){}}return !1}if(13===e.keyCode){if("TEXTAREA"==e.target.tagName){return !0}if(b(z).jqGrid("saveRow",v,m)&&z.p._inlinenav){try{b(z).jqGrid("showAddEditButtons")}catch(d){}}return !1}}),b(z).triggerHandler("jqGridInlineEditRow",[v,m]),b.isFunction(m.oneditfunc)&&m.oneditfunc.call(z,v))}})},saveRow:function(R,Q,O,E,H,M,F){var K=b.makeArray(arguments).slice(1),N={};if("object"===b.type(K[0])){N=K[0]}else{if(b.isFunction(Q)&&(N.successfunc=Q),void 0!==O&&(N.url=O),void 0!==E&&(N.extraparam=E),b.isFunction(H)&&(N.aftersavefunc=H),b.isFunction(M)&&(N.errorfunc=M),b.isFunction(F)){N.afterrestorefunc=F}}var N=b.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},b.jgrid.inlineEdit,N),J=!1,P=this[0],G,L={},v={},B={},z,A,C;if(!P.grid){return J}C=b(P).jqGrid("getInd",R,!0);if(!1===C){return J}K=b(C).attr("editable");N.url=N.url||P.p.editurl;if("1"===K){var I;b('td[role="gridcell"]',C).each(function(d){I=P.p.colModel[d];G=I.name;if("cb"!=G&&"subgrid"!=G&&!0===I.editable&&"rn"!=G&&!b(this).hasClass("not-editable-cell")){switch(I.edittype){case"checkbox":var i=["Yes","No"];I.editoptions&&(i=I.editoptions.value.split(":"));L[G]=b("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":L[G]=b("input, textarea",this).val();break;case"select":if(I.editoptions.multiple){var i=b("select",this),f=[];L[G]=b(i).val();L[G]=L[G]?L[G].join(","):"";b("select option:selected",this).each(function(e,c){f[e]=b(c).text()});v[G]=f.join(",")}else{L[G]=b("select option:selected",this).val(),v[G]=b("select option:selected",this).text()}I.formatter&&"select"==I.formatter&&(v={});break;case"custom":try{if(I.editoptions&&b.isFunction(I.editoptions.custom_value)){if(L[G]=I.editoptions.custom_value.call(P,b(".customelement",this),"get"),void 0===L[G]){throw"e2"}}else{throw"e1"}}catch(h){"e1"==h&&b.jgrid.info_dialog(b.jgrid.errors.errcap,"function 'custom_value' "+b.jgrid.edit.msg.nodefined,b.jgrid.edit.bClose),"e2"==h?b.jgrid.info_dialog(b.jgrid.errors.errcap,"function 'custom_value' "+b.jgrid.edit.msg.novalue,b.jgrid.edit.bClose):b.jgrid.info_dialog(b.jgrid.errors.errcap,h.message,b.jgrid.edit.bClose)}}A=b.jgrid.checkValues(L[G],d,P);if(!1===A[0]){return A[1]=L[G]+" "+A[1],!1}P.p.autoencode&&(L[G]=b.jgrid.htmlEncode(L[G]));"clientArray"!==N.url&&I.editoptions&&!0===I.editoptions.NullIfEmpty&&""===L[G]&&(B[G]="null")}});if(!1===A[0]){try{var x=b.jgrid.findPos(b("#"+b.jgrid.jqID(R),P.grid.bDiv)[0]);b.jgrid.info_dialog(b.jgrid.errors.errcap,A[1],b.jgrid.edit.bClose,{left:x[0],top:x[1]})}catch(a){alert(A[1])}return J}var D=P.p.prmNames,x=R,K=!1===P.p.keyIndex?D.id:P.p.colModel[P.p.keyIndex+(!0===P.p.rownumbers?1:0)+(!0===P.p.multiselect?1:0)+(!0===P.p.subGrid?1:0)].name;if(L){L[D.oper]=D.editoper;if(void 0===L[K]){L[K]=R}else{if(C.id!==P.p.idPrefix+L[K]&&(D=b.jgrid.stripPref(P.p.idPrefix,R),void 0!==P.p._index[D]&&(P.p._index[L[K]]=P.p._index[D],delete P.p._index[D]),R=P.p.idPrefix+L[K],b(C).attr("id",R),P.p.selrow===x&&(P.p.selrow=R),b.isArray(P.p.selarrrow)&&(D=b.inArray(x,P.p.selarrrow),0<=D&&(P.p.selarrrow[D]=R)),P.p.multiselect)){D="jqg_"+P.p.id+"_"+R,b("input.cbox",C).attr("id",D).attr("name",D)}}void 0===P.p.inlineData&&(P.p.inlineData={});L=b.extend({},L,P.p.inlineData,N.extraparam)}if("clientArray"==N.url){L=b.extend({},L,v);P.p.autoencode&&b.each(L,function(e,c){L[e]=b.jgrid.htmlDecode(c)});D=b(P).jqGrid("setRowData",R,L);b(C).attr("editable","0");for(K=0;K<P.p.savedRow.length;K++){if(P.p.savedRow[K].id==x){z=K;break}}0<=z&&P.p.savedRow.splice(z,1);b(P).triggerHandler("jqGridInlineAfterSaveRow",[R,D,L,N]);b.isFunction(N.aftersavefunc)&&N.aftersavefunc.call(P,R,D,N);J=!0;b(C).unbind("keydown")}else{b("#lui_"+b.jgrid.jqID(P.p.id)).show(),B=b.extend({},L,B),B[K]=b.jgrid.stripPref(P.p.idPrefix,B[K]),b.ajax(b.extend({url:N.url,data:b.isFunction(P.p.serializeRowData)?P.p.serializeRowData.call(P,B):B,type:N.mtype,async:!1,complete:function(j,f){b("#lui_"+b.jgrid.jqID(P.p.id)).hide();if("success"===f){var h=!0,d;d=b(P).triggerHandler("jqGridInlineSuccessSaveRow",[j,R,N]);b.isArray(d)||(d=[!0,L]);d[0]&&b.isFunction(N.successfunc)&&(d=N.successfunc.call(P,j));b.isArray(d)?(h=d[0],L=d[1]||L):h=d;if(!0===h){P.p.autoencode&&b.each(L,function(e,c){L[e]=b.jgrid.htmlDecode(c)});L=b.extend({},L,v);b(P).jqGrid("setRowData",R,L);b(C).attr("editable","0");for(h=0;h<P.p.savedRow.length;h++){if(P.p.savedRow[h].id==R){z=h;break}}0<=z&&P.p.savedRow.splice(z,1);b(P).triggerHandler("jqGridInlineAfterSaveRow",[R,j,L,N]);b.isFunction(N.aftersavefunc)&&N.aftersavefunc.call(P,R,j);J=!0;b(C).unbind("keydown")}else{b(P).triggerHandler("jqGridInlineErrorSaveRow",[R,j,f,null,N]),b.isFunction(N.errorfunc)&&N.errorfunc.call(P,R,j,f,null),!0===N.restoreAfterError&&b(P).jqGrid("restoreRow",R,N.afterrestorefunc)}}},error:function(j,h,f){b("#lui_"+b.jgrid.jqID(P.p.id)).hide();b(P).triggerHandler("jqGridInlineErrorSaveRow",[R,j,h,f,N]);if(b.isFunction(N.errorfunc)){N.errorfunc.call(P,R,j,h,f)}else{j=j.responseText||j.statusText;try{b.jgrid.info_dialog(b.jgrid.errors.errcap,'<div class="ui-state-error">'+j+"</div>",b.jgrid.edit.bClose,{buttonalign:"right"})}catch(d){alert(j)}}!0===N.restoreAfterError&&b(P).jqGrid("restoreRow",R,N.afterrestorefunc)}},b.jgrid.ajaxOptions,P.p.ajaxRowOptions||{}))}}return J},restoreRow:function(a,g){var d=b.makeArray(arguments).slice(1),f={};"object"===b.type(d[0])?f=d[0]:b.isFunction(g)&&(f.afterrestorefunc=g);f=b.extend(!0,b.jgrid.inlineEdit,f);return this.each(function(){var p=this,m,o,k={},l;if(p.grid){o=b(p).jqGrid("getInd",a,true);if(o!==false){for(l=0;l<p.p.savedRow.length;l++){if(p.p.savedRow[l].id==a){m=l;break}}if(m>=0){if(b.isFunction(b.fn.datepicker)){try{b("input.hasDatepicker","#"+b.jgrid.jqID(o.id)).datepicker("hide")}catch(h){}}b.each(p.p.colModel,function(){this.editable===true&&p.p.savedRow[m].hasOwnProperty(this.name)&&(k[this.name]=p.p.savedRow[m][this.name])});b(p).jqGrid("setRowData",a,k);b(o).attr("editable","0").unbind("keydown");p.p.savedRow.splice(m,1);b("#"+b.jgrid.jqID(a),"#"+b.jgrid.jqID(p.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){b(p).jqGrid("delRowData",a)},0)}b(p).triggerHandler("jqGridInlineAfterRestoreRow",[a]);b.isFunction(f.afterrestorefunc)&&f.afterrestorefunc.call(p,a)}}})},addRow:function(a){a=b.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},a||{});return this.each(function(){if(this.grid){var f=this;a.rowID=b.isFunction(a.rowID)?a.rowID.call(f,a):null!=a.rowID?a.rowID:b.jgrid.randId();!0===a.useDefValues&&b(f.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var c=this.editoptions.defaultValue,c=b.isFunction(c)?c.call(f):c;a.initdata[this.name]=c}});b(f).jqGrid("addRowData",a.rowID,a.initdata,a.position);a.rowID=f.p.idPrefix+a.rowID;b("#"+b.jgrid.jqID(a.rowID),"#"+b.jgrid.jqID(f.p.id)).addClass("jqgrid-new-row");if(a.useFormatter){b("#"+b.jgrid.jqID(a.rowID)+" .ui-inline-edit","#"+b.jgrid.jqID(f.p.id)).click()}else{var d=f.p.prmNames;a.addRowParams.extraparam[d.oper]=d.addoper;b(f).jqGrid("editRow",a.rowID,a.addRowParams);b(f).jqGrid("setSelection",a.rowID)}}})},inlineNav:function(a,d){d=b.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{},editParams:{},restoreAfterSelect:!0},b.jgrid.nav,d||{});return this.each(function(){if(this.grid){var h=this,i,c=b.jgrid.jqID(h.p.id);h.p._inlinenav=!0;if(!0===d.addParams.useFormatter){var f=h.p.colModel,j;for(j=0;j<f.length;j++){if(f[j].formatter&&"actions"===f[j].formatter){f[j].formatoptions&&(f=b.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},f[j].formatoptions),d.addParams.addRowParams={keys:f.keys,oneditfunc:f.onEdit,successfunc:f.onSuccess,url:f.url,extraparam:f.extraparam,aftersavefunc:f.afterSavef,errorfunc:f.onError,afterrestorefunc:f.afterRestore});break}}}d.add&&b(h).jqGrid("navButtonAdd",a,{caption:d.addtext,title:d.addtitle,buttonicon:d.addicon,id:h.p.id+"_iladd",onClickButton:function(){b(h).jqGrid("addRow",d.addParams);d.addParams.useFormatter||(b("#"+c+"_ilsave").removeClass("ui-state-disabled"),b("#"+c+"_ilcancel").removeClass("ui-state-disabled"),b("#"+c+"_iladd").addClass("ui-state-disabled"),b("#"+c+"_iledit").addClass("ui-state-disabled"))}});d.edit&&b(h).jqGrid("navButtonAdd",a,{caption:d.edittext,title:d.edittitle,buttonicon:d.editicon,id:h.p.id+"_iledit",onClickButton:function(){var e=b(h).jqGrid("getGridParam","selrow");e?(b(h).jqGrid("editRow",e,d.editParams),b("#"+c+"_ilsave").removeClass("ui-state-disabled"),b("#"+c+"_ilcancel").removeClass("ui-state-disabled"),b("#"+c+"_iladd").addClass("ui-state-disabled"),b("#"+c+"_iledit").addClass("ui-state-disabled")):(b.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+c,jqm:!0}),b("#jqg_alrt").focus())}});d.save&&(b(h).jqGrid("navButtonAdd",a,{caption:d.savetext||"",title:d.savetitle||"Save row",buttonicon:d.saveicon,id:h.p.id+"_ilsave",onClickButton:function(){var e=h.p.savedRow[0].id;if(e){var l=h.p.prmNames,k=l.oper;d.editParams.extraparam||(d.editParams.extraparam={});d.editParams.extraparam[k]=b("#"+b.jgrid.jqID(e),"#"+c).hasClass("jqgrid-new-row")?l.addoper:l.editoper;b(h).jqGrid("saveRow",e,d.editParams)&&b(h).jqGrid("showAddEditButtons")}else{b.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+c,jqm:!0}),b("#jqg_alrt").focus()}}}),b("#"+c+"_ilsave").addClass("ui-state-disabled"));d.cancel&&(b(h).jqGrid("navButtonAdd",a,{caption:d.canceltext||"",title:d.canceltitle||"Cancel row editing",buttonicon:d.cancelicon,id:h.p.id+"_ilcancel",onClickButton:function(){var e=h.p.savedRow[0].id;if(e){b(h).jqGrid("restoreRow",e,d.editParams);b(h).jqGrid("showAddEditButtons")}else{b.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+c,jqm:true});b("#jqg_alrt").focus()}}}),b("#"+c+"_ilcancel").addClass("ui-state-disabled"));!0===d.restoreAfterSelect&&(i=b.isFunction(h.p.beforeSelectRow)?h.p.beforeSelectRow:!1,h.p.beforeSelectRow=function(e,l){var k=true;if(h.p.savedRow.length>0&&h.p._inlinenav===true&&e!==h.p.selrow&&h.p.selrow!==null){h.p.selrow==d.addParams.rowID?b(h).jqGrid("delRowData",h.p.selrow):b(h).jqGrid("restoreRow",h.p.selrow,d.editParams);b(h).jqGrid("showAddEditButtons")}i&&(k=i.call(h,e,l));return k})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var a=b.jgrid.jqID(this.p.id);b("#"+a+"_ilsave").addClass("ui-state-disabled");b("#"+a+"_ilcancel").addClass("ui-state-disabled");b("#"+a+"_iladd").removeClass("ui-state-disabled");b("#"+a+"_iledit").removeClass("ui-state-disabled")}})}})})(jQuery);(function(a){a.jgrid.extend({editCell:function(e,c,b){return this.each(function(){var r=this,o,p,m,l;if(r.grid&&!0===r.p.cellEdit){c=parseInt(c,10);r.p.selrow=r.rows[e].id;r.p.knv||a(r).jqGrid("GridNav");if(0<r.p.savedRow.length){if(!0===b&&e==r.p.iRow&&c==r.p.iCol){return}a(r).jqGrid("saveCell",r.p.savedRow[0].id,r.p.savedRow[0].ic)}else{window.setTimeout(function(){a("#"+a.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}l=r.p.colModel[c];o=l.name;if(!("subgrid"==o||"cb"==o||"rn"==o)){m=a("td:eq("+c+")",r.rows[e]);if(!0===l.editable&&!0===b&&!m.hasClass("not-editable-cell")){0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&(a("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell ui-state-highlight"),a(r.rows[r.p.iRow]).removeClass("selected-row ui-state-hover"));a(m).addClass("edit-cell ui-state-highlight");a(r.rows[e]).addClass("selected-row ui-state-hover");try{p=a.unformat.call(r,m,{rowId:r.rows[e].id,colModel:l},c)}catch(d){p=l.edittype&&"textarea"==l.edittype?a(m).text():a(m).html()}r.p.autoencode&&(p=a.jgrid.htmlDecode(p));l.edittype||(l.edittype="text");r.p.savedRow.push({id:e,ic:c,name:o,v:p});if("&nbsp;"===p||"&#160;"===p||1===p.length&&160===p.charCodeAt(0)){p=""}if(a.isFunction(r.p.formatCell)){var f=r.p.formatCell.call(r,r.rows[e].id,o,p,e,c);void 0!==f&&(p=f)}var f=a.extend({},l.editoptions||{},{id:e+"_"+o,name:o}),q=a.jgrid.createEl.call(r,l.edittype,f,p,!0,a.extend({},a.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));a(r).triggerHandler("jqGridBeforeEditCell",[r.rows[e].id,o,p,e,c]);a.isFunction(r.p.beforeEditCell)&&r.p.beforeEditCell.call(r,r.rows[e].id,o,p,e,c);a(m).html("").append(q).attr("tabindex","0");a.jgrid.bindEv(q,f,r);window.setTimeout(function(){a(q).focus()},0);a("input, select, textarea",m).bind("keydown",function(g){g.keyCode===27&&(a("input.hasDatepicker",m).length>0?a(".ui-datepicker").is(":hidden")?a(r).jqGrid("restoreCell",e,c):a("input.hasDatepicker",m).datepicker("hide"):a(r).jqGrid("restoreCell",e,c));if(g.keyCode===13){a(r).jqGrid("saveCell",e,c);return false}if(g.keyCode===9){if(r.grid.hDiv.loading){return false}g.shiftKey?a(r).jqGrid("prevCell",e,c):a(r).jqGrid("nextCell",e,c)}g.stopPropagation()});a(r).triggerHandler("jqGridAfterEditCell",[r.rows[e].id,o,p,e,c]);a.isFunction(r.p.afterEditCell)&&r.p.afterEditCell.call(r,r.rows[e].id,o,p,e,c)}else{0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&(a("td:eq("+r.p.iCol+")",r.rows[r.p.iRow]).removeClass("edit-cell ui-state-highlight"),a(r.rows[r.p.iRow]).removeClass("selected-row ui-state-hover")),m.addClass("edit-cell ui-state-highlight"),a(r.rows[e]).addClass("selected-row ui-state-hover"),p=m.html().replace(/\&#160\;/ig,""),a(r).triggerHandler("jqGridSelectCell",[r.rows[e].id,o,p,e,c]),a.isFunction(r.p.onSelectCell)&&r.p.onSelectCell.call(r,r.rows[e].id,o,p,e,c)}r.p.iCol=c;r.p.iRow=e}}})},saveCell:function(c,b){return this.each(function(){var E=this,D;if(E.grid&&!0===E.p.cellEdit){D=1<=E.p.savedRow.length?0:null;if(null!==D){var B=a("td:eq("+b+")",E.rows[c]),C,A,z=E.p.colModel[b],x=z.name,y=a.jgrid.jqID(x);switch(z.edittype){case"select":if(z.editoptions.multiple){var y=a("#"+c+"_"+y,E.rows[c]),u=[];(C=a(y).val())?C.join(","):C="";a("option:selected",y).each(function(e,g){u[e]=a(g).text()});A=u.join(",")}else{C=a("#"+c+"_"+y+" option:selected",E.rows[c]).val(),A=a("#"+c+"_"+y+" option:selected",E.rows[c]).text()}z.formatter&&(A=C);break;case"checkbox":var w=["Yes","No"];z.editoptions&&(w=z.editoptions.value.split(":"));A=C=a("#"+c+"_"+y,E.rows[c]).is(":checked")?w[0]:w[1];break;case"password":case"text":case"textarea":case"button":A=C=a("#"+c+"_"+y,E.rows[c]).val();break;case"custom":try{if(z.editoptions&&a.isFunction(z.editoptions.custom_value)){C=z.editoptions.custom_value.call(E,a(".customelement",B),"get");if(void 0===C){throw"e2"}A=C}else{throw"e1"}}catch(t){"e1"==t&&a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.nodefined,a.jgrid.edit.bClose),"e2"==t?a.jgrid.info_dialog(a.jgrid.errors.errcap,"function 'custom_value' "+a.jgrid.edit.msg.novalue,a.jgrid.edit.bClose):a.jgrid.info_dialog(a.jgrid.errors.errcap,t.message,a.jgrid.edit.bClose)}}if(A!==E.p.savedRow[D].v){if(D=a(E).triggerHandler("jqGridBeforeSaveCell",[E.rows[c].id,x,C,c,b])){A=C=D}if(a.isFunction(E.p.beforeSaveCell)&&(D=E.p.beforeSaveCell.call(E,E.rows[c].id,x,C,c,b))){A=C=D}var s=a.jgrid.checkValues(C,b,E);if(!0===s[0]){D=a(E).triggerHandler("jqGridBeforeSubmitCell",[E.rows[c].id,x,C,c,b])||{};a.isFunction(E.p.beforeSubmitCell)&&((D=E.p.beforeSubmitCell.call(E,E.rows[c].id,x,C,c,b))||(D={}));0<a("input.hasDatepicker",B).length&&a("input.hasDatepicker",B).datepicker("hide");if("remote"==E.p.cellsubmit){if(E.p.cellurl){var v={};E.p.autoencode&&(C=a.jgrid.htmlEncode(C));v[x]=C;w=E.p.prmNames;z=w.id;y=w.oper;v[z]=a.jgrid.stripPref(E.p.idPrefix,E.rows[c].id);v[y]=w.editoper;v=a.extend(D,v);a("#lui_"+a.jgrid.jqID(E.p.id)).show();E.grid.hDiv.loading=!0;a.ajax(a.extend({url:E.p.cellurl,data:a.isFunction(E.p.serializeCellData)?E.p.serializeCellData.call(E,v):v,type:"POST",complete:function(h,g){a("#lui_"+E.p.id).hide();E.grid.hDiv.loading=false;if(g=="success"){var e=a(E).triggerHandler("jqGridAfterSubmitCell",[E,h,v.id,x,C,c,b])||[true,""];e[0]===true&&a.isFunction(E.p.afterSubmitCell)&&(e=E.p.afterSubmitCell.call(E,h,v.id,x,C,c,b));if(e[0]===true){a(B).empty();a(E).jqGrid("setCell",E.rows[c].id,b,A,false,false,true);a(B).addClass("dirty-cell");a(E.rows[c]).addClass("edited");a(E).triggerHandler("jqGridAfterSaveCell",[E.rows[c].id,x,C,c,b]);a.isFunction(E.p.afterSaveCell)&&E.p.afterSaveCell.call(E,E.rows[c].id,x,C,c,b);E.p.savedRow.splice(0,1)}else{a.jgrid.info_dialog(a.jgrid.errors.errcap,e[1],a.jgrid.edit.bClose);a(E).jqGrid("restoreCell",c,b)}}},error:function(j,i,g){a("#lui_"+a.jgrid.jqID(E.p.id)).hide();E.grid.hDiv.loading=false;a(E).triggerHandler("jqGridErrorCell",[j,i,g]);a.isFunction(E.p.errorCell)?E.p.errorCell.call(E,j,i,g):a.jgrid.info_dialog(a.jgrid.errors.errcap,j.status+" : "+j.statusText+"<br/>"+i,a.jgrid.edit.bClose);a(E).jqGrid("restoreCell",c,b)}},a.jgrid.ajaxOptions,E.p.ajaxCellOptions||{}))}else{try{a.jgrid.info_dialog(a.jgrid.errors.errcap,a.jgrid.errors.nourl,a.jgrid.edit.bClose),a(E).jqGrid("restoreCell",c,b)}catch(f){}}}"clientArray"==E.p.cellsubmit&&(a(B).empty(),a(E).jqGrid("setCell",E.rows[c].id,b,A,!1,!1,!0),a(B).addClass("dirty-cell"),a(E.rows[c]).addClass("edited"),a(E).triggerHandler("jqGridAfterSaveCell",[E.rows[c].id,x,C,c,b]),a.isFunction(E.p.afterSaveCell)&&E.p.afterSaveCell.call(E,E.rows[c].id,x,C,c,b),E.p.savedRow.splice(0,1))}else{try{window.setTimeout(function(){a.jgrid.info_dialog(a.jgrid.errors.errcap,C+" "+s[1],a.jgrid.edit.bClose)},100),a(E).jqGrid("restoreCell",c,b)}catch(d){}}}else{a(E).jqGrid("restoreCell",c,b)}}window.setTimeout(function(){a("#"+a.jgrid.jqID(E.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(c,b){return this.each(function(){var d=this,i;if(d.grid&&!0===d.p.cellEdit){i=1<=d.p.savedRow.length?0:null;if(null!==i){var f=a("td:eq("+b+")",d.rows[c]);if(a.isFunction(a.fn.datepicker)){try{a("input.hasDatepicker",f).datepicker("hide")}catch(h){}}a(f).empty().attr("tabindex","-1");a(d).jqGrid("setCell",d.rows[c].id,b,d.p.savedRow[i].v,!1,!1,!0);a(d).triggerHandler("jqGridAfterRestoreCell",[d.rows[c].id,d.p.savedRow[i].v,c,b]);a.isFunction(d.p.afterRestoreCell)&&d.p.afterRestoreCell.call(d,d.rows[c].id,d.p.savedRow[i].v,c,b);d.p.savedRow.splice(0,1)}window.setTimeout(function(){a("#"+d.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(c,b){return this.each(function(){var d=!1,e;if(this.grid&&!0===this.p.cellEdit){for(e=b+1;e<this.p.colModel.length;e++){if(!0===this.p.colModel[e].editable){d=e;break}}!1!==d?a(this).jqGrid("editCell",c,d,!0):0<this.p.savedRow.length&&a(this).jqGrid("saveCell",c,b)}})},prevCell:function(c,b){return this.each(function(){var d=!1,e;if(this.grid&&!0===this.p.cellEdit){for(e=b-1;0<=e;e--){if(!0===this.p.colModel[e].editable){d=e;break}}!1!==d?a(this).jqGrid("editCell",c,d,!0):0<this.p.savedRow.length&&a(this).jqGrid("saveCell",c,b)}})},GridNav:function(){return this.each(function(){function k(t,s,q){if("v"==q.substr(0,1)){var p=a(b.grid.bDiv)[0].clientHeight,n=a(b.grid.bDiv)[0].scrollTop,m=b.rows[t].offsetTop+b.rows[t].clientHeight,r=b.rows[t].offsetTop;"vd"==q&&m>=p&&(a(b.grid.bDiv)[0].scrollTop=a(b.grid.bDiv)[0].scrollTop+b.rows[t].clientHeight);"vu"==q&&r<n&&(a(b.grid.bDiv)[0].scrollTop=a(b.grid.bDiv)[0].scrollTop-b.rows[t].clientHeight)}"h"==q&&(q=a(b.grid.bDiv)[0].clientWidth,p=a(b.grid.bDiv)[0].scrollLeft,n=b.rows[t].cells[s].offsetLeft,b.rows[t].cells[s].offsetLeft+b.rows[t].cells[s].clientWidth>=q+parseInt(p,10)?a(b.grid.bDiv)[0].scrollLeft=a(b.grid.bDiv)[0].scrollLeft+b.rows[t].cells[s].clientWidth:n<p&&(a(b.grid.bDiv)[0].scrollLeft=a(b.grid.bDiv)[0].scrollLeft-b.rows[t].cells[s].clientWidth))}function i(f,n){var m,g;if("lft"==n){m=f+1;for(g=f;0<=g;g--){if(!0!==b.p.colModel[g].hidden){m=g;break}}}if("rgt"==n){m=f-1;for(g=f;g<b.p.colModel.length;g++){if(!0!==b.p.colModel[g].hidden){m=g;break}}}return m}var b=this;if(b.grid&&!0===b.p.cellEdit){b.p.knv=b.p.id+"_kn";var l=a("<div style='position:fixed;top:-1000000px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+b.p.knv+"'></div></div>"),h,j;a(l).insertBefore(b.grid.cDiv);a("#"+b.p.knv).focus().keydown(function(d){j=d.keyCode;"rtl"==b.p.direction&&(37===j?j=39:39===j&&(j=37));switch(j){case 38:0<b.p.iRow-1&&(k(b.p.iRow-1,b.p.iCol,"vu"),a(b).jqGrid("editCell",b.p.iRow-1,b.p.iCol,!1));break;case 40:b.p.iRow+1<=b.rows.length-1&&(k(b.p.iRow+1,b.p.iCol,"vd"),a(b).jqGrid("editCell",b.p.iRow+1,b.p.iCol,!1));break;case 37:0<=b.p.iCol-1&&(h=i(b.p.iCol-1,"lft"),k(b.p.iRow,h,"h"),a(b).jqGrid("editCell",b.p.iRow,h,!1));break;case 39:b.p.iCol+1<=b.p.colModel.length-1&&(h=i(b.p.iCol+1,"rgt"),k(b.p.iRow,h,"h"),a(b).jqGrid("editCell",b.p.iRow,h,!1));break;case 13:0<=parseInt(b.p.iCol,10)&&0<=parseInt(b.p.iRow,10)&&a(b).jqGrid("editCell",b.p.iRow,b.p.iCol,!0);break;default:return !0}return !1})}})},getChangedCells:function(c){var b=[];c||(c="all");this.each(function(){var d=this,e;d.grid&&!0===d.p.cellEdit&&a(d.rows).each(function(f){var h={};a(this).hasClass("edited")&&(a("td",this).each(function(l){e=d.p.colModel[l].name;if("cb"!==e&&"subgrid"!==e){if("dirty"==c){if(a(this).hasClass("dirty-cell")){try{h[e]=a.unformat.call(d,this,{rowId:d.rows[f].id,colModel:d.p.colModel[l]},l)}catch(j){h[e]=a.jgrid.htmlDecode(a(this).html())}}}else{try{h[e]=a.unformat.call(d,this,{rowId:d.rows[f].id,colModel:d.p.colModel[l]},l)}catch(g){h[e]=a.jgrid.htmlDecode(a(this).html())}}}}),h.id=this.id,b.push(h))})});return b}})})(jQuery);(function(r){r.fn.jqm=function(c){var d={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:q,ajaxText:"",target:q,modal:q,toTop:q,onShow:q,onHide:q,onLoad:q};return this.each(function(){if(this._jqm){return l[this._jqm].c=r.extend({},l[this._jqm].c,c)}g++;this._jqm=g;l[g]={c:r.extend(d,r.jqm.params,c),a:q,w:r(this).addClass("jqmID"+g),s:g};d.trigger&&r(this).jqmAddTrigger(d.trigger)})};r.fn.jqmAddClose=function(c){return b(this,c,"jqmHide")};r.fn.jqmAddTrigger=function(c){return b(this,c,"jqmShow")};r.fn.jqmShow=function(c){return this.each(function(){r.jqm.open(this._jqm,c)})};r.fn.jqmHide=function(c){return this.each(function(){r.jqm.close(this._jqm,c)})};r.jqm={hash:{},open:function(i,j){var c=l[i],n=c.c,d="."+n.closeClass,m=parseInt(c.w.css("z-index")),m=0<m?m:3000,k=r("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":m-1,opacity:n.overlay/100});if(c.a){return q}c.t=j;c.a=!0;c.w.css("z-index",m);n.modal?(h[0]||setTimeout(function(){a("bind")},1),h.push(i)):0<n.overlay?n.closeoverlay&&c.w.jqmAddClose(k):k=q;c.o=k?k.addClass(n.overlayClass).prependTo("body"):q;n.ajax?(m=n.target||c.w,k=n.ajax,m="string"==typeof m?r(m,c.w):r(m),k="@"==k.substr(0,1)?r(j).attr(k.substring(1)):k,m.html(n.ajaxText).load(k,function(){n.onLoad&&n.onLoad.call(this,c);d&&c.w.jqmAddClose(r(d,c.w));f(c)})):d&&c.w.jqmAddClose(r(d,c.w));n.toTop&&c.o&&c.w.before('<span id="jqmP'+c.w[0]._jqm+'"></span>').insertAfter(c.o);n.onShow?n.onShow(c):c.w.show();f(c);return q},close:function(c){c=l[c];if(!c.a){return q}c.a=q;h[0]&&(h.pop(),h[0]||a("unbind"));c.c.toTop&&c.o&&r("#jqmP"+c.w[0]._jqm).after(c.w).remove();if(c.c.onHide){c.c.onHide(c)}else{c.w.hide(),c.o&&c.o.remove()}return q},params:{}};var g=0,l=r.jqm.hash,h=[],q=!1,f=function(c){try{r(":input:visible",c.w)[0].focus()}catch(i){}},a=function(c){r(document)[c]("keypress",e)[c]("keydown",e)[c]("mousedown",e)},e=function(c){var i=l[h[h.length-1]];(c=!r(c.target).parents(".jqmID"+i.s)[0])&&f(i);return !c},b=function(d,i,c){return d.each(function(){var j=this._jqm;r(i).each(function(){this[c]||(this[c]=[],r(this).click(function(){for(var m in {jqmShow:1,jqmHide:1}){for(var k in this[m]){if(l[this[m][k]]){l[this[m][k]].w[m](this)}}}return q}));this[c].push(j)})})}})(jQuery);(function(r){r.fn.jqDrag=function(b){return l(this,b,"d")};r.fn.jqResize=function(d,c){return l(this,d,"r",c)};r.jqDnR={dnr:{},e:0,drag:function(b){"d"==p.k?o.css({left:p.X+b.pageX-p.pX,top:p.Y+b.pageY-p.pY}):(o.css({width:Math.max(b.pageX-p.pX+p.W,0),height:Math.max(b.pageY-p.pY+p.H,0)}),n&&m.css({width:Math.max(b.pageX-n.pX+n.W,0),height:Math.max(b.pageY-n.pY+n.H,0)}));return !1},stop:function(){r(document).unbind("mousemove",q.drag).unbind("mouseup",q.stop)}};var q=r.jqDnR,p=q.dnr,o=q.e,m,n,l=function(d,f,e,b){return d.each(function(){f=f?r(f,d):d;f.bind("mousedown",{e:d,k:e},function(j){var t=j.data,k={};o=t.e;m=b?r(b):!1;if("relative"!=o.css("position")){try{o.position(k)}catch(s){}}p={X:k.left||i("left")||0,Y:k.top||i("top")||0,W:i("width")||o[0].scrollWidth||0,H:i("height")||o[0].scrollHeight||0,pX:j.pageX,pY:j.pageY,k:t.k};n=m&&"d"!=t.k?{X:k.left||a("left")||0,Y:k.top||a("top")||0,W:m[0].offsetWidth||a("width")||0,H:m[0].offsetHeight||a("height")||0,pX:j.pageX,pY:j.pageY,k:t.k}:!1;if(r("input.hasDatepicker",o[0])[0]){try{r("input.hasDatepicker",o[0]).datepicker("hide")}catch(g){}}r(document).mousemove(r.jqDnR.drag).mouseup(r.jqDnR.stop);return !1})})},i=function(b){return parseInt(o.css(b),10)||!1},a=function(b){return parseInt(m.css(b),10)||!1}})(jQuery);(function(a){a.jgrid.extend({setSubGrid:function(){return this.each(function(){var b,d;this.p.subGridOptions=a.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0},this.p.subGridOptions||{});this.p.colNames.unshift("");this.p.colModel.unshift({name:"subgrid",width:a.jgrid.cell_width?this.p.subGridWidth+this.p.cellLayout:this.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0});b=this.p.subGridModel;if(b[0]){b[0].align=a.extend([],b[0].align||[]);for(d=0;d<b[0].name.length;d++){b[0].align[d]=b[0].align[d]||"left"}}})},addSubGridCell:function(e,h){var g="",d,f;this.each(function(){g=this.formatCol(e,h);f=this.p.id;d=this.p.subGridOptions.plusicon});return'<td role="gridcell" aria-describedby="'+f+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+g+"><a href='javascript:void(0);'><span class='ui-icon "+d+"'></span></a></td>"},addSubGrid:function(b,d){return this.each(function(){var y=this;if(y.grid){var i=function(k,j,g){j=a("<td align='"+y.p.subGridModel[0].align[g]+"'></td>").html(j);a(k).append(j)},n=function(p,l){var j,k,o,m=a("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),g=a("<tr></tr>");for(k=0;k<y.p.subGridModel[0].name.length;k++){j=a("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+y.p.direction+"'></th>"),a(j).html(y.p.subGridModel[0].name[k]),a(j).width(y.p.subGridModel[0].width[k]),a(g).append(j)}a(m).append(g);p&&(o=y.p.xmlReader.subgrid,a(o.root+" "+o.row,p).each(function(){g=a("<tr class='ui-widget-content ui-subtblcell'></tr>");if(!0===o.repeatitems){a(o.cell,this).each(function(r){i(g,a(this).text()||"&#160;",r)})}else{var q=y.p.subGridModel[0].mapping||y.p.subGridModel[0].name;if(q){for(k=0;k<q.length;k++){i(g,a(q[k],this).text()||"&#160;",k)}}}a(m).append(g)}));j=a("table:first",y.grid.bDiv).attr("id")+"_";a("#"+a.jgrid.jqID(j+l)).append(m);y.grid.hDiv.loading=!1;a("#load_"+a.jgrid.jqID(y.p.id)).hide();return !1},f=function(D,B){var r,t,C,s,q,o=a("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),p=a("<tr></tr>");for(t=0;t<y.p.subGridModel[0].name.length;t++){r=a("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+y.p.direction+"'></th>"),a(r).html(y.p.subGridModel[0].name[t]),a(r).width(y.p.subGridModel[0].width[t]),a(p).append(r)}a(o).append(p);if(D&&(s=y.p.jsonReader.subgrid,r=a.jgrid.getAccessor(D,s.root),void 0!==r)){for(t=0;t<r.length;t++){C=r[t];p=a("<tr class='ui-widget-content ui-subtblcell'></tr>");if(!0===s.repeatitems){s.cell&&(C=C[s.cell]);for(q=0;q<C.length;q++){i(p,C[q]||"&#160;",q)}}else{var m=y.p.subGridModel[0].mapping||y.p.subGridModel[0].name;if(m.length){for(q=0;q<m.length;q++){i(p,C[m[q]]||"&#160;",q)}}}a(o).append(p)}}t=a("table:first",y.grid.bDiv).attr("id")+"_";a("#"+a.jgrid.jqID(t+B)).append(o);y.grid.hDiv.loading=!1;a("#load_"+a.jgrid.jqID(y.p.id)).hide();return !1},z=function(o){var l,m,k,j;l=a(o).attr("id");m={nd_:(new Date).getTime()};m[y.p.prmNames.subgridid]=l;if(!y.p.subGridModel[0]){return !1}if(y.p.subGridModel[0].params){for(j=0;j<y.p.subGridModel[0].params.length;j++){for(k=0;k<y.p.colModel.length;k++){y.p.colModel[k].name===y.p.subGridModel[0].params[j]&&(m[y.p.colModel[k].name]=a("td:eq("+k+")",o).text().replace(/\&#160\;/ig,""))}}}if(!y.grid.hDiv.loading){switch(y.grid.hDiv.loading=!0,a("#load_"+a.jgrid.jqID(y.p.id)).show(),y.p.subgridtype||(y.p.subgridtype=y.p.datatype),a.isFunction(y.p.subgridtype)?y.p.subgridtype.call(y,m):y.p.subgridtype=y.p.subgridtype.toLowerCase(),y.p.subgridtype){case"xml":case"json":a.ajax(a.extend({type:y.p.mtype,url:y.p.subGridUrl,dataType:y.p.subgridtype,data:a.isFunction(y.p.serializeSubGridData)?y.p.serializeSubGridData.call(y,m):m,complete:function(g){y.p.subgridtype==="xml"?n(g.responseXML,l):f(a.jgrid.parse(g.responseText),l)}},a.jgrid.ajaxOptions,y.p.ajaxSubgridOptions||{}))}}return !1},x,u,e,c=0,w,v;a.each(y.p.colModel,function(){(!0===this.hidden||"rn"===this.name||"cb"===this.name)&&c++});var A=y.rows.length,h=1;void 0!==d&&0<d&&(h=d,A=d+1);for(;h<A;){a(y.rows[h]).hasClass("jqgrow")&&a(y.rows[h].cells[b]).bind("click",function(){var g=a(this).parent("tr")[0];v=g.nextSibling;if(a(this).hasClass("sgcollapsed")){u=y.p.id;x=g.id;if(y.p.subGridOptions.reloadOnExpand===true||y.p.subGridOptions.reloadOnExpand===false&&!a(v).hasClass("ui-subgrid")){e=b>=1?"<td colspan='"+b+"'>&#160;</td>":"";w=a(y).triggerHandler("jqGridSubGridBeforeExpand",[u+"_"+x,x]);(w=w===false||w==="stop"?false:true)&&a.isFunction(y.p.subGridBeforeExpand)&&(w=y.p.subGridBeforeExpand.call(y,u+"_"+x,x));if(w===false){return false}a(g).after("<tr role='row' class='ui-subgrid'>"+e+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+y.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(y.p.colNames.length-1-c,10)+"' class='ui-widget-content subgrid-data'><div id="+u+"_"+x+" class='tablediv'></div></td></tr>");a(y).triggerHandler("jqGridSubGridRowExpanded",[u+"_"+x,x]);a.isFunction(y.p.subGridRowExpanded)?y.p.subGridRowExpanded.call(y,u+"_"+x,x):z(g)}else{a(v).show()}a(this).html("<a href='javascript:void(0);'><span class='ui-icon "+y.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded");y.p.subGridOptions.selectOnExpand&&a(y).jqGrid("setSelection",x)}else{if(a(this).hasClass("sgexpanded")){w=a(y).triggerHandler("jqGridSubGridRowColapsed",[u+"_"+x,x]);if((w=w===false||w==="stop"?false:true)&&a.isFunction(y.p.subGridRowColapsed)){x=g.id;w=y.p.subGridRowColapsed.call(y,u+"_"+x,x)}if(w===false){return false}y.p.subGridOptions.reloadOnExpand===true?a(v).remove(".ui-subgrid"):a(v).hasClass("ui-subgrid")&&a(v).hide();a(this).html("<a href='javascript:void(0);'><span class='ui-icon "+y.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed")}}return false}),h++}!0===y.p.subGridOptions.expandOnLoad&&a(y.rows).filter(".jqgrow").each(function(g,j){a(j.cells[0]).click()});y.subGridXml=function(j,g){n(j,g)};y.subGridJson=function(j,g){f(j,g)}}})},expandSubGridRow:function(b){return this.each(function(){if((this.grid||b)&&!0===this.p.subGrid){var d=a(this).jqGrid("getInd",b,!0);d&&(d=a("td.sgcollapsed",d)[0])&&a(d).trigger("click")}})},collapseSubGridRow:function(b){return this.each(function(){if((this.grid||b)&&!0===this.p.subGrid){var d=a(this).jqGrid("getInd",b,!0);d&&(d=a("td.sgexpanded",d)[0])&&a(d).trigger("click")}})},toggleSubGridRow:function(b){return this.each(function(){if((this.grid||b)&&!0===this.p.subGrid){var e=a(this).jqGrid("getInd",b,!0);if(e){var d=a("td.sgcollapsed",e)[0];d?a(d).trigger("click"):(d=a("td.sgexpanded",e)[0])&&a(d).trigger("click")}}})}})})(jQuery);(function(a){a.extend(a.jgrid,{template:function(g){var c=a.makeArray(arguments).slice(1),f,b=c.length;null==g&&(g="");return g.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(k,i){if(!isNaN(parseInt(i,10))){return c[parseInt(i,10)]}for(f=0;f<b;f++){if(a.isArray(c[f])){for(var e=c[f],h=e.length;h--;){if(i===e[h].nm){return e[h].v}}}}})}});a.jgrid.extend({groupingSetup:function(){return this.each(function(){var g,c,f=this.p.colModel,b=this.p.groupingView;if(null!==b&&("object"===typeof b||a.isFunction(b))){if(b.groupField.length){void 0===b.visibiltyOnNextGrouping&&(b.visibiltyOnNextGrouping=[]);b.lastvalues=[];b.groups=[];b.counters=[];for(g=0;g<b.groupField.length;g++){b.groupOrder[g]||(b.groupOrder[g]="asc"),b.groupText[g]||(b.groupText[g]="{0}"),"boolean"!==typeof b.groupColumnShow[g]&&(b.groupColumnShow[g]=!0),"boolean"!==typeof b.groupSummary[g]&&(b.groupSummary[g]=!1),!0===b.groupColumnShow[g]?(b.visibiltyOnNextGrouping[g]=!0,a(this).jqGrid("showCol",b.groupField[g])):(b.visibiltyOnNextGrouping[g]=a("#"+a.jgrid.jqID(this.p.id+"_"+b.groupField[g])).is(":visible"),a(this).jqGrid("hideCol",b.groupField[g]))}b.summary=[];g=0;for(c=f.length;g<c;g++){f[g].summaryType&&b.summary.push({nm:f[g].name,st:f[g].summaryType,v:"",sr:f[g].summaryRound,srt:f[g].summaryRoundType||"round"})}}else{this.p.grouping=!1}}else{this.p.grouping=!1}})},groupingPrepare:function(g,c,f,b){this.each(function(){var q=this.p.groupingView,p=this,d,m=q.groupField.length,h,n,e,o=0;for(d=0;d<m;d++){h=q.groupField[d],e=q.displayField[d],n=f[h],e=null==e?null:f[e],null==e&&(e=n),void 0!==n&&(0===b?(q.groups.push({idx:d,dataIndex:h,value:n,displayValue:e,startRow:b,cnt:1,summary:[]}),q.lastvalues[d]=n,q.counters[d]={cnt:1,pos:q.groups.length-1,summary:a.extend(!0,[],q.summary)}):"object"!==typeof n&&q.lastvalues[d]!==n?(q.groups.push({idx:d,dataIndex:h,value:n,displayValue:e,startRow:b,cnt:1,summary:[]}),q.lastvalues[d]=n,o=1,q.counters[d]={cnt:1,pos:q.groups.length-1,summary:a.extend(!0,[],q.summary)}):1===o?(q.groups.push({idx:d,dataIndex:h,value:n,displayValue:e,startRow:b,cnt:1,summary:[]}),q.lastvalues[d]=n,q.counters[d]={cnt:1,pos:q.groups.length-1,summary:a.extend(!0,[],q.summary)}):(q.counters[d].cnt+=1,q.groups[q.counters[d].pos].cnt=q.counters[d].cnt),a.each(q.counters[d].summary,function(){this.v=a.isFunction(this.st)?this.st.call(p,this.v,this.nm,f):a(p).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,f)}),q.groups[q.counters[d].pos].summary=q.counters[d].summary)}c.push(g)});return c},groupingToggle:function(b){this.each(function(){var m=this.p.groupingView,p=b.split("_"),d=parseInt(p[p.length-2],10);p.splice(p.length-2,2);var p=p.join("_"),o=m.minusicon,n=m.plusicon,c=a("#"+a.jgrid.jqID(b)),c=c.length?c[0].nextSibling:null,l=a("#"+a.jgrid.jqID(b)+" span.tree-wrap-"+this.p.direction),i=!1;if(l.hasClass(o)){if(m.showSummaryOnHide){if(c){for(;c&&!(a(c).hasClass("jqfoot")&&parseInt(a(c).attr("jqfootlevel"),10)<=d);){a(c).hide(),c=c.nextSibling}}}else{if(c){for(;c&&!a(c).hasClass(p+"_"+(""+d))&&!a(c).hasClass(p+"_"+(""+(d-1)));){a(c).hide(),c=c.nextSibling}}}l.removeClass(o).addClass(n);i=!0}else{if(c){for(;c&&!a(c).hasClass(p+"_"+(""+d))&&!a(c).hasClass(p+"_"+(""+(d-1)));){a(c).show(),(m=a(c).find("span.tree-wrap-"+this.p.direction))&&a(m).hasClass(n)&&a(m).removeClass(n).addClass(o),c=c.nextSibling}}l.removeClass(n).addClass(o)}a(this).triggerHandler("jqGridGroupingClickGroup",[b,i]);a.isFunction(this.p.onClickGroup)&&this.p.onClickGroup.call(this,b,i)});return !1},groupingRender:function(c,b){return this.each(function(){function s(g,j,f){var k=!1;if(0===j){k=f[g]}else{var i=f[g].idx;if(0===i){k=f[g]}else{for(;0<=g;g--){if(f[g].idx===i-j){k=f[g];break}}}}return k}var y=this,q=y.p.groupingView,p="",u="",n,m,o=q.groupCollapse?q.plusicon:q.minusicon,h,d=[],z=q.groupField.length,o=o+(" tree-wrap-"+y.p.direction);a.each(y.p.colModel,function(f,g){var e;for(e=0;e<z;e++){if(q.groupField[e]===g.name){d[e]=f;break}}});var A=0,v=a.makeArray(q.groupSummary);v.reverse();a.each(q.groups,function(E,r){A++;m=y.p.id+"ghead_"+r.idx;n=m+"_"+E;u="<span style='cursor:pointer;' class='ui-icon "+o+"' ></span>";try{h=y.formatter(n,r.displayValue,d[r.idx],r.value)}catch(e){h=r.displayValue}p+='<tr id="'+n+'" role="row" class= "jqheader ui-widget-content jqgroup ui-row-'+y.p.direction+" "+m+'"><td style="padding-left:'+12*r.idx+'px;" colspan="'+b+'">'+u+a.jgrid.template(q.groupText[r.idx],h,r.cnt,r.summary)+"</td></tr>";if(z-1===r.idx){var k=q.groups[E+1],i,l,g=void 0!==k?q.groups[E+1].startRow:c.length;for(l=r.startRow;l<g;l++){p+=c[l].join("")}var f;if(void 0!==k){for(f=0;f<q.groupField.length&&k.dataIndex!==q.groupField[f];f++){}A=q.groupField.length-f}for(k=0;k<A;k++){if(v[k]){l="";q.groupCollapse&&!q.showSummaryOnHide&&(l=' style="display:none;"');p+="<tr"+l+' jqfootlevel="'+(r.idx-k)+'" role="row" class="ui-widget-content jqfoot ui-row-'+y.p.direction+'">';l=s(E,k,q.groups);var D=y.p.colModel,x,w=l.cnt;for(i=0;i<b;i++){var t="<td "+y.formatCol(i,1,"")+">&#160;</td>",j="{0}";a.each(l.summary,function(){if(this.nm===D[i].name){D[i].summaryTpl&&(j=D[i].summaryTpl);"string"===typeof this.st&&"avg"===this.st.toLowerCase()&&this.v&&0<w&&(this.v/=w);try{x=y.formatter("",this.v,i,this)}catch(B){x=this.v}t="<td "+y.formatCol(i,1,"")+">"+a.jgrid.format(j,x)+"</td>";return !1}});p+=t}p+="</tr>"}}A=f}});a("#"+a.jgrid.jqID(y.p.id)+" tbody:first").append(p);p=null})},groupingGroupBy:function(c,b){return this.each(function(){"string"===typeof c&&(c=[c]);var f=this.p.groupingView;this.p.grouping=!0;void 0===f.visibiltyOnNextGrouping&&(f.visibiltyOnNextGrouping=[]);var d;for(d=0;d<f.groupField.length;d++){!f.groupColumnShow[d]&&f.visibiltyOnNextGrouping[d]&&a(this).jqGrid("showCol",f.groupField[d])}for(d=0;d<c.length;d++){f.visibiltyOnNextGrouping[d]=a("#"+a.jgrid.jqID(this.p.id)+"_"+a.jgrid.jqID(c[d])).is(":visible")}this.p.groupingView=a.extend(this.p.groupingView,b||{});f.groupField=c;a(this).trigger("reloadGrid")})},groupingRemove:function(b){return this.each(function(){void 0===b&&(b=!0);this.p.grouping=!1;if(!0===b){var c=this.p.groupingView,d;for(d=0;d<c.groupField.length;d++){!c.groupColumnShow[d]&&c.visibiltyOnNextGrouping[d]&&a(this).jqGrid("showCol",c.groupField)}a("tr.jqgroup, tr.jqfoot","#"+a.jgrid.jqID(this.p.id)+" tbody:first").remove();a("tr.jqgrow:hidden","#"+a.jgrid.jqID(this.p.id)+" tbody:first").show()}else{a(this).trigger("reloadGrid")}})},groupingCalculations:{handler:function(m,n,l,i,k,j){var h={sum:function(){return parseFloat(n||0)+parseFloat(j[l]||0)},min:function(){return""===n?parseFloat(j[l]||0):Math.min(parseFloat(n),parseFloat(j[l]||0))},max:function(){return""===n?parseFloat(j[l]||0):Math.max(parseFloat(n),parseFloat(j[l]||0))},count:function(){""===n&&(n=0);return j.hasOwnProperty(l)?n+1:0},avg:function(){return h.sum()}};if(!h[m]){throw"jqGrid Grouping No such method: "+m}m=h[m]();null!=i&&("fixed"==k?m=m.toFixed(i):(i=Math.pow(10,i),m=Math.round(m*i)/i));return m}}})})(jQuery);(function(a){a.jgrid.extend({setTreeNode:function(b,d){return this.each(function(){var x=this;if(x.grid&&x.p.treeGrid){for(var t=x.p.expColInd,w=x.p.treeReader.expanded_field,s=x.p.treeReader.leaf_field,u=x.p.treeReader.level_field,v=x.p.treeReader.icon_field,p=x.p.treeReader.loaded,q,o,c,r;b<d;){r=x.p.data[x.p._index[x.rows[b].id]],"nested"==x.p.treeGridModel&&!r[s]&&(q=parseInt(r[x.p.treeReader.left_field],10),o=parseInt(r[x.p.treeReader.right_field],10),r[s]=o===q+1?"true":"false",x.rows[b].cells[x.p._treeleafpos].innerHTML=r[s]),q=parseInt(r[u],10),0===x.p.tree_root_level?(c=q+1,o=q):(c=q,o=q-1),c="<div class='tree-wrap tree-wrap-"+x.p.direction+"' style='width:"+18*c+"px;'>",c+="<div style='"+("rtl"==x.p.direction?"right:":"left:")+18*o+"px;' class='ui-icon ",void 0!==r[p]&&(r[p]="true"==r[p]||!0===r[p]?!0:!1),"true"==r[s]||!0===r[s]?(c+=(void 0!==r[v]&&""!==r[v]?r[v]:x.p.treeIcons.leaf)+" tree-leaf treeclick",r[s]=!0,o="leaf"):(r[s]=!1,o=""),r[w]=("true"==r[w]||!0===r[w]?!0:!1)&&(r[p]||void 0===r[p]),c=!1===r[w]?c+(!0===r[s]?"'":x.p.treeIcons.plus+" tree-plus treeclick'"):c+(!0===r[s]?"'":x.p.treeIcons.minus+" tree-minus treeclick'"),c+="></div></div>",a(x.rows[b].cells[t]).wrapInner("<span class='cell-wrapper"+o+"'></span>").prepend(c),q!==parseInt(x.p.tree_root_level,10)&&((r=(r=a(x).jqGrid("getNodeParent",r))&&r.hasOwnProperty(w)?r[w]:!0)||a(x.rows[b]).css("display","none")),a(x.rows[b].cells[t]).find("div.treeclick").bind("click",function(e){e=a(e.target||e.srcElement,x.rows).closest("tr.jqgrow")[0].id;e=x.p._index[e];if(!x.p.data[e][s]){if(x.p.data[e][w]){a(x).jqGrid("collapseRow",x.p.data[e]);a(x).jqGrid("collapseNode",x.p.data[e])}else{a(x).jqGrid("expandRow",x.p.data[e]);a(x).jqGrid("expandNode",x.p.data[e])}}return false}),!0===x.p.ExpandColClick&&a(x.rows[b].cells[t]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var e=a(e.target||e.srcElement,x.rows).closest("tr.jqgrow")[0].id,f=x.p._index[e];if(!x.p.data[f][s]){if(x.p.data[f][w]){a(x).jqGrid("collapseRow",x.p.data[f]);a(x).jqGrid("collapseNode",x.p.data[f])}else{a(x).jqGrid("expandRow",x.p.data[f]);a(x).jqGrid("expandNode",x.p.data[f])}}a(x).jqGrid("setSelection",e);return false}),b++}}})},setTreeGrid:function(){return this.each(function(){var f=this,n=0,d=!1,k,m,j,l=[];if(f.p.treeGrid){f.p.treedatatype||a.extend(f.p,{treedatatype:f.p.datatype});f.p.subGrid=!1;f.p.altRows=!1;f.p.pgbuttons=!1;f.p.pginput=!1;f.p.gridview=!0;null===f.p.rowTotal&&(f.p.rowNum=10000);f.p.multiselect=!1;f.p.rowList=[];f.p.expColInd=0;f.p.treeIcons=a.extend({plus:"ui-icon-triangle-1-"+("rtl"==f.p.direction?"w":"e"),minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},f.p.treeIcons||{});"nested"==f.p.treeGridModel?f.p.treeReader=a.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},f.p.treeReader):"adjacency"==f.p.treeGridModel&&(f.p.treeReader=a.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},f.p.treeReader));for(m in f.p.colModel){if(f.p.colModel.hasOwnProperty(m)){for(j in k=f.p.colModel[m].name,k==f.p.ExpandColumn&&!d&&(d=!0,f.p.expColInd=n),n++,f.p.treeReader){f.p.treeReader.hasOwnProperty(j)&&f.p.treeReader[j]==k&&l.push(k)}}}a.each(f.p.treeReader,function(c,g){if(g&&a.inArray(g,l)===-1){if(c==="leaf_field"){f.p._treeleafpos=n}n++;f.p.colNames.push(g);f.p.colModel.push({name:g,width:1,hidden:true,sortable:false,resizable:false,hidedlg:true,editable:true,search:false})}})}})},expandRow:function(b){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var d=a(i).jqGrid("getNodeChildren",b),f=i.p.treeReader.expanded_field,g=i.rows;a(d).each(function(){var c=a.jgrid.getAccessor(this,i.p.localReader.id);a(g.namedItem(c)).css("display","");this[f]&&a(i).jqGrid("expandRow",this)})}})},collapseRow:function(b){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var d=a(i).jqGrid("getNodeChildren",b),f=i.p.treeReader.expanded_field,g=i.rows;a(d).each(function(){var c=a.jgrid.getAccessor(this,i.p.localReader.id);a(g.namedItem(c)).css("display","none");this[f]&&a(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var b=[];this.each(function(){var f=this;if(f.grid&&f.p.treeGrid){switch(f.p.treeGridModel){case"nested":var d=f.p.treeReader.level_field;a(f.p.data).each(function(){parseInt(this[d],10)===parseInt(f.p.tree_root_level,10)&&b.push(this)});break;case"adjacency":var e=f.p.treeReader.parent_id_field;a(f.p.data).each(function(){(null===this[e]||"null"==(""+this[e]).toLowerCase())&&b.push(this)})}}});return b},getNodeDepth:function(b){var d=null;this.each(function(){if(this.grid&&this.p.treeGrid){switch(this.p.treeGridModel){case"nested":d=parseInt(b[this.p.treeReader.level_field],10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":d=a(this).jqGrid("getNodeAncestors",b).length}}});return d},getNodeParent:function(b){var d=null;this.each(function(){if(this.grid&&this.p.treeGrid){switch(this.p.treeGridModel){case"nested":var c=this.p.treeReader.left_field,o=this.p.treeReader.right_field,r=this.p.treeReader.level_field,n=parseInt(b[c],10),p=parseInt(b[o],10),q=parseInt(b[r],10);a(this.p.data).each(function(){if(parseInt(this[r],10)===q-1&&parseInt(this[c],10)<n&&parseInt(this[o],10)>p){return d=this,!1}});break;case"adjacency":var j=this.p.treeReader.parent_id_field,m=this.p.localReader.id;a(this.p.data).each(function(){if(this[m]==b[j]){return d=this,!1}})}}});return d},getNodeChildren:function(b){var d=[];this.each(function(){if(this.grid&&this.p.treeGrid){switch(this.p.treeGridModel){case"nested":var c=this.p.treeReader.left_field,o=this.p.treeReader.right_field,r=this.p.treeReader.level_field,n=parseInt(b[c],10),p=parseInt(b[o],10),q=parseInt(b[r],10);a(this.p.data).each(function(){parseInt(this[r],10)===q+1&&parseInt(this[c],10)>n&&parseInt(this[o],10)<p&&d.push(this)});break;case"adjacency":var j=this.p.treeReader.parent_id_field,m=this.p.localReader.id;a(this.p.data).each(function(){this[j]==b[m]&&d.push(this)})}}});return d},getFullTreeNode:function(b){var d=[];this.each(function(){var t;if(this.grid&&this.p.treeGrid){switch(this.p.treeGridModel){case"nested":var p=this.p.treeReader.left_field,s=this.p.treeReader.right_field,o=this.p.treeReader.level_field,q=parseInt(b[p],10),r=parseInt(b[s],10),j=parseInt(b[o],10);a(this.p.data).each(function(){parseInt(this[o],10)>=j&&parseInt(this[p],10)>=q&&parseInt(this[p],10)<=r&&d.push(this)});break;case"adjacency":if(b){d.push(b);var n=this.p.treeReader.parent_id_field,c=this.p.localReader.id;a(this.p.data).each(function(e){t=d.length;for(e=0;e<t;e++){if(d[e][c]==this[n]){d.push(this);break}}})}}}});return d},getNodeAncestors:function(b){var d=[];this.each(function(){if(this.grid&&this.p.treeGrid){for(var c=a(this).jqGrid("getNodeParent",b);c;){d.push(c),c=a(this).jqGrid("getNodeParent",c)}}});return d},isVisibleNode:function(b){var d=!0;this.each(function(){if(this.grid&&this.p.treeGrid){var c=a(this).jqGrid("getNodeAncestors",b),e=this.p.treeReader.expanded_field;a(c).each(function(){d=d&&this[e];if(!d){return !1}})}});return d},isNodeLoaded:function(b){var d;this.each(function(){if(this.grid&&this.p.treeGrid){var c=this.p.treeReader.leaf_field;d=void 0!==b?void 0!==b.loaded?b.loaded:b[c]||0<a(this).jqGrid("getNodeChildren",b).length?!0:!1:!1}});return d},expandNode:function(b){return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this.p.treeReader.expanded_field,s=this.p.treeReader.parent_id_field,n=this.p.treeReader.loaded,q=this.p.treeReader.level_field,m=this.p.treeReader.left_field,o=this.p.treeReader.right_field;if(!b[r]){var p=a.jgrid.getAccessor(b,this.p.localReader.id),d=a("#"+a.jgrid.jqID(p),this.grid.bDiv)[0],j=this.p._index[p];a(this).jqGrid("isNodeLoaded",this.p.data[j])?(b[r]=!0,a("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(b[r]=!0,a("div.treeclick",d).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=d.rowIndex,this.p.datatype=this.p.treedatatype,"nested"==this.p.treeGridModel?a(this).jqGrid("setGridParam",{postData:{nodeid:p,n_left:b[m],n_right:b[o],n_level:b[q]}}):a(this).jqGrid("setGridParam",{postData:{nodeid:p,parentid:b[s],n_level:b[q]}}),a(this).trigger("reloadGrid"),b[n]=!0,"nested"==this.p.treeGridModel?a(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):a(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(b){return this.each(function(){if(this.grid&&this.p.treeGrid){var d=this.p.treeReader.expanded_field;b[d]&&(b[d]=!1,d=a.jgrid.getAccessor(b,this.p.localReader.id),d=a("#"+a.jgrid.jqID(d),this.grid.bDiv)[0],a("div.treeclick",d).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"))}})},SortTree:function(e,g,d,f){return this.each(function(){if(this.grid&&this.p.treeGrid){var n,h,j,m=[],b=this,c;n=a(this).jqGrid("getRootNodes");n=a.jgrid.from(n);n.orderBy(e,g,d,f);c=n.select();n=0;for(h=c.length;n<h;n++){j=c[n],m.push(j),a(this).jqGrid("collectChildrenSortTree",m,j,e,g,d,f)}a.each(m,function(k){var i=a.jgrid.getAccessor(this,b.p.localReader.id);a("#"+a.jgrid.jqID(b.p.id)+" tbody tr:eq("+k+")").after(a("tr#"+a.jgrid.jqID(i),b.grid.bDiv))});m=c=n=null}})},collectChildrenSortTree:function(f,l,d,j,k,g){return this.each(function(){if(this.grid&&this.p.treeGrid){var e,h,b,c;e=a(this).jqGrid("getNodeChildren",l);e=a.jgrid.from(e);e.orderBy(d,j,k,g);c=e.select();e=0;for(h=c.length;e<h;e++){b=c[e],f.push(b),a(this).jqGrid("collectChildrenSortTree",f,b,d,j,k,g)}}})},setTreeRow:function(e,f){var d=!1;this.each(function(){this.grid&&this.p.treeGrid&&(d=a(this).jqGrid("setRowData",e,f))});return d},delTreeNode:function(b){return this.each(function(){var q=this.p.localReader.id,d,m=this.p.treeReader.left_field,p=this.p.treeReader.right_field,k,n,o;if(this.grid&&this.p.treeGrid&&(d=this.p._index[b],void 0!==d)){k=parseInt(this.p.data[d][p],10);n=k-parseInt(this.p.data[d][m],10)+1;var j=a(this).jqGrid("getFullTreeNode",this.p.data[d]);if(0<j.length){for(d=0;d<j.length;d++){a(this).jqGrid("delRowData",j[d][q])}}if("nested"===this.p.treeGridModel){q=a.jgrid.from(this.p.data).greater(m,k,{stype:"integer"}).select();if(q.length){for(o in q){q.hasOwnProperty(o)&&(q[o][m]=parseInt(q[o][m],10)-n)}}q=a.jgrid.from(this.p.data).greater(p,k,{stype:"integer"}).select();if(q.length){for(o in q){q.hasOwnProperty(o)&&(q[o][p]=parseInt(q[o][p],10)-n)}}}}})},addChildNode:function(P,N,O,J){var M=this[0];if(O){var I=M.p.treeReader.expanded_field,K=M.p.treeReader.leaf_field,L=M.p.treeReader.level_field,F=M.p.treeReader.parent_id_field,G=M.p.treeReader.left_field,E=M.p.treeReader.right_field,D=M.p.treeReader.loaded,H,z,A,x,B;H=0;var y=N,w;void 0===J&&(J=!1);if(void 0===P||null===P){B=M.p.data.length-1;if(0<=B){for(;0<=B;){H=Math.max(H,parseInt(M.p.data[B][M.p.localReader.id],10)),B--}}P=H+1}var d=a(M).jqGrid("getInd",N);w=!1;if(void 0===N||null===N||""===N){y=N=null,H="last",x=M.p.tree_root_level,B=M.p.data.length+1}else{if(H="after",z=M.p._index[N],A=M.p.data[z],N=A[M.p.localReader.id],x=parseInt(A[L],10)+1,B=a(M).jqGrid("getFullTreeNode",A),B.length?(y=B=B[B.length-1][M.p.localReader.id],B=a(M).jqGrid("getInd",y)+1):B=a(M).jqGrid("getInd",N)+1,A[K]){w=!0,A[I]=!0,a(M.rows[d]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(M.p.treeIcons.leaf+" tree-leaf").addClass(M.p.treeIcons.minus+" tree-minus"),M.p.data[z][K]=!1,A[D]=!0}}z=B+1;void 0===O[I]&&(O[I]=!1);void 0===O[D]&&(O[D]=!1);O[L]=x;void 0===O[K]&&(O[K]=!0);"adjacency"===M.p.treeGridModel&&(O[F]=N);if("nested"===M.p.treeGridModel){var C;if(null!==N){K=parseInt(A[E],10);L=a.jgrid.from(M.p.data);L=L.greaterOrEquals(E,K,{stype:"integer"});L=L.select();if(L.length){for(C in L){L.hasOwnProperty(C)&&(L[C][G]=L[C][G]>K?parseInt(L[C][G],10)+2:L[C][G],L[C][E]=L[C][E]>=K?parseInt(L[C][E],10)+2:L[C][E])}}O[G]=K;O[E]=K+1}else{K=parseInt(a(M).jqGrid("getCol",E,!1,"max"),10);L=a.jgrid.from(M.p.data).greater(G,K,{stype:"integer"}).select();if(L.length){for(C in L){L.hasOwnProperty(C)&&(L[C][G]=parseInt(L[C][G],10)+2)}}L=a.jgrid.from(M.p.data).greater(E,K,{stype:"integer"}).select();if(L.length){for(C in L){L.hasOwnProperty(C)&&(L[C][E]=parseInt(L[C][E],10)+2)}}O[G]=K+1;O[E]=K+2}}if(null===N||a(M).jqGrid("isNodeLoaded",A)||w){a(M).jqGrid("addRowData",P,O,H,y),a(M).jqGrid("setTreeNode",B,z)}A&&!A[I]&&J&&a(M.rows[d]).find("div.treeclick").click()}}})})(jQuery);(function(a){a.jgrid.extend({jqGridImport:function(b){b=a.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},b||{});return this.each(function(){var i=this,h=function(j,d){var n=a(d.xmlGrid.config,j)[0],k=a(d.xmlGrid.data,j)[0],m,l;if(xmlJsonClass.xml2json&&a.jgrid.parse){n=xmlJsonClass.xml2json(n," ");n=a.jgrid.parse(n);for(l in n){n.hasOwnProperty(l)&&(m=n[l])}k?(k=n.grid.datatype,n.grid.datatype="xmlstring",n.grid.datastr=j,a(i).jqGrid(m).jqGrid("setGridParam",{datatype:k})):a(i).jqGrid(m)}else{alert("xml2json or parse are not present")}},c=function(j,d){if(j&&"string"==typeof j){var m=!1;a.jgrid.useJSON&&(a.jgrid.useJSON=!1,m=!0);var l=a.jgrid.parse(j);m&&(a.jgrid.useJSON=!0);m=l[d.jsonGrid.config];if(l=l[d.jsonGrid.data]){var k=m.datatype;m.datatype="jsonstring";m.datastr=l;a(i).jqGrid(m).jqGrid("setGridParam",{datatype:k})}else{a(i).jqGrid(m)}}};switch(b.imptype){case"xml":a.ajax(a.extend({url:b.impurl,type:b.mtype,data:b.impData,dataType:"xml",complete:function(d,f){"success"==f&&(h(d.responseXML,b),a(i).triggerHandler("jqGridImportComplete",[d,b]),a.isFunction(b.importComplete)&&b.importComplete(d))}},b.ajaxOptions));break;case"xmlstring":if(b.impstring&&"string"==typeof b.impstring){var e=a.jgrid.stringToDoc(b.impstring);e&&(h(e,b),a(i).triggerHandler("jqGridImportComplete",[e,b]),a.isFunction(b.importComplete)&&b.importComplete(e),b.impstring=null);e=null}break;case"json":a.ajax(a.extend({url:b.impurl,type:b.mtype,data:b.impData,dataType:"json",complete:function(j){try{c(j.responseText,b),a(i).triggerHandler("jqGridImportComplete",[j,b]),a.isFunction(b.importComplete)&&b.importComplete(j)}catch(d){}}},b.ajaxOptions));break;case"jsonstring":b.impstring&&"string"==typeof b.impstring&&(c(b.impstring,b),a(i).triggerHandler("jqGridImportComplete",[b.impstring,b]),a.isFunction(b.importComplete)&&b.importComplete(b.impstring),b.impstring=null)}})},jqGridExport:function(b){var b=a.extend({exptype:"xmlstring",root:"grid",ident:"\t"},b||{}),c=null;this.each(function(){if(this.grid){var e,d=a.extend(!0,{},a(this).jqGrid("getGridParam"));d.rownumbers&&(d.colNames.splice(0,1),d.colModel.splice(0,1));d.multiselect&&(d.colNames.splice(0,1),d.colModel.splice(0,1));d.subGrid&&(d.colNames.splice(0,1),d.colModel.splice(0,1));d.knv=null;if(d.treeGrid){for(e in d.treeReader){d.treeReader.hasOwnProperty(e)&&(d.colNames.splice(d.colNames.length-1),d.colModel.splice(d.colModel.length-1))}}switch(b.exptype){case"xmlstring":c="<"+b.root+">"+xmlJsonClass.json2xml(d,b.ident)+"</"+b.root+">";break;case"jsonstring":c="{"+xmlJsonClass.toJson(d,b.root,b.ident,!1)+"}",void 0!==d.postData.filters&&(c=c.replace(/filters":"/,'filters":'),c=c.replace(/}]}"/,"}]}"))}}});return c},excelExport:function(b){b=a.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},b||{});return this.each(function(){if(this.grid){var c;"remote"==b.exptype&&(c=a.extend({},this.p.postData),c[b.oper]=b.tag,c=jQuery.param(c),c=-1!=b.url.indexOf("?")?b.url+"&"+c:b.url+"?"+c,window.location=c)}})}})})(jQuery);var xmlJsonClass={xml2json:function(d,c){if(9===d.nodeType){d=d.documentElement}var e=this.toJson(this.toObj(this.removeWhite(d)),d.nodeName,"\t");return"{\n"+c+(c?e.replace(/\t/g,c):e.replace(/\t|\n/g,""))+"\n}"},json2xml:function(d,c){var h=function(m,g,p){var q="",o,n;if(m instanceof Array){if(0===m.length){q+=p+"<"+g+">__EMPTY_ARRAY_</"+g+">\n"}else{for(o=0,n=m.length;o<n;o+=1){var k=p+h(m[o],g,p+"\t")+"\n",q=q+k}}}else{if("object"===typeof m){o=!1;q+=p+"<"+g;for(n in m){m.hasOwnProperty(n)&&("@"===n.charAt(0)?q+=" "+n.substr(1)+'="'+m[n].toString()+'"':o=!0)}q+=o?">":"/>";if(o){for(n in m){m.hasOwnProperty(n)&&("#text"===n?q+=m[n]:"#cdata"===n?q+="<![CDATA["+m[n]+"]]>":"@"!==n.charAt(0)&&(q+=h(m[n],n,p+"\t")))}q+=("\n"===q.charAt(q.length-1)?p:"")+"</"+g+">"}}else{"function"===typeof m?q+=p+"<"+g+"><![CDATA["+m+"]]></"+g+">":(void 0===m&&(m=""),q='""'===m.toString()||0===m.toString().length?q+(p+"<"+g+">__EMPTY_STRING_</"+g+">"):q+(p+"<"+g+">"+m.toString()+"</"+g+">"))}}return q},i="",j;for(j in d){d.hasOwnProperty(j)&&(i+=h(d[j],j,""))}return c?i.replace(/\t/g,c):i.replace(/\t|\n/g,"")},toObj:function(i){var d={},k=/function/i;if(1===i.nodeType){if(i.attributes.length){var l;for(l=0;l<i.attributes.length;l+=1){d["@"+i.attributes[l].nodeName]=(i.attributes[l].nodeValue||"").toString()}}if(i.firstChild){var m=l=0,j=!1,n;for(n=i.firstChild;n;n=n.nextSibling){1===n.nodeType?j=!0:3===n.nodeType&&n.nodeValue.match(/[^ \f\n\r\t\v]/)?l+=1:4===n.nodeType&&(m+=1)}if(j){if(2>l&&2>m){this.removeWhite(i);for(n=i.firstChild;n;n=n.nextSibling){3===n.nodeType?d["#text"]=this.escape(n.nodeValue):4===n.nodeType?k.test(n.nodeValue)?d[n.nodeName]=[d[n.nodeName],n.nodeValue]:d["#cdata"]=this.escape(n.nodeValue):d[n.nodeName]?d[n.nodeName] instanceof Array?d[n.nodeName][d[n.nodeName].length]=this.toObj(n):d[n.nodeName]=[d[n.nodeName],this.toObj(n)]:d[n.nodeName]=this.toObj(n)}}else{i.attributes.length?d["#text"]=this.escape(this.innerXml(i)):d=this.escape(this.innerXml(i))}}else{if(l){i.attributes.length?d["#text"]=this.escape(this.innerXml(i)):(d=this.escape(this.innerXml(i)),"__EMPTY_ARRAY_"===d?d="[]":"__EMPTY_STRING_"===d&&(d=""))}else{if(m){if(1<m){d=this.escape(this.innerXml(i))}else{for(n=i.firstChild;n;n=n.nextSibling){if(k.test(i.firstChild.nodeValue)){d=i.firstChild.nodeValue;break}else{d["#cdata"]=this.escape(n.nodeValue)}}}}}}}!i.attributes.length&&!i.firstChild&&(d=null)}else{9===i.nodeType?d=this.toObj(i.documentElement):alert("unhandled node type: "+i.nodeType)}return d},toJson:function(t,s,n,o){void 0===o&&(o=!0);var p=s?'"'+s+'"':"",m="\t",r="\n";o||(r=m="");if("[]"===t){p+=s?":[]":"[]"}else{if(t instanceof Array){var l,q,i=[];for(q=0,l=t.length;q<l;q+=1){i[q]=this.toJson(t[q],"",n+m,o)}p+=(s?":[":"[")+(1<i.length?r+n+m+i.join(","+r+n+m)+r+n:i.join(""))+"]"}else{if(null===t){p+=(s&&":")+"null"}else{if("object"===typeof t){l=[];for(q in t){t.hasOwnProperty(q)&&(l[l.length]=this.toJson(t[q],q,n+m,o))}p+=(s?":{":"{")+(1<l.length?r+n+m+l.join(","+r+n+m)+r+n:l.join(""))+"}"}else{p="string"===typeof t?p+((s&&":")+'"'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'):p+((s&&":")+t.toString())}}}}return p},innerXml:function(d){var c="";if("innerHTML" in d){c=d.innerHTML}else{for(var e=function(g){var f="",i;if(1===g.nodeType){f+="<"+g.nodeName;for(i=0;i<g.attributes.length;i+=1){f+=" "+g.attributes[i].nodeName+'="'+(g.attributes[i].nodeValue||"").toString()+'"'}if(g.firstChild){f+=">";for(i=g.firstChild;i;i=i.nextSibling){f+=e(i)}f+="</"+g.nodeName+">"}else{f+="/>"}}else{3===g.nodeType?f+=g.nodeValue:4===g.nodeType&&(f+="<![CDATA["+g.nodeValue+"]]>")}return f},d=d.firstChild;d;d=d.nextSibling){c+=e(d)}}return c},escape:function(b){return b.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(d){d.normalize();var c;for(c=d.firstChild;c;){if(3===c.nodeType){if(c.nodeValue.match(/[^ \f\n\r\t\v]/)){c=c.nextSibling}else{var e=c.nextSibling;d.removeChild(c);c=e}}else{1===c.nodeType&&this.removeWhite(c),c=c.nextSibling}}return d}};function tableToGrid(b,a){jQuery(b).each(function(){if(!this.grid){jQuery(this).width("99%");var q=jQuery(this).width(),p=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),r=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),p=0<p.length,r=!p&&0<r.length,j=p||r,o=[],n=[];jQuery("th",jQuery(this)).each(function(){0===o.length&&j?(o.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),n.push("__selection__")):(o.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),n.push(jQuery(this).html()))});var m=[],l=[],k=[];jQuery("tbody > tr",jQuery(this)).each(function(){var c={},d=0;jQuery("td",jQuery(this)).each(function(){if(0===d&&j){var g=jQuery("input",jQuery(this)),f=g.attr("value");l.push(f||m.length);g.is(":checked")&&k.push(f);c[o[d].name]=g.attr("value")}else{c[o[d].name]=jQuery(this).html()}d++});0<d&&m.push(c)});jQuery(this).empty();jQuery(this).addClass("scroll");jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:q,colNames:n,colModel:o,multiselect:p},a||{}));for(q=0;q<m.length;q++){r=null,0<l.length&&(r=l[q])&&r.replace&&(r=encodeURIComponent(r).replace(/[.\-%]/g,"_")),null===r&&(r=q+1),jQuery(this).jqGrid("addRowData",r,m[q])}for(q=0;q<k.length;q++){jQuery(this).jqGrid("setSelection",k[q])}}})}(function(b){b.jgrid.msie&&8==b.jgrid.msiever()&&(b.expr[":"].hidden=function(b){return 0===b.offsetWidth||0===b.offsetHeight||"none"==b.style.display});b.jgrid._multiselect=!1;if(b.ui&&b.ui.multiselect){if(b.ui.multiselect.prototype._setSelected){var o=b.ui.multiselect.prototype._setSelected;b.ui.multiselect.prototype._setSelected=function(a,d){var c=o.call(this,a,d);if(d&&this.selectedList){var e=this.element;this.selectedList.find("li").each(function(){b(this).data("optionLink")&&b(this).data("optionLink").remove().appendTo(e)})}return c}}b.ui.multiselect.prototype.destroy&&(b.ui.multiselect.prototype.destroy=function(){this.element.show();this.container.remove();b.Widget===void 0?b.widget.prototype.destroy.apply(this,arguments):b.Widget.prototype.destroy.apply(this,arguments)});b.jgrid._multiselect=!0}b.jgrid.extend({sortableColumns:function(a){return this.each(function(){function d(){c.p.disableClick=true}var c=this,e=b.jgrid.jqID(c.p.id),e={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+e+"_cb,#jqgh_"+e+"_rn,#jqgh_"+e+"_subgrid),:hidden)",placeholder:{element:function(a){return b(document.createElement(a[0].nodeName)).addClass(a[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(b,a){a.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10));a.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}},update:function(a,e){var d=b(e.item).parent(),d=b(">th",d),f={},g=c.p.id+"_";b.each(c.p.colModel,function(b){f[this.name]=b});var j=[];d.each(function(){var a=b(">div",this).get(0).id.replace(/^jqgh_/,"").replace(g,"");f.hasOwnProperty(a)&&j.push(f[a])});b(c).jqGrid("remapColumns",j,true,true);b.isFunction(c.p.sortable.update)&&c.p.sortable.update(j);setTimeout(function(){c.p.disableClick=false},50)}};if(c.p.sortable.options){b.extend(e,c.p.sortable.options)}else{if(b.isFunction(c.p.sortable)){c.p.sortable={update:c.p.sortable}}}if(e.start){var g=e.start;e.start=function(b,a){d();g.call(this,b,a)}}else{e.start=d}if(c.p.sortable.exclude){e.items=e.items+(":not("+c.p.sortable.exclude+")")}a.sortable(e).data("sortable").floating=true})},columnChooser:function(a){function d(a,c){a&&(typeof a=="string"?b.fn[a]&&b.fn[a].apply(c,b.makeArray(arguments).slice(2)):b.isFunction(a)&&a.apply(c,b.makeArray(arguments).slice(2)))}var c=this;if(!b("#colchooser_"+b.jgrid.jqID(c[0].p.id)).length){var e=b('<div id="colchooser_'+c[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),g=b("select",e),a=b.extend({width:420,height:240,classname:null,done:function(b){b&&c.jqGrid("remapColumns",b,true)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(a){var c={};c[a.bSubmit]=function(){a.apply_perm();a.cleanup(false)};c[a.bCancel]=function(){a.cleanup(true)};return b.extend(true,{buttons:c,close:function(){a.cleanup(true)},modal:a.modal||false,resizable:a.resizable||true,width:a.width+20},a.dialog_opts||{})},apply_perm:function(){b("option",g).each(function(){this.selected?c.jqGrid("showCol",i[this.value].name):c.jqGrid("hideCol",i[this.value].name)});var e=[];b("option:selected",g).each(function(){e.push(parseInt(this.value,10))});b.each(e,function(){delete m[i[parseInt(this,10)].name]});b.each(m,function(){var b=parseInt(this,10);var a=e,c=b;if(c>=0){var d=a.slice(),i=d.splice(c,Math.max(a.length-c,c));if(c>a.length){c=a.length}d[c]=b;e=d.concat(i)}else{e=void 0}});a.done&&a.done.call(c,e)},cleanup:function(b){d(a.dlog,e,"destroy");d(a.msel,g,"destroy");e.remove();b&&a.done&&a.done.call(c)},msel_opts:{}},b.jgrid.col,a||{});if(b.ui&&b.ui.multiselect&&a.msel=="multiselect"){if(!b.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}a.msel_opts=b.extend(b.ui.multiselect.defaults,a.msel_opts)}a.caption&&e.attr("title",a.caption);if(a.classname){e.addClass(a.classname);g.addClass(a.classname)}if(a.width){b(">div",e).css({width:a.width,margin:"0 auto"});g.css("width",a.width)}if(a.height){b(">div",e).css("height",a.height);g.css("height",a.height-10)}var i=c.jqGrid("getGridParam","colModel"),q=c.jqGrid("getGridParam","colNames"),m={},f=[];g.empty();b.each(i,function(a){m[this.name]=a;this.hidedlg?this.hidden||f.push(a):g.append("<option value='"+a+"' "+(this.hidden?"":"selected='selected'")+">"+b.jgrid.stripHtml(q[a])+"</option>")});var n=b.isFunction(a.dlog_opts)?a.dlog_opts.call(c,a):a.dlog_opts;d(a.dlog,e,n);n=b.isFunction(a.msel_opts)?a.msel_opts.call(c,a):a.msel_opts;d(a.msel,g,n)}},sortableRows:function(a){return this.each(function(){var d=this;if(d.grid&&!d.p.treeGrid&&b.fn.sortable){a=b.extend({cursor:"move",axis:"y",items:".jqgrow"},a||{});if(a.start&&b.isFunction(a.start)){a._start_=a.start;delete a.start}else{a._start_=false}if(a.update&&b.isFunction(a.update)){a._update_=a.update;delete a.update}else{a._update_=false}a.start=function(c,e){b(e.item).css("border-width","0px");b("td",e.item).each(function(b){this.style.width=d.grid.cols[b].style.width});if(d.p.subGrid){var g=b(e.item).attr("id");try{b(d).jqGrid("collapseSubGridRow",g)}catch(i){}}a._start_&&a._start_.apply(this,[c,e])};a.update=function(c,e){b(e.item).css("border-width","");d.p.rownumbers===true&&b("td.jqgrid-rownum",d.rows).each(function(a){b(this).html(a+1+(parseInt(d.p.page,10)-1)*parseInt(d.p.rowNum,10))});a._update_&&a._update_.apply(this,[c,e])};b("tbody:first",d).sortable(a);b("tbody:first",d).disableSelection()}})},gridDnD:function(a){return this.each(function(){function d(){var a=b.data(c,"dnd");b("tr.jqgrow:not(.ui-draggable)",c).draggable(b.isFunction(a.drag)?a.drag.call(b(c),a):a.drag)}var c=this,e,g;if(c.grid&&!c.p.treeGrid&&b.fn.draggable&&b.fn.droppable){b("#jqgrid_dnd")[0]===void 0&&b("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>");if(typeof a=="string"&&a=="updateDnD"&&c.p.jqgdnd===true){d()}else{a=b.extend({drag:function(a){return b.extend({start:function(e,d){var f;if(c.p.subGrid){f=b(d.helper).attr("id");try{b(c).jqGrid("collapseSubGridRow",f)}catch(g){}}for(f=0;f<b.data(c,"dnd").connectWith.length;f++){b(b.data(c,"dnd").connectWith[f]).jqGrid("getGridParam","reccount")=="0"&&b(b.data(c,"dnd").connectWith[f]).jqGrid("addRowData","jqg_empty_row",{})}d.helper.addClass("ui-state-highlight");b("td",d.helper).each(function(b){this.style.width=c.grid.headers[b].width+"px"});a.onstart&&b.isFunction(a.onstart)&&a.onstart.call(b(c),e,d)},stop:function(e,d){var f;if(d.helper.dropped&&!a.dragcopy){f=b(d.helper).attr("id");f===void 0&&(f=b(this).attr("id"));b(c).jqGrid("delRowData",f)}for(f=0;f<b.data(c,"dnd").connectWith.length;f++){b(b.data(c,"dnd").connectWith[f]).jqGrid("delRowData","jqg_empty_row")}a.onstop&&b.isFunction(a.onstop)&&a.onstop.call(b(c),e,d)}},a.drag_opts||{})},drop:function(a){return b.extend({accept:function(a){if(!b(a).hasClass("jqgrow")){return a}a=b(a).closest("table.ui-jqgrid-btable");if(a.length>0&&b.data(a[0],"dnd")!==void 0){a=b.data(a[0],"dnd").connectWith;return b.inArray("#"+b.jgrid.jqID(this.id),a)!=-1?true:false}return false},drop:function(e,d){if(b(d.draggable).hasClass("jqgrow")){var f=b(d.draggable).attr("id"),f=d.draggable.parent().parent().jqGrid("getRowData",f);if(!a.dropbyname){var g=0,j={},h,l,p=b("#"+b.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(l in f){if(f.hasOwnProperty(l)){h=p[g].name;h=="cb"||h=="rn"||h=="subgrid"||f.hasOwnProperty(l)&&p[g]&&(j[h]=f[l]);g++}}f=j}catch(o){}}d.helper.dropped=true;if(a.beforedrop&&b.isFunction(a.beforedrop)){h=a.beforedrop.call(this,e,d,f,b("#"+b.jgrid.jqID(c.p.id)),b(this));h!==void 0&&h!==null&&typeof h=="object"&&(f=h)}if(d.helper.dropped){var k;if(a.autoid){if(b.isFunction(a.autoid)){k=a.autoid.call(this,f)}else{k=Math.ceil(Math.random()*1000);k=a.autoidprefix+k}}b("#"+b.jgrid.jqID(this.id)).jqGrid("addRowData",k,f,a.droppos)}a.ondrop&&b.isFunction(a.ondrop)&&a.ondrop.call(this,e,d,f)}}},a.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5000},dragcopy:false,dropbyname:false,droppos:"first",autoid:true,autoidprefix:"dnd_"},a||{});if(a.connectWith){a.connectWith=a.connectWith.split(",");a.connectWith=b.map(a.connectWith,function(a){return b.trim(a)});b.data(c,"dnd",a);c.p.reccount!="0"&&!c.p.jqgdnd&&d();c.p.jqgdnd=true;for(e=0;e<a.connectWith.length;e++){g=a.connectWith[e];b(g).droppable(b.isFunction(a.drop)?a.drop.call(b(c),a):a.drop)}}}}})},gridResize:function(a){return this.each(function(){var d=this,c=b.jgrid.jqID(d.p.id);if(d.grid&&b.fn.resizable){a=b.extend({},a||{});if(a.alsoResize){a._alsoResize_=a.alsoResize;delete a.alsoResize}else{a._alsoResize_=false}if(a.stop&&b.isFunction(a.stop)){a._stop_=a.stop;delete a.stop}else{a._stop_=false}a.stop=function(e,g){b(d).jqGrid("setGridParam",{height:b("#gview_"+c+" .ui-jqgrid-bdiv").height()});b(d).jqGrid("setGridWidth",g.size.width,a.shrinkToFit);a._stop_&&a._stop_.call(d,e,g)};a.alsoResize=a._alsoResize_?eval("("+("{'#gview_"+c+" .ui-jqgrid-bdiv':true,'"+a._alsoResize_+"':true}")+")"):b(".ui-jqgrid-bdiv","#gview_"+c);delete a._alsoResize_;b("#gbox_"+c).resizable(a)}})}})})(jQuery);
(function(a){a.jgrid=a.jgrid||{};a.extend(a.jgrid,{defaults:{recordtext:"{0} - {1}\u3000共 {2} 条",emptyrecords:"无数据显示",loadtext:"读取中...",pgtext:" {0} 共 {1} 页"},search:{caption:"搜索...",Find:"查找",Reset:"重置",odata:[{oper:"eq",text:"等于\u3000\u3000"},{oper:"ne",text:"不等\u3000\u3000"},{oper:"lt",text:"小于\u3000\u3000"},{oper:"le",text:"小于等于"},{oper:"gt",text:"大于\u3000\u3000"},{oper:"ge",text:"大于等于"},{oper:"bw",text:"开始于"},{oper:"bn",text:"不开始于"},{oper:"in",text:"属于\u3000\u3000"},{oper:"ni",text:"不属于"},{oper:"ew",text:"结束于"},{oper:"en",text:"不结束于"},{oper:"cn",text:"包含\u3000\u3000"},{oper:"nc",text:"不包含"},{oper:"nu",text:"不存在"},{oper:"nn",text:"存在"}],groupOps:[{op:"AND",text:"所有"},{op:"OR",text:"任一"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"添加记录",editCaption:"编辑记录",bSubmit:"提交",bCancel:"取消",bClose:"关闭",saveData:"数据已改变，是否保存？",bYes:"是",bNo:"否",bExit:"取消",msg:{required:"此字段必需",number:"请输入有效数字",minValue:"输值必须大于等于 ",maxValue:"输值必须小于等于 ",email:"这不是有效的e-mail地址",integer:"请输入有效整数",date:"请输入有效时间",url:"无效网址。前缀必须为 ('http://' 或 'https://')",nodefined:" 未定义！",novalue:" 需要返回值！",customarray:"自定义函数需要返回数组！",customfcheck:"必须有自定义函数!"}},view:{caption:"查看记录",bClose:"关闭"},del:{caption:"删除",msg:"删除所选记录？",bSubmit:"删除",bCancel:"取消"},nav:{edittext:"",edittitle:"编辑所选记录",addtext:"",addtitle:"添加新记录",deltext:"",deltitle:"删除所选记录",searchtext:"",searchtitle:"查找",refreshtext:"",refreshtitle:"刷新表格",alertcap:"注意",alerttext:"请选择记录",viewtext:"",viewtitle:"查看所选记录"},col:{caption:"选择列",bSubmit:"确定",bCancel:"取消"},errors:{errcap:"错误",nourl:"没有设置url",norecords:"没有要处理的记录",model:"colNames 和 colModel 长度不等！"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["日","一","二","三","四","五","六","星期日","星期一","星期二","星期三","星期四","星期五","星期六"],monthNames:["一","二","三","四","五","六","七","八","九","十","十一","十二","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],AmPm:["am","pm","上午","下午"],S:function(b){return b<11||b>13?["st","nd","rd","th"][Math.min((b-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"Y-m-d",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:false},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:true},idName:"id"}})})(jQuery);